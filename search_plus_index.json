{"./":{"url":"./","title":"说明","keywords":"","body":"说明 I. 学习笔记 II. 个人使用记录 III. 佛经学习 "},"notes/html5.html":{"url":"notes/html5.html","title":"HTML5","keywords":"","body":"HTML5 新语义标签 网页布局结构标签及兼容处理 HTML5 语义元素 多媒体标签及属性介绍 HTML 视频 视频 属性：controls 显示控制栏 属性：autoplay 自动播放 属性：loop 设置循环播放 音频 属性：controls 显示控制栏 属性：autoplay 自动播放 属性：loop 设置循环播放 新表单元素及属性 智能表单控件 表单属性 form属性： autocomplete=on | off 自动完成 novalidate=true | false 是否关闭校验 input属性： autofocus ： 自动获取焦点 form： multiple： 实现多选效果 placeholder ： 占位符 （提示信息） required ： 必填项 list 12312 12312 12312 12312 API 获取页面元素及类名操作和自定义属性 //选择器： 可以是css中的任意一种选择器 //通过该选择器只能选中第一个元素。 document.querySelector(\"选择器\")； //与document.querySelector区别： querySelectorAll 可以选中所有符合选择器规则的元素，返回的是一个列表。 //querySelector返回的只是单独的一个元素 document.querySelectorAll(\"选择器\"); Dom.classList.add(\"类名\"); //给当前dom元素添加类样式 Dom.classList.remove(\"类名\"); //给当前dom元素移除类样式 classList.contains(\"类名\"); //检测是否包含类样式 classList.toggle(\"active\"); //切换类样式（有就删除，没有就添加） 自定义属性 data-自定义属性名在标签中，以data-自定义名称 获取自定义属性 Dom.dataset 返回的是一个对象 Dom.dataset.属性名 或者 Dom.dataset[属性名]1 Dom.dataset.自定义属性名=值 或者 Dom.dataset[自定义属性名]=值； 文件读取 FileReader FileReader 接口有3个用来读取文件方法返回结果在result中 readAsBinaryString ---将文件读取为二进制编码 readAsText ---将文件读取为文本 readAsDataURL ---将文件读取为DataURL FileReader 提供的事件模型 onabort 中断时触发 onerror 出错时触发 onload 文件读取成功完成时触发 onloadend 读取完成触发，无论成功或失败 onloadstart 读取开始时触发 onprogress 读取中 获取网络状态 获取当前网络状态 window.navigator.onLine 返回一个布尔值 网络状态事件 window.ononline window.onoffline 获取地理定位 获取一次当前位置 window.navigator.geolocation.getCurrentPosition(success,error); 1. coords.latitude 维度 2. coords.longitude 经度 实时获取当前位置 window.navigator.geolocation.watchPosition(success,error); 本地存储 localStorage： 永久生效 多窗口共享 容量大约为20M window.localStorage.setItem(key,value) //设置存储内容 window.localStorage.getItem(key) //获取内容 window.localStorage.removeItem(key) //删除内容 window.localStorage.clear() //清空内容 sessionStorage： 生命周期为关闭当前浏览器窗口 可以在同一个窗口下访问 数据大小为5M左右 window.sessionStorage.setItem(key,value) window.sessionStorage.getItem(key) window.sessionStorage.removeItem(key) window.sessionStorage.clear() Canvas 绘图方法 var ctx=document.getElementById(\"myCanvas\"); ctx.moveTo(x,y) //落笔 ctx.lineTo(x,y) //连线 ctx.stroke(); //描边 ctx.beginPath(); //开启新的图层 样式： strokeStyle=\"值\" 线宽： linewidth=\"值\" 备注：不需要带单位 线连接方式： lineJoin: round | bevel | miter (默认) 线帽（线两端的结束方式）： lineCap: butt(默认值) | round | square ctx.closePath(); //闭合路径 渐变方案 线性渐变 var grd=ctx.createLinearGradient(x0,y0,x1,y1); x0-->渐变开始的x坐标 y0-->渐变开始的y坐标 x1-->渐变结束的x坐标 y1-->渐变结束的y坐标 grd.addColorStop(0,\"black\"); //设置渐变的开始颜色 grd.addColorStop(0.1,\"yellow\"); //设置渐变的中间颜色 grd.addColorStop(1,\"red\"); //设置渐变的结束颜色 ctx.strokeStyle=grd; ctx.stroke(); 备注：渐变的开始位置和结束位置介于0-1之间，0代表开始，1代表结束。中间可以设置任何小数 径向渐变 ctx.createradialGradient(x0,y0,r0,x1,y1,r1); (x0,y0)：渐变的开始圆的 x,y 坐标 r0：开始圆的半径 (x1,y1)：渐变的结束圆的 x,y 坐标 r1：结束圆的半径 填充效果 ctx.fill(); //设置填充效果 ctx.fillstyle=\"值\"; //设置填充颜色 非零环绕原则 绘制一个如下图形 非零环绕原则： 任意找一点，越简单越好 以点为圆心，绘制一条射线，越简单越好（相交的边越少越好） 以射线为半径顺时针旋转，相交的边同向记为+1，反方向记为-1，如果相加的区域等于0，则不填充。 非零区域填充 绘制虚线 原理： 设置虚线其实就是设置实线与空白部分直接的距离,利用数组描述其中的关系 例如： [10,10] 实线部分10px 空白部分10px 例如： [10,5] 实线部分10px 空白部分5px 例如： [10,5,20] 实线部分10px 空白5px 实线20px 空白部分10px 实线5px 空白20px.... 绘制： ctx.setLineDash(数组); ctx.stroke(); ctx.moveTo(100, 100); ctx.lineTo(300, 100); ctx.setLineDash([2,4]); ctx.stroke(); 注意： 如果要将虚线改为实线，只要将数组改为空数组即可。 绘制动画效果 绘制一个描边矩形： content.strokeRect(x,y,width,height) 绘制一个填充矩形： content.fillRect(x,y,width,height) 清除：content.clearRect(x,y,width,height) 实现动画效果： 先清屏 绘制图形 处理变量 绘制文本 绘制填充文本 content.fillText(文本的内容,x,y) 绘制镂空文本 content.strokeText(); 设置文字大小： content.font=\"20px 微软雅黑\" 文字水平对齐方式【文字在圆心点位置的对齐方式】 content.textalign=\"left | right | center\" 文字垂直对齐方式 content.textBaseline=\"top | middle | bottom | alphabetic(默认)\" 文字阴影效果 ctx.shadowColor=\"red\"; 设置文字阴影的颜色 ctx.ShadowOffsetX=值; 设置文字阴影的水平偏移量 ctx.shadowOffsetY=值; 设置文字阴影的垂直偏移量 ctx.shadowBlur=值; 设置文字阴影的模糊度 绘制图片 //将图片绘制到画布的指定位置 content.drawImage(图片对象,x,y); //将图片绘制到指定区域大小的位置 x,y指的是矩形区域的位置，width和height指的是矩形区域的大小 content.drawImage(图片对象,x,y,width,height); content.drawImage(图片对象,sx,sy,swidth,sheight,dx,dy,dwidth,dheight); sx,sy 指的是要从图片哪块区域开始绘制， swidth，sheight 是值 截取图片区域的大小 dx,dy 是指矩形区域的位置，dwidth,dheight是值矩形区域的大小 解决图片绘制到某一个区域的按原比例缩放绘制：绘制宽：绘制高==原始宽：原始高 绘制圆弧 content.arc(x,y,radius,startradian,endradian[,direct]); x,y 圆心的坐标 radius 半径 startradian 开始弧度 endradian 结束弧度 direct 方向（默认顺时针 false） true 代表逆时针 角度 和 弧度的关系： 角度:弧度= 180:pi 0度角: 以圆心为中心向右为0角 顺时针为正，逆时针为负 特殊值 0度 = 0弧度 30度 = π/6 (180度的六分之一) 45度 = π/4 60度 = π/3 90度 = π/2 180度 = π 360度 = 2π 绘制圆上任意点： 公式： x=ox+rcos( 弧度 ) y=oy+r*sin( 弧度 ) ox: 圆心的横坐标 oy: 圆心的纵坐标 r： 圆的半径 平移【坐标系圆点的平移】 ctx.translate(x,y); 通过该方法可以将原点的位置进行重新设置。 translate(x,y) 中不能设置一个值 与moveTo(x,y) 的区别： moveTo(x,y) 指的是将画笔的落笔点的位置改变，而坐标系中的原点位置并没有发生改变 translate(x,y) 是将坐标系中的原点位置发生改变 旋转【坐标系旋转】 ctx.rotate(弧度) 伸缩 ctx.scale(x,y) 备注： 沿着x轴和y轴缩放 x,y 为倍数 例如： 0.5 1 1. 属性名是不包含data-** ↩ "},"notes/css3.html":{"url":"notes/css3.html","title":"CSS3","keywords":"","body":"CSS3 样式 背景 规定背景图片的定位区域 background-origin： padding-box 背景图像相对内边距定位（默认值） border-box 背景图像相对边框定位【以边框左上角为参照进行位置设置】 content-box 背景图像相对内容区域定位【以内容区域左上角为参照进行位置设置】 备注：1. 默认盒子的背景图片是在盒子的内边距左上角对齐设置。 规定背景的绘制区域 background-clip： border-box 背景被裁切到边框盒子位置 【将背景图片在整个容器中显示】 padding-box 背景被裁切到内边距区域【将背景图片在内边距区域（包含内容区域）显示】 content-box 背景被裁切到内容区域【将背景图片在内容区域显示】 规定背景图片的尺寸 background-size： cover contain 边框 box-shadow： 盒子阴影 border-radius： 边框圆角 border-image: 边框图片 /* 设置边框图片 */ border-image-source: url(\"2.png\"); /* 边框图片裁切 : 不需要带单位*/ border-image-slice: 20; /* 设置边框图片的平铺方式 */ /* border-image-repeat: stretch; */ border-image-repeat: round; /* border-image-repeat: repeat; */ border-image-width: 20px; 文本 text-shadow： 设置文本阴影 选择器 属性选择器： [属性名=值] {} [属性名] {} 匹配对应的属性即可 [属性名^=值] {} 以值开头 [属性名*=值] {} 包含 [属性名$=值] {} 以值结束 结构伪类选择器： :first-child {} 选中父元素中第一个子元素 :last-child {} 选中父元素中最后一个子元素 :nth-child(n) {} 选中父元素中正数第n个子元素 :nth-last-child(n) {} 选中父元素中倒数第n个子元素 备注： n 的取值大于等于0 n 可以设置预定义的值 odd[选中奇数位置的元素] even【选中偶数位置的元素】 n 可以是一个表达式： an+b的格式 其他选择器： :target 被锚链接指向的时候会触发该选择器 ::selection 当被鼠标选中的时候的样式 ::first-line 选中第一行 ::first-letter 选中第一个字符 颜色渐变 线性渐变： 开始颜色和结束颜色 渐变的方向 渐变的范围 background-image: linear-gradient( to right, red, blue ); 备注： to + right | top | bottom | left 通过角度表示一个方向 0deg [从下向上渐变] 90deg【从左向右】 径向渐变： /* 径向渐变 */ background-image: radial-gradient( 100px at center, red, blue ); 2D转换 位移 transform: translate(100px,100px); 备注： 位移是相对元素自身的位置发生位置改变 旋转 transform: rotate(60deg); 备注： 取值为角度 缩放 transform: scale(0.5,1); 备注：取值为倍数关系，缩小大于0小于1，放大设置大于1 倾斜 transform: skew(30deg,30deg); 备注： 第一个值代表沿着x轴方向倾斜 第二个值代表沿着y轴方向倾斜 3D转换 位移 transform: translateX() translateY() translateZ() 旋转 transform: rotateX(60deg) rotateY(60deg) rotateZ(60deg); 缩放 transform: scaleX(0.5) scaleY(1) scaleZ(1); 倾斜 transform: skewX(30deg) skewY(); 将平面图形转换为立体图形 transform-style: preserve-3d; 动画 过渡 /* 设置哪些属性要参与到过渡动画效果中： all */ transition-property: all; /* 设置过渡执行时间 */ transition-duration: 1s; /* 设置过渡延时执行时间 */ transition-delay: 1s; /* 设置过渡的速度类型 */ transition-timing-function: linear; 自定义动画 /* 1定义动画集 */ @keyframes rotate { /* 定义开始状态 0%*/ from { transform: rotateZ(0deg); } /* 结束状态 100%*/ to { transform: rotateZ(360deg); } } 注意： 如果设置动画集使用的是百分比，那么记住百分比是相对整个动画执行时间的。 伸缩布局或者弹性布局 设置父元素为伸缩盒子【直接父元素】 display： flex 为什么在伸缩盒子中，子元素会在一行上显示？ 子元素是按照伸缩盒子中主轴方向显示 只有伸缩盒子才有主轴和侧轴 主轴： 默认水平从左向右显示 侧轴： 始终要垂直于主轴 设置伸缩盒子主轴方向（flex-direction） flex-direction: row; flex-direction: row-reverse; flex-direction: column; flex-direction: column-reverse; 设置元素在主轴的对齐方式( justify-content) /* 设置子元素在主轴方向的对齐方式 */ justify-content: flex-start; justify-content: flex-end; justify-content: center; justify-content: space-between; justify-content: space-around; 设置元素在侧轴的对齐方式 （align-items） align-items: flex-start; align-items: flex-end; align-items: center; /* 默认值 */ align-items: stretch; 设置元素是否换行显示（flex-wrap） 在伸缩盒子中所有的元素默认都会在一行上显示 如果希望换行：flex-wrap: wrap | nowrap; 设置元素换行后的对齐方式（ align-content） align-content: flex-start; align-content: flex-end; align-content: center; align-content: space-around; align-content: space-between; /* 换行后的默认值 */ align-content: stretch; "},"notes/javascript.html":{"url":"notes/javascript.html","title":"JS","keywords":"","body":"JS学习 数据类型 基本数据类型——值类型：(数字、字符串、布尔值、null、undefined) 复杂数据类型——引用类型：(对象) 数组 函数 正则表达式 Date 对象的基本使用 创建一个对象 var student={ name:\"李白\" , //student有一个name属性，值为\"李白\" grade:\"初一\" , //a、student有一个say属性，值为一个函数 //b、student有一个say方法 say:function(){ console.log(\"你好\"); }, run:function(speed){ console.log(\"正在以\"+speed+\"米/秒的速度奔跑\"); } } 对象是键值对的集合：对象是由属性和方法构成的 (ps：也有说法为：对象里面皆属性，认为方法也是一个属性) name是属性 grade是属性 say是方法 run是方法 对象属性操作 获取属性 第一种方式：.语法 student.name 获取到name属性的值 student.say 获取到一个函数 第二种方式：[]语法 student[\"name\"] 等价于student.name student[\"say\"] 等价于student.say 两种方式的差异： .语法更方便，但是坑比较多(有局限性) .后面不能使用js中的关键字、保留字(class、this、function。。。) .后面不能使用数字 var obj={}; obj.this=5; //语法错误 obj.0=10; //语法错误 []使用更广泛 o1[变量name] [\"class\"]、[\"this\"]都可以随意使用 obj[\"this\"]=10 obj[3]=50 = obj[\"3\"]=50 [\"[object Array]\"] jquery里面就有这样的实现 [\"{abc}\"] 给对象添加了{abc}属性 设置属性 student[\"gender\"]=\"男\"等价于student.gender=\"男\" 含义：如果student对象中没有gender属性，就添加一个gender属性，值为\"男\" 如果student对象中有gender属性，就修改gender属性的值为\"男\" 案例1：student.isFemale=true 案例2：student[\"children\"]=[1,2,5] 案例3： student.toShanghai=function(){ console.log(\"正在去往上海的路上\") } 删除属性 delete student[\"gender\"] delete student.gender 通过构造函数创建对象 构造函数创建对象的例子 var xiaoming = new Object() --> var xiaoming = {}; var now = new Date() var rooms = new Array(1,3,5) --> var rooms = [1,3,5] var isMale=/123/; ==> var isMale=new RegExp(\"123\") isMale是通过RegExp构造函数创建出来的对象 isMale是RegExp构造函数的实例 以上例子中，Object、Date、Array都是内置的构造函数 自定义一个构造函数来创建对象 构造函数 function Person(name,age){ this.name=name; this.age=age; } var p1=new Person(\"赵云\",18) 说明：p1就是根据【Person构造函数】创建出来的对象 构造函数的概念 任何函数都可以当成构造函数 function CreateFunc(){ } 只要把一个函数通过new的方式来进行调用，我们就把这一次函数的调用方式称之为：构造函数的调用 new CreateFunc(); 此时CreateFunc就是一个构造函数 CreateFunc(); 此时的CreateFunc并不是构造函数 new Object()等同于对象字面量{} 构造函数的执行过程 创建一个对象var p1=new Person(); (我们把这个对象称之为Person构造函数的实例)- _p1 创建一个内部对象，this，将this指向该实例(_p1) 执行函数内部的代码，其中，操作this的部分就是操作了该实例(_p1) 返回值： a、如果函数没有返回值(没有return语句)，那么就会返回构造函数的实例(p1) b、如果函数返回了一个基本数据类型的值，那么本次构造函数的返回值是该实例(_p1) function fn(){ } var f1=new fn(); //f1就是fn的实例 function fn2(){ return \"abc\"; } var f2=new fn2(); //f2是fn2构造函数的实例 c、如果函数返回了一个复杂数据类型的值，那么本次函数的返回值就是该值 function fn3(){ return [1,3,5]; //数组是一个对象类型的值， //所以数组是一个复杂数据类型的值 //本次构造函数的真正返回值就是该数组 //不再是fn3构造函数的实例 } var f3=new fn3(); //f3还是fn3的实例吗？错 //f3值为[1,3,5] 问题： 如何判断一个数据是否是复杂数据类型？ 使用排除法： 看它的值是不是数字、字符串、布尔值、null、undefined 如果不是以上5种值，那就是复杂数据类型 为什么要理解构造函数的返回值？ String是一个内置函数：a、String() b、new String() 一个函数通过new调用，或者不通过new调用，很多时候会有截然不同的返回值 我们如何分辨出一个对象到底是不是某个构造函数的实例？ var isTrue=xxx instanceof Person 如何识别xxx对象是哪个构造函数的实例？ xxx.proto属性，也是对象，该对象中一般会有一个constructor属性，这个值指向PPP，那么xxx就是PPP的构造函数 typeof运算符不能用来判断对象的构造函数 继承 通过【某种方式】让一个对象可以访问到另一个对象中的属性和方法，我们把这种方式称之为继承 并不是所谓的xxx extends yyy 为什么要使用继承？ 有些对象会有方法(动作、行为)，而这些方法都是函数，如果把这些方法和函数都放在构造函数中声明就会导致内存的浪费 function Person(){ this.say=function(){ console.log(\"你好\") } } var p1=new Person(); var p2=new Person(); console.log(p1.say === p2.say); //false 原型链继承1 Person.prototype.say=function(){ console.log(\"你好\") } 缺点：添加1、2个方法无所谓，但是如果方法很多会导致过多的代码冗余 原型链继承2 Person.prototype={ constructor:Person, say:function(){ console.log(\"你好\"); }, run:function(){ console.log(\"正在进行百米冲刺\"); } } 注意点： a、一般情况下，应该先改变原型对象，再创建对象 b、一般情况下，对于新原型，会添加一个constructor属性，从而不破坏原有的原型对象的结构 拷贝继承(混入继承) 场景：有时候想使用某个对象中的属性，但是又不能直接修改它，于是就可以创建一个该对象的拷贝 var o1 = {age:2}; var o2 = o1; o2.age = 18; 修改了o2对象的age o2对象跟o1对象是同一个对象 o1对象的age属性也被修改了 如下代码中，如果使用拷贝继承对代码进行优化会非常和谐 var o3 = {gender:\"男\",grade=\"初三\",group:\"第五组\",name:\"张三\"}; var o4 = {gender:\"男\",grade=\"初三\",group:\"第五组\",name:\"李四\"}; 已经有了o3对象 创建o3对象的拷贝：for...in循环 //a. 取出o3对象中每个属性 for(var key in o3){ //key是o3中每个属性 //b. 获取到对应属性值 var value = o3[key]; //c. 把属性值放入o4 o4[key] = value; } 修改克隆对象，把该对象的name改为“李四” o4.name=\"李四\"； 浅拷贝和深拷贝 浅拷贝只是拷贝一层属性，没有内部对象 深拷贝其实是利用了递归的原理，将对象的若干层属性拷贝出来 实现： var source={name:\"李白\",age:15} var target={}; target.name=source.name target.age=source.age; 上面的方式很明显无法重用，实际代码编写过程中，很多时候都会使用拷贝继承的方式，所以为了重用，可以编写一个函数把他们封装起来： function extend(target,source){ for(key in source){ target[key]=source[key]; } return target; } extend(target,source) 由于拷贝继承在实际开发中使用场景非常多，所以很多库都对此有了实现 jquery：$.extend es6中有了对象扩展运算符仿佛就是专门为了拷贝继承而生： var source={name:\"李白\",age:15} var target={ ...source } var target2={...source,age:18} 原型式继承 场景： 创建一个纯洁的对象 创建一个继承自某个父对象的子对象 var parent = {age:18,gender:\"男\"}; var student = Object.create(parent); console.log(student) 使用方式： 空对象：Object.create(null) var o1={ say:function(){} } var o2=Object.create(o1); var o3={} o3并不纯洁 借用构造函数实现继承 场景：适用于2种构造函数之间逻辑有相似的情况 原理：函数的call、apply调用方式 局限性：Animal（父类构造函数）的代码必须完全适用于Person（子类构造函数） function Animal(name,age,gender){ this.name=name; this.age=age; this.gender=gener; } function Person(name,age,gender,address){ // Animal.call(this,name,age,gender); //等价于 Animal.apply(this,[name,age,gender]); //this.name=name; //this.age=age; // this.gender=gender; this.address=address; } 寄生继承、寄生组合继承 原型链（家族族谱） 概念：JS里面的对象可能会有父对象，父对象还会有父对象，。。。。。祖先 根本：继承 属性：对象中几乎都会有一个proto属性，指向他的父对象-意义：可以实现让该对象访问到父对象中相关属性 根对象：Object.prototype var arr=[1,3,5] arr.proto：Array.prototype arr.proto.proto找到了根对象 function Animal(){} var cat=new Animal(); //cat.__proto__：Animal.prototype //cat.__proto__.__proto__:根对象 错误的理解：万物继承自Object？ 闭包 变量作用域 变量作用域的概念：就是一个变量可以使用的范围 JS中首先有一个最外层的作用域：称之为全局作用域 JS中还可以通过函数创建出一个独立的作用域，其中函数可以嵌套，所以作用域也可以嵌套 var age=18;//age是全局作用域中 function f1(){ var name=\"张三\";//name是f1函数内部声明的变量，所以作用域在f1内部 console.log(name);//可以访问到name变量 console.log(age);//age是全局作用域，所以也可以访问 } console.log(age);//也可以访问 //多级作用域 //1级作用域 var gender=\"男\"; function fn(){ console.log(age);//age:undefined undefined为初始值，既然有值，说明可以访问 console.log(height);//height不是在该作用域内部声明，故不能访问 //2级作用域 return function(){ //3级作用域 var height=180; } var age=5; } 注意： 变量的声明和赋值是在两个不同的时期的。 fn函数在执行的时候，首先找到函数内部所有变量、函数声明，把他们放在作用域中，给变量一个初始值undefined --变量可以访问 逐行执行代码过程中，如果有赋值语句，对变量进行赋值 作用域链 由于作用域是相对于变量而言的，而如果存在多级作用域，这个变量又来自于哪里？这个问题就需要好好地探究一下了，我们把这个变量的查找过程称之为变量的作用域链 意义：查找变量（确定变量来自于哪里，变量是否可以访问） 简单来说，作用域链可以用以下几句话来概括：(或者说：确定一个变量来自于哪个作用域) 查看当前作用域，如果当前作用域声明了这个变量，就确定结果 查找当前作用域的上级作用域，也就是当前函数的上级函数，看看上级函数中有没有声明 再查找上级函数的上级函数，直到全局作用域为止 如果全局作用域中也没有，我们就认为这个变量未声明(xxx is not defined) function fn(callback){ var age=18; callback(); } fn(function(){ console.log(age); //分析：age变量 //1.查找当前作用域并没有 // 2.查找上一级作用域，全局作用域 }) 注意：看上一级作用域，不是看函数在哪里调用，而是看函数在哪里编写，因为这种特别，我们通常会把作用域说成是词法作用域 举例1： var name=\"张三\"; function f1(){ var name=\"abc\"; console.log(name); } f1(); 举例2： var name=\"张三\"; function f1(){ console.log(name); var name=\"abc\"; } f1(); 举例3： var name=\"张三\"; function f1(){ return function(){ console.log(name); } var name=\"abc\"; } var fn=f1(); fn(); 举例4： var name=\"张三\"; function f1(){ return { say:function(){ console.log(name); var name=\"abc\"; } } } var fn=f1(); 闭包的问题 function fn(){ var a=5; return function(){ a++; console.log(a); } } var f1=fn(); //执行到上一行，fn函数完毕，返回匿名函数 // 一般认为函数执行完毕，变量就会释放 // 但是由于此时由于js引擎发现匿名函数要使用a变量 //所以a变量并不能得到释放 // 而是把a变量放在匿名函数可以访问到的地方去了 f1();//6 f1();//7 f1();//8 function q2(){ var a={}; return function(){ return a; } } var t3=q2(); var o5=t3(); var o6=t3(); console.log(o5==o6);//true var w3=q2(); var o8=w3(); console.log(o5==o8);//false 闭包问题的产生原因 函数执行完毕后，作用域中保留了最新的a变量的值 闭包内存释放 function f1(){ var a=5; return function(){ a++; console.log(a); } } var q1=f1(); //要想释放q1里边保存的a,只能通过释放q1 q1=null;//q1=undefined; 闭包的应用场景 模块化 防止变量被破坏 函数的4种调用方式 函数调用 var age=18; var p={ age:15, say:function(){ console.log(this.age); } } var s1=p.say; s1();//函数调用--> this: window 输出18 结论：函数内部的this指向window 方法调用 var age=18; var p={ age:15, say:function(){ console.log(this.age); } } p.say(); //打印结果15 // function Person(){ this.age = 20; } Person.prototype.run=function(){ console.log(this.age); } var p1=new Person(); p1.run(); //打印结果20 // var clear=function(){ console.log(this.length); } var length=50; var tom={c:clear,length:100}; tom.c();//打印100 this指向tom 结论：由于clear函数被当成tom.c()这种方法的形式调用，所以函数内部的this指向调用该方法的对象：tom new调用（构造函数） //1 function fn(name){ this.name=name; } //通过new关键字来调用的，这种方式就是构造函数调用方式 var _n=new fn(\"小明\"); //2 function jQuery(){ var _init=jQuery.prototype.init; return new _init(); } jQuery.prototype={ constructor:jQuery, length:100, init:function(){ //1.this指向init构造函数的实例 //2.如果本身没有该属性，那么去他的原型对象中去找 //3.如果原型对象中没有，那么就去原型对象的原型对象中查找，最终一直找到根对象(Object.prototype) //4.最终没有找到 ，则属性值为：undefined console.log(this.length); } } jQuery.prototype.init.prototype=jQuery.prototype; jQuery();//结果为100 上下文方式（call,apply,bind） var name=21; function f1(){ console.log(this.name); } f1.call([1,3,5]); f1.apply(this); f1.call(5); //总结 //call函数的第一个参数： //1.如果是一个对象类型，那么函数内部this指向对象 //2.如果是undefined、null,那么函数内部this指向window //3.如果是数字-->this指向new Number(数字)，字符串-->this指向new String(字符串)，布尔，this指向new Boolean(布尔) //bind是ES5(ie9+) var obj={ age:18, run:function(){ setTimeout((function(){ console.log(this.age) }).bind(this),500) //通过执行了bind方法，匿名函数本身并没有执行，只是改变了该函数内部的this的值，指向obj } } obj.run(); //bind基本用法 function speed(){ console.log(this.seconds); } //执行bind方法之后产生了一个新函数，这个新函数里边的逻辑和原来还是一样的，唯一的不同是this指向{seconds:100} var speedBind=speed.bind({seconds:100}); speedBind();//打印100 call和apply都可以改变函数内部this的值 传参的形式不同 function toString(a,b,c){ console.log(a+\" \"+b+\" \"+c); } toString.call(null,1,3,5); toString.apply(null,[1,3,5]) 在ES6的箭头函数之前的时代，想要判断一个函数内部的this指向谁，就是根据上边的四种方式来决定的 bind方法实现 //target表示新函数的内部的this值 Function.prototype._bind=function(target){ //利用闭包创建一个内部函数，返回那个所谓的新函数 return ()=>{ //执行fn里边的逻辑 this.call(target) } //等价于 // var _that=this; // return function(){ // _that.call(target); // } } function fn(){ console.log(this); } var _fn=fn.bind({age:18}); bind方法放在函数的原型中 fn.__proto__ === fn的构造函数.prototype 所有的函数对象的构造函数都是Function "},"notes/es6.html":{"url":"notes/es6.html","title":"ES6","keywords":"","body":"ES6(常用的、重点的) 模板字符串 模板字符串的基本用法 //基本用法 var s1 = ` abc ` var s2 = \" abc \" //模板字符串解决了一些痛点： //字符串拼接 var s3=\" a \"+s1+\" b \"+s2; var s4=` a ${s1} b ${s2}` var s5=` 222 ${s1} ${s2} ` 解构赋值 对象的解构赋值 var obj={name:\"张三\",age:18} var {name,age}=obj; //生成2个变量， // name值来自于obj.name、 // age值来自于obj.age var {name:title}=obj; //生成一个变量：title，值来自于obj.name 函数参数的解构赋值 function f1(obj){ console.log(obj.age); console.log(obj.height) } //等价于 function f1({ age,height }){ console.log(age); console.log(height) } f1({age:5,height:180}) 补充：属性的简写 var a = 3 ; var c = 10; var b = { a,c } ; //b对象有一个a属性，a属性的值，来自于a变量 ， //还有一个c属性，c属性的值来自于c变量 console.log(b);//{a: 3, c: 10} 函数的扩展 rest参数 使用背景：es6的 优点：arguments是伪数组，而rest参数是真数组 function fn(...args){ //验证args是不是数组？ console.log(args instanceof Array);//true console.log(Object.prototype.toString.call(args));//[object Array] console.log(Array.isArray(args)); console.log(args); //数组：[1,2,3,4,5] } fn(1,2,3,4,5) 判断数据类型 typeof只能判断：数字、字符串、布尔、undefined、函数 Object.prototype.toString.call() Array.isArray() isNaN() isInfinity() 箭头函数 场景：用于替换匿名函数 基本用法： //匿名函数 div.onclick=function(){ console.log(\"你好\") } //箭头函数 div.onclick=()=>{ console.log(\"你好\") } 有一个参数的箭头函数 var fn=(a)=>{ console.log(\"abc\"); } //等价于： var fn=a=>{ console.log(\"abc\"); } 有2个及更多参数的箭头函数 var f=(a,b,c)=>{ console.log(\"abc\") } 箭头函数和普通匿名函数有哪些不同？ 函数体内的this对象，就是定义时所在的对象，而不是使用时所在的对象。 不可以当作构造函数，也就是说，不可以使用new命令，否则会抛出一个错误。 不可以使用arguments对象，该对象在函数体内不存在。如果要用，可以用 rest 参数代替。 （不常用）不可以使用yield命令，因此箭头函数不能用作 Generator 函数。 generator函数现在经常用async替代 var p={ age:18, run:()=>{ setTimeout(()=>{ console.log(\"run\",this);//this指向window },100) }, say(){ setTimeout(()=>{ console.log(\"say\",this);//this指向p },100) }, //推荐使用的方式 travel:function(){ setTimeout(()=>{ console.log(\"travel\",this);//this指向p },100) } } 对象的扩展 Object.assign：实现拷贝继承 var source={age:18,height:170,className:\"三年级\"}; var newObj=Object.assign({},source); 对象扩展运算符 var obj1={ age:5,gender:\"男\" } var obj2={ ...obj1 } var obj3={ ...obj1 , age:10 } var s1=[1,3,5,7,9]; var s2=[...s1]; Promise 为什么要有promise：解决回调地狱的问题 回调地狱 $.get(\"/getUser\",function(res){ $.get(\"/getUserDetail\",function(){ $.get(\"/getCart\",function(){ //... }) }) }) function f1(){ return new Promise((resolve)=>{ setTimeout(()=>{ console.log(\"第一步\"); //异步执行完毕，必须告诫外界执行结束 resolve(); },1000) }) } function f2(){ return new Promise((resolve)=>{ setTimeout(()=>{ console.log(\"第二步\"); //到这里异步操作就已经结束了，如何让外界得知 resolve(); },1000) }) } f1().then(res=>{ //return promise对象 return f2(); }).then(res=>{ setTimeout(()=>{ console.log(\"结束\"); },1000) }) Promise函数基本用法 var promise=new Promise((resolve,reject)=>{ $.get(\"/getUser\",res=>{ resolve(res) }) }) promise.then(res=>{ console.log(res); }) Promise函数实现多层回调 new Promise((resolve,reject)=>{ $.get(\"/getUser\",res=>{ resolve(res) }) }).then(res=>{ //用户基本信息 return new Promise(resolve=>{ $.get(\"/getUserDetail\",res=>{ resolve(res) }) }) }).then(res=>{ //用户详情 return new Promise(resolve=>{ $.get(\"/getCart\",res=>{ resolve(res) }) }) }).then(res=>{ //购物车信息 }) Promise函数错误处理 第一种方式 new Promise((resolve,reject)=>{ $.ajax({ url:\"/getUser\", type:\"GET\", success:res=>{ resolve(res); }, error:res=>{ reject(res) } }) }).then(resSuccess=>{ //成功的返回值 },resError=>{ //失败的返回值 }) 第二种方式（推荐使用这一种，reject的错误和代码发生的粗误都可以捕捉到） new Promise((resolve,reject)=>{ $.ajax({ url:\"/getUser\", type:\"GET\", success:res=>{ resolve(res); }, error:res=>{ reject(res) } }) }).then(resSuccess=>{ //成功的返回值 }).catch(resError=>{ //失败的返回值 }) async await可以执行异步操作，但是await必须在async函数内执行 function f1(){ return new Promise((resolve)=>{ setTimeout(()=>{ console.log(\"第一步\"); //异步执行完毕，必须告诫外界执行结束 resolve(); },1000) }) } (async function(){ await f1(); console.log(\"第二步\"); })() async function get(){ console.log('开始执行'); var res = await timer() console.log('执行结束：',res); } function timer(){ return new Promise((resolve,reject)=>{ setTimeout(()=>{ resolve(\"你好\"); },1000) }) } get(); 错误处理，只能使用try-catch function q(){ return new Promise((resolve,reject)=>{ setTimeout(()=>{ reject(\"你好\"); },1000) }) } (async function(){ try{ let res=await q(); console.log(res); }catch(e){ console.log(e); } })() class 定义一个类 class Person { constructor(name,age) { this.name=name; this.age=age; } } //相当于： function Person(name,age){ this.name=name; this.age=age; } 添加实例方法 //不使用class添加实例方法 function Person(){ } Person.prototype.run=()=>{ console.log(\"run\"); } //使用class添加实例方法 class Person { constructor(name,age) { this.name=name; this.age=age; } //定义方法 say() { console.log(\"大家好，我叫：\"+this.name+\"，今年：\"+this.age+\"岁\"); } travel(){ console.log(\"坐着飞机去巴厘岛\"); } } 添加静态方法 class Animal { constructor(){ } static age=18; static born(){ console.log(\"小呆萌出生了\") } } //访问静态方法 Animal.born(); console.log(Animal.age); 类的继承 class Person { constructor(name){ this.name=name; } } class Student extends Person { constructor(name,grade){ super(name); //调用父类构造函数 this.grade=grade; } } module 基本用法 导出模块： //common.js export default { name:\"abc\" } 导入模块： //b.js import common from \"common.js\" console.log( common.name ) //\"abc\" 模块有多个导出 //person.js export const jim = { country :\"France\" } export const tony = { color:\"gray\" } //默认的导出 export default { name:\"abc\" } //index.js import person , { jim , tony } from \"person.js\" //person：{ name:\"abc\" } //jim：{ country :\"France\" } //tony：{ color:\"gray\" } 模块导入导出取别名 //person.js export const tony = { color:\"gray\" } export { tony as Tony } //index.js import { Tony } from \"person.js\" import { Tony as man} from \"person.js\" console.log(man) //{ color:\"gray\" } "},"notes/python.html":{"url":"notes/python.html","title":"Python","keywords":"","body":"python Anaconda 安装配置 下载 注意选择与操作系统匹配的版本，可根据需要下载对应版本Python的Anaconda3 下载地址为：https://www.anaconda.com/download/ 根据安装向导逐步进行，注意安装路径中的文件夹名称不要存在空格 环境变量 系统变量PATH添加D:\\Program\\anaconda3;D:\\Program\\anaconda3\\Scripts;D:\\Program\\anaconda3\\Library\\bin;（根据安装路径确定） 【注意】此图PATH变量中也显示了后续安装过程中添加的信息 测试 测试Python：在cmd中输入Python命令，查看Python版本信息 测试Conda：在cmd中输入conda或pip命令，查看具体信息 conda --version输出版本号说明设置成功 使用 修改清华源 Windows 用户无法直接创建名为 .condarc 的文件，可先执行 conda config --set show_channel_urls yes 生成该文件之后再修改 channels: - defaults show_channel_urls: true default_channels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2 custom_channels: conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud 运行 conda clean -i 清除索引缓存，保证用的是镜像站提供的索引。 管理虚拟环境 创建虚拟环境code conda create -n code python=3 查看所有虚拟环境 conda env list 切换环境 activate code 删除虚拟环境 conda remove -n aiconfig --all 安装ipython conda install -c anaconda ipython 退出虚拟环境deactivate 修改pip源 Windows下和conda一样修改用户目录下的pip目录下的pip.init C:\\Users\\xxx\\pip\\pip.ini [global] index-url=http://mirrors.aliyun.com/pypi/simple/ [install] trusted-host=mirrors.aliyun.com disable-pip-version-check = true timeout = 6000 "},"notes/linux.html":{"url":"notes/linux.html","title":"Linux","keywords":"","body":"linux 目录结构 /：根目录 /bin: /usr/bin: 可执行二进制文件的目录，如常用的命令ls、tar、mv、cat等。 /boot：放置linux系统启动时用到的一些文件，如Linux的内核文件：/boot/vmlinuz，系统引导管理器：/boot/grub。 /dev：存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount /dev/cdrom /mnt。 /etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有 /etc/inittab、/etc/fstab、/etc/init.d、/etc/X11、/etc/sysconfig、/etc/xinetd.d。 /home：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下 /lib: /usr/lib: /usr/local/lib：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。 /lost+fount：系统异常产生错误时，会将一些遗失的片段放置于此目录下。 /mnt: /media：光盘默认挂载点，通常光盘挂载于 /mnt/cdrom 下，也不一定，可以选择任意位置进行挂载。 /opt：给主机额外安装软件所摆放的目录。 /proc：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 /proc/cpuinfo、/proc/interrupts、/proc/dma、/proc/ioports、/proc/net/* 等。 /root：系统管理员root的家目录。 /sbin: /usr/sbin: /usr/local/sbin：放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能\"查看\"而不能设置和使用。 /tmp：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下。 /srv：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内。 /usr：应用程序存放目录，/usr/bin 存放应用程序，/usr/share 存放共享数据，/usr/lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。/usr/local: 存放软件升级包。/usr/share/doc: 系统说明文件存放目录。/usr/share/man: 程序说明文件存放目录。 /var：放置系统执行过程中经常变化的文件，如随时更改的日志文件 /var/log，/var/log/message：所有的登录文件存放目录，/var/spool/mail：邮件存放的目录，/var/run:程序或服务启动后，其PID存放在该目录下。 快捷键 清屏：ctrl+l 在终端在退出锁定：ctrl+c 文件权限 读r：read 写w：write 执行xexecute d rwx rwx rwx 分为三组 文件类型 所有者的权限 用户组的权限 其他用户的权限 所有者 用户组 帮助 命令 --help man 命令 ls命令 ls 文件名查看文件 ls -a 查看所有文件包含隐藏文件 ls -l 以列表形式查看文件，不包含隐藏文件 ls -lh 以列表形式查看文件，不包含隐藏文件 ，按照1024倍数显示{KB MB GB} ls -all以列表形式查看文件，包含隐藏文件 ll 同上 通配符： * 匹配任意多个字符0-256 a* 一个以上字符 256以下 ? 匹配任意一个字符 a？ 两个字符 [a-z] 区间法 匹配a到z的所有字符，只能确定一个字符 [abcde] 穷举法 匹配abcde的所有字符，只能确定一个字符 切换目录 cd 切换到用户主目录 cd ~ 切换到当前用户的主目录 cd .. 切换到上级目录 cd . 切换到当前目录 cd - 切换到上一次目录 创建目录 mkdir 目录名 创建目录 mkdir 目录名 -p 递归创建 rmdir 目录名 目录一定是空的 rm 文件名 删除文件 rm 文件名 -i 删除时询问 rm -r 目录名 递归删除 链接 硬链接 ln 源文件 链接文件 硬链接文件占磁盘空间，但是删除源文件不会影响硬链接文件，与copy类似 无论你修改了哪一个链接之后的文件，两个文件都会改变保持一致，但是拷贝不会 软连接 ln -s 源文件 链接文件 软链接文件不占磁盘空间 但是删除源文件会影响软链接文件 改变软链接文件就是相当于间接的改变了源文件 查看文件时默认链接数为1 如果有链接依次递增 如果创建的软链接文件和源文件在不同的目录下，需要使用绝对路径 vi命令 ctrl+z放到后台 jobs 查看后台 fg 编号 唤醒 按键 功能 ZZ 退出保存 :wq 退出保存 :q! 退出不保存 [n]x 删除光标后 n 个字符 [n]X 删除光标前 n 个字符 D 删除光标所在开始到此行尾的字符 [n]dd 删除从当前行开始的 n 行（准确来讲，是剪切，剪切不粘贴即为删除） [n]yy 复制从当前行开始的 n 行 p 把粘贴板上的内容插入到当前行 dG 删除光标所在开始到文件尾的所有字符 J 将光标所在行和下一行进行合并，中间用空格分隔 . 执行上一次操作 u 撤销前一个命令 gg 定位到行首 G 定位到行尾 :set ic 搜寻时忽略大小写 :set noic 搜寻时不忽略大小写 :set nu 显示行号 :set nonu 不显示行号 a 光标位置右边插入文字 i 光标位置当前处插入文字 o 光标位置下方开启新行 O 光标位置上方开启新行 I 光标所在行首插入文字 A 光标所在行尾插入文字 :r 文件名 在光标下一行插入一个新的文件内容 :s/w1/w2/g 在当前行用w2替换w1 :g/p1/s//p2/g 在整个文本中用p2替换p1 :10,20s/p1/p2/g 第10到20行所有p1用p2代替 /内容 查找字符串，n向下查找，N向上查找 文本搜索 grep '搜索内容' 文件名 参数 -n 显示行号 -v 反选 -i 忽略大小写 通配符 ^a以a为起始的字符搜索文件 a$以a为结尾的字符搜索文件 . 配匹任意一个非换行的字符 *匹配任意字符（大于0的整数） 文件搜索 find 目录 参数 文件名 -name 文件名 -size 大小 -perm rwx 解压缩 tar归档 tar -cvf 归档文件名.tar 文件1 文件2 目录1 目录2 tar解归档 tar -xvf 归档文件名.tar -C 路径 gzip 压缩生成一个【归档文件名.tar.gz】，文件大小小于归档文件大小，【归档文件名.tar】不存在了 gzip 归档文件名.tar gzip -d 解压生成文件【归档文件名.tar】 gzip -d 归档文件名.tar.gz 一步归档压缩 tar -czvf 文件名.tar.gz 文件1 文件2 目录1 目录2 一步解归档压缩 tar -xzvf 文件名.tar.gz -C 路径 bzip2压缩 tar -cjvf 文件名.tar.bz2 文件1 文件2 目录1 目录2 bzip2解压缩 tar -xjvf 文件名.tar.bz2 -C 路径 zip压缩 zip 文件名 文件1 文件2 目录1 目录2 生成一个文件为：文件名.zip unzip解压缩 unzip 文件名.zip -C 路径 查看所有用户 cat /etc/passwd "},"notes/docker.html":{"url":"notes/docker.html","title":"Docker","keywords":"","body":"docker apt默认源修改 备份默认源 cp /etc/apt/sources.list /etc/apt/sourses.list.bak wsl2 ubuntu修改默认源 编辑文件vim /etc/apt/sources.list deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse 更新源 apt-get update apt-get upgrade 安装docker 安装软件包以允许 apt 通过 HTTPS 使用存储库 apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg-agent \\ software-properties-common 添加 Docker 的官方 GPG 密钥 curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - 设置稳定的存储库 add-apt-repository \\ \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) \\ stable\" 更新 apt 包索引 apt-get update docker --version sudo gpasswd -a 用户名 docker docker镜像源修改 vim /etc/docker/daemon.json添加以下内容 { \"registry-mirrors\":[\"https://hub-mirror.c.163.com\",\"https://registry.aliyuncs.com\",\"https://registry.docker-cn.com\",\"https://docker.mirrors.ustc.edu.cn\"] } 启动、停止与重启 sudo service docker start sudo service docker stop sudo service docker restart 镜像相关 查看镜像 docker images 搜索镜像 docker search 镜像名 下载 docker pull 镜像名 删除镜像 按镜像id删除 docker rmi 镜像id 删除所有镜像 docker rmi `docker images -q` docker容器相关 查看容器 查看正在运行的容器 docker ps 查看所有容器 docker ps -a 查看停止的容器 docker ps -f status=exited 创建与启动容器 创建容器命令：docker run -i: 表示运行容器 -t: 表示启动后进入其命令行 --name: 为容器命名 -v: 表示目录的映射关系（宿主机目录:容器的目录） -d: 创建一个守护式容器在后台运行 -p: 表示端口映射（宿主机端口：容器内的映射端口） 交互式方式创建容器 docker run -it --name=容器名称 镜像名称:标签 /bin/bash 守护式创建容器 docker run -di --name=容器名称 镜像名称:标签 登录守护式容器方式 docker exec -it 容器名称或容器id /bin/bash 启动和停止容器 docker start 容器名称或容器id docker stop 容器名称或容器id 将文件拷贝到容器 docker cp 要拷贝的文件或目录 容器名称:容器目录 将文件从容器拷贝出来 docker cp 要拷贝的容器名称:要拷贝的容器目录 本地目录 目录挂载 docker run -di -v 宿主机目录:容器目录 --name=自定义容器名 镜像名:tag 查看容器的ip地址 docker inspect 容器名称（容器id） docker inspect --format='{{.NetworkSettings.IPAddress}}' 容器名 删除容器 docker stop 容器名 docker rm 容器名 备份与迁移 保存为镜像 docker commit nginx mynginx 镜像备份，保存为tar docker save -o mynginx.tar mynginx 恢复与迁移，加载tar文件 docker load -i mynginx.tar Dockerfile Dockerfile是一系列命令和参数构成的脚本，这些命令用于基础镜像并最终创建一个新的镜像。 命令 作用 FROM image_name:tag 定义了使用哪个基础镜像启动构建流程 MAINTAINER user_name 声明镜像的创建者 ENV key value 设置环境变量 RUN command Dockerfile的核心部分 ADD source_dir/file dest_dir/file 将宿主机文件复制到容器内，压缩文件自动解压 WORKDIR path_dir 设置工作目录 以jdk8为例创建Dockerfile mkdir -p /user/local/docker-jdk8 vi Dockerfile 以下为Dockerfile内容： FROM ubuntu MAINTAINER wsj0051 WORKDIR /usr RUN mkdir /usr/local/java ADD jdk*.tar.gz /usr/local/java/ ENV JAVA_HOME /usr/local/java/jdk1.8 ENV JRE_HOME $JAVA_HOME/jre ENV CLASSPATH $JAVA_HOME/bin/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib:$CLASSPATH ENV PATH $JAVA_HOME/bin:$PATH 执行命令构建镜像 docker build -t='jdk1.8' . Docker私有仓库 拉取私有仓库镜像 docker pull registry 启动私有仓库 docker run -di --name=registry -p 5000:5000 registry 浏览器输入地址http://ip:5000/v2/_catalog看到{\"repositories\":[]}表示私有仓库搭建成功并且内容为空 修改/etc/docker/daemon.json {\"insecure-registries\":[\"ip:5000\"]} 将镜像上传到私有仓库 docker tag jdk1.8 ip:5000/jdk1.8 docker push ip:5000/jdk1.8 常用应用安装 tomcat docker run -di --name=mytomcat -p 8080:8080 -v /usr/local/webapps:/usr/local/tomcat/webapps tomcat:7-jre7 nginx docker run -d -p 80:80 --name nginx --restart unless-stopped nginx 将本地的html文件夹复制到nginx下 docker cp html nginx:/usr/share/nginx/ redis docker run -di --name=myredis -p 5379:6379 redis 安装Portainer-CE中文版 Portainer-CE是docker的图形化管理面板，提供一个后台页面方便操作docker。 终端输入命令，一键安装Portainer-CE中文版； docker run -d --restart=always --name=\"portainer\" -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data 6053537/portainer-ce:linux-arm64 code-server docker run -d --restart always --name code-server -p 8090:8080 \\ -v /usr/local/src/appdata/code-server/config:/home/coder/.config \\ -v /home/pi/wsj0051:/home/coder/project \\ -u \"$(id -u):$(id -g)\" \\ -e \"DOCKER_USER=$USER\" \\ -e PASSWORD=******** \\ codercom/code-server:latest php-env肥羊 docker run -d --restart unless-stopped \\ --privileged=true -p 5678:80 \\ --name php-env \\ -v /usr/local/src/appdata/php-env:/var/www/html \\ youshandefeiyang/php-env:arm64 ubuntu docker run --restart=unless-stopped -d \\ --dns=172.17.0.1 -u=0:0 --shm-size=512m \\ -p 6901:6901 -e VNC_PW=password \\ -e VNC_USE_HTTP=0 -e TZ=Asia/Shanghai \\ -v /mnt:/mnt:rslave \\ --name ubuntu \\ \"linkease/desktop-ubuntu-standard-arm64:latest\" xteve docker run -d \\ --restart unless-stopped \\ --name=xteve_guide2go \\ --net=host \\ --log-opt max-size=10m \\ --log-opt max-file=3 \\ -e TZ=\"Asia/Shanghai\" \\ -v /usr/local/src/appdata/xteve/:/root/.xteve:rw \\ -v /usr/local/src/appdata/xteve/_config/:/config:rw \\ -v /usr/local/src/appdata/xteve/_guide2go/:/guide2go:rw \\ -v /tmp/xteve/:/tmp/xteve:rw \\ -v /usr/local/src/appdata/tvheadend/data/:/TVH \\ jjm2473/xteve_guide2go aria2 docker run -d \\ --name aria2-pro \\ --restart unless-stopped \\ --log-opt max-size=1m \\ -e PUID=$UID \\ -e PGID=$GID \\ -e UMASK_SET=022 \\ -e RPC_SECRET=XXXXXX \\ -e RPC_PORT=6800 \\ -e IPV6_MODE=true \\ -p 6800:6800 \\ -e LISTEN_PORT=6888 \\ -p 6888:6888 \\ -p 6888:6888/udp \\ -v /usr/local/src/appdata/aria2/aria2-config:/config \\ -v /mnt/sda1/Public/Downloads:/downloads \\ p3terx/aria2-pro aria2 webUi控制台 参考教程 # bridge 网络模式 docker run -d \\ --name ariang \\ --restart unless-stopped \\ --log-opt max-size=1m \\ -p 6880:6880 \\ p3terx/ariang # host 网络模式（如果你需要使用 IPv6 网络访问，这是最简单的方式） docker run -d \\ --name ariang \\ --log-opt max-size=1m \\ --restart unless-stopped \\ --network host \\ p3terx/ariang --port 6880 --ipv6 安装nextcloud 使用mariadb 先安装数据库mariadb：Docker拉取mariadb镜像并创建容器，进入终端，输入下面的命令并回车运行(先别直接复制输入，下方有说明); docker run -d --name mariadb \\ -p 3306:3306 \\ -e MYSQL_ROOT_PASSWORD=****** \\ -v /usr/local/src/appdata/mariadb:/var/lib/mysql \\ --restart unless-stopped \\ mariadb:10.5.12 说明： MYSQL_ROOT_PASSWORD=123456 设置数据库root账户密码，设置为123456，按需修改。 3344:3306 将mariadb数据库的3306端口映射为3344，按需修改 连接命令同mysqlmysql -u root -p 再安装Nextcloud：Docker拉取nextcloud镜像并创建容器，进入终端，输入下面的命令并回车运行(先别直接复制输入，下方有说明); docker run -d --name nextcloud \\ -p 3333:80 \\ -v /usr/local/src/appdata/nextcloud/html:/var/www/html \\ -v /usr/local/src/appdata/nextcloud/data:/var/www/html/data \\ -v /usr/local/src/appdata/nextcloud/apps:/var/www/html/custom_apps \\ -v /usr/local/src/appdata/nextcloud/config:/var/www/html/config \\ --restart unless-stopped \\ nextcloud 说明： /usr/local/src/appdata/nextcloud/html Nextcloud主文件夹的映射目录，按需修改。 /usr/local/src/appdata/nextcloud/data 实际数据的映射目录，按需修改。 /usr/local/src/appdata/nextcloud/apps 安装/修改的应用程序的映射目录，按需修改。 /usr/local/src/appdata/nextcloud/config 本地配置文件的映射目录，按需修改。 3333:80 将nextcloud的访问端口映射为3333，按需修改。 使用mysql # mysql docker run -d --name mysql \\ -v /usr/local/src/appdata/mysql:/var/lib/mysql \\ -e MYSQL_ROOT_PASSWORD=****** \\ -e MYSQL_DATABASE=nextcloud \\ -e MYSQL_USER=nextcloud \\ -e MYSQL_PASSWORD=****** \\ -p 3307:3306 \\ --restart=always \\ -d mysql/mysql-server -e 代表添加环境变量 MYSQL_ROOT_PASSWORD 是root用户的登录密码 进入mysql容器，并登陆mysql docker exec -it mysql bash mysql -u root -p 创建用户，赋予权限 Create user 'nextcloud'@'%' identified by '*******'; grant all privileges on nextcloud.* to 'nextcloud'@'%'; 开启远程访问权限 use mysql; select host,user from user; alter user 'root'@'%' identified with mysql_native_password by '******'; flush privileges; 开机启动 sudo docker update mysql --restart=always 树莓派64位系统安装nextcloud docker run -d --name nextcloud \\ -v /usr/local/src/appdata/nextcloud/data:/var/www/html \\ --link mysql:mysql \\ --restart=always \\ --privileged=true \\ -p 8888:80 arm64v8/nextcloud 修改配置文件 mkdir /data/nextcloud/config sudo docker cp nextcloud:/var/www/html/config/config.sample.php /data/nextcloud/config/config.sample.php sudo docker cp /data/nextcloud/config/config.php nextcloud:/var/www/html/config/config.php nano /data/nextcloud/config/config.sample.php 修改trusted_domains里的值 1 => preg_match('/cli/i',php_sapi_name())?'127.0.0.1':$_SERVER['SERVER_NAME'] 安装nextcloud客户端 apt install nextcloud-desktop-l10n nextcloud-desktop -y 安装迅雷 默认端口2345 docker run -d --name=xunlei --hostname=mynas --net=host \\ -v /usr/local/src/appdata/xunlei:/xunlei/data \\ -v /mnt/sda1/media/Movies:/xunlei/nas \\ -v /mnt/sda1/Public/Downloads:/xunlei/downloads \\ --restart=unless-stopped \\ --privileged \\ registry.cn-shenzhen.aliyuncs.com/cnk3x/xunlei:latest 安装alist docker run -d --restart=always \\ -v /usr/local/src/appdata/alist:/opt/alist/data \\ -v /mnt/sda1:/opt/alist/mnt \\ -p 5244:5244 \\ -e PUID=0 -e PGID=0 \\ -e UMASK=022 \\ --name=\"alist\" \\ xhofe/alist:latest 安装后查看密码 docker exec -it alist ./alist admin photoprism私人相册 docker run -d --name photoprism \\ -e PHOTOPRISM_ADMIN_PASSWORD=******* \\ -p 2342:2342 \\ -v /usr/local/src/appdata/photoprism:/photoprism/storage \\ -v /mnt/sda1/media/Photos:/photoprism/originals \\ --restart unless-stopped \\ photoprism/photoprism emby docker run \\ --network=bridge \\ -p '8097:8096' \\ -v /usr/local/src/appdata/emby:/config \\ -v /mnt/sda1/media/:/data \\ -e TZ=\"Asia/Shanghai\" \\ --device /dev/dri:/dev/dri \\ -e UID=0 \\ -e GID=0 \\ -e GIDLIST=0 \\ --restart always \\ --name emby \\ -d lovechen/embyserver:latest 1900与xteve端口冲突 8920,7359与jellyfin冲突 jackett docker run -d \\ --name=jackett \\ -e PUID=0 \\ -e PGID=0 \\ -e TZ=Asia/Shanghai \\ -e AUTO_UPDATE=true `#optional` \\ -p 9117:9117 \\ -v /usr/local/src/appdata/jacket:/config \\ --restart unless-stopped \\ linuxserver/jackett:latest qbittorrent docker run -d \\ --name=qbittorrent \\ -e PUID=$UID \\ -e PGID=$GID \\ -e TZ=Asia/Shanghai \\ -e WEBUI_PORT=8081 \\ -p 6881:6881 \\ -p 6881:6881/udp \\ -p 8081:8081 \\ -v /usr/local/src/appdata/qbittorrent/config:/etc/qBittorrent \\ -v /mnt/sda1/Public/Downloads:/downloads \\ --restart unless-stopped \\ linuxserver/qbittorrent:latest jellyfin docker run -d --name=jellyfin -p 8096:8096 \\ -p 8920:8920 -p 7359:7359/udp \\ -v /usr/local/src/appdata/jellyfin/config:/config \\ -v /mnt/sda1/media:/media \\ -v /mnt/sda1/cache:/cache \\ -e TZ=Asia/Shanghai -e PUID=0 -e PGID=0 \\ --device=/dev/dri:/dev/dri \\ --restart unless-stopped \\ --add-host=api.themoviedb.org:13.224.161.90 \\ --add-host=api.themoviedb.org:13.35.8.65 \\ --add-host=api.themoviedb.org:13.35.8.93 \\ --add-host=api.themoviedb.org:13.35.8.6 \\ --add-host=api.themoviedb.org:13.35.8.54 \\ --add-host=image.tmdb.org:138.199.37.230 \\ --add-host=image.tmdb.org:108.138.246.49 \\ --add-host=api.thetvdb.org:13.225.89.239 \\ --add-host=api.thetvdb.org:192.241.234.54 \\ jellyfin/jellyfin:latest 说明： --add-host为容器增加 host 指向，加速海报与影视元数据的搜刮 也可以在容器控制台输入： echo 13.224.161.90 api.themoviedb.org >> /etc/hosts echo 104.16.61.155 image.themoviedb.org >> /etc/hosts echo 13.35.67.86 api.themoviedb.org >> /etc/hosts echo 54.192.151.79 www.themoviedb.org >> /etc/hosts echo 13.225.89.239 api.thetvdb.com >> /etc/hosts echo 13.249.175.212 api.thetvdb.com >> /etc/hosts echo 13.35.161.120 api.thetvdb.com >> /etc/hosts echo 13.226.238.76 api.themoviedb.org >> /etc/hosts echo 13.35.7.102 api.themoviedb.org >> /etc/hosts echo 13.225.103.26 api.themoviedb.org >> /etc/hosts echo 13.226.191.85 api.themoviedb.org >> /etc/hosts echo 13.225.103.110 api.themoviedb.org >> /etc/hosts echo 52.85.79.89 api.themoviedb.org >> /etc/hosts echo 13.225.41.40 api.themoviedb.org >> /etc/hosts echo 13.226.251.88 api.themoviedb.org >> /etc/hosts echo 185.199.111.133 raw.github.com >> /etc/hosts echo 185.199.111.133 raw.githubusercontent.com >> /etc/hosts echo 140.82.114.4 github.com >> /etc/hosts 如果使用 linuxserver/jellyfin 镜像，就把最后一行替换为下行lscr.io/linuxserver/jellyfin:latest 如果使用 nyanmisaka/jellyfin 镜像，最把最后一行替换为下行nyanmisaka/jellyfin:latest #arm不支持 下载字体改名后，字体替换 docker cp DejaVuSans-Bold.ttf jellyfin:/usr/share/fonts/truetype/dejavu/ docker cp DejaVuSansMono-Bold.ttf jellyfin:/usr/share/fonts/truetype/dejavu/ docker cp DejaVuSansMono.ttf jellyfin:/usr/share/fonts/truetype/dejavu/ docker cp DejaVuSans.ttf jellyfin:/usr/share/fonts/truetype/dejavu/ docker cp DejaVuSerif.ttf jellyfin:/usr/share/fonts/truetype/dejavu/ docker cp DejaVuSerif-Bold.ttf jellyfin:/usr/share/fonts/truetype/dejavu/ 设置代理 Docker 代理 在执行docker pull时，是由守护进程dockerd来执行。因此，代理需要配在dockerd的环境中。而这个环境，则是受systemd所管控，因此实际是systemd的配置。 sudo mkdir -p /etc/systemd/system/docker.service.d sudo touch /etc/systemd/system/docker.service.d/proxy.conf 在这个proxy.conf文件（可以是任意*.conf的形式）中，添加以下内容： [Service] Environment=\"HTTP_PROXY=http://proxy.example.com:8080/\" Environment=\"HTTPS_PROXY=http://proxy.example.com:8080/\" Environment=\"NO_PROXY=localhost,127.0.0.1,.example.com\" 其中，proxy.example.com:8080 要换成可用的免密代理。通常使用 cntlm 在本机自建免密代理，去对接公司的代理。可参考《Linux下安装配置Cntlm 代理》。 Container 代理 在容器运行阶段，如果需要代理上网，则需要配置 ~/.docker/config.json。以下配置，只在Docker 17.07及以上版本生效。 { \"proxies\": { \"default\": { \"httpProxy\": \"http://proxy.example.com:8080\", \"httpsProxy\": \"http://proxy.example.com:8080\", \"noProxy\": \"localhost,127.0.0.1,.example.com\" } } } 这个是用户级的配置，除了 proxies，docker login 等相关信息也会在其中。而且还可以配置信息展示的格式、插件参数等。 此外，容器的网络代理，也可以直接在其运行时通过 -e 注入 http_proxy 等环境变量。这两种方法分别适合不同场景。config.json 非常方便，默认在所有配置修改后启动的容器生效，适合个人开发环境。在CI/CD的自动构建环境、或者实际上线运行的环境中，这种方法就不太合适，用 -e 注入这种显式配置会更好，减轻对构建、部署环境的依赖。当然，在这些环境中，最好用良好的设计避免配置代理上网。 Docker Build 代理 虽然 docker build 的本质，也是启动一个容器，但是环境会略有不同，用户级配置无效。在构建时，需要注入 http_proxy 等参数。 docker build . \\ --build-arg \"HTTP_PROXY=http://proxy.example.com:8080/\" \\ --build-arg \"HTTPS_PROXY=http://proxy.example.com:8080/\" \\ --build-arg \"NO_PROXY=localhost,127.0.0.1,.example.com\" \\ -t your/image:tag 注意： 无论是 docker run 还是 docker build，默认是网络隔绝的。如果代理使用的是 localhost:3128 这类，则会无效。这类仅限本地的代理，必须加上 --network host 才能正常使用。而一般则需要配置代理的外部IP，而且代理本身要开启 Gateway 模式。 docker build 代理是在执行前设置的，所以修改后，下次执行立即生效。Container 代理的修改也是立即生效的，但是只针对以后启动的 Container，对已经启动的 Container 无效。 重启生效配置 dockerd 代理的修改比较特殊，它实际上是改 systemd 的配置，因此需要重载 systemd 并重启 dockerd 才能生效。 sudo systemctl daemon-reload sudo systemctl restart docker "},"notes/c.html":{"url":"notes/c.html","title":"C语言","keywords":"","body":"C语言学习 Hello World 新建hello.c文件，输入以下内容 #include int main(void) { printf(\"Hello World\\n\"); return 0; } gcc -o hello.cgi hello.c System系统函数 使用system函数可以调用其他程序 需要使用系统库： 可以用在Linux平台和windows平台，但是调用的命令行不同 C语言编译过程 预处理 gcc -E a.c -o a.i 宏定义展开 头文件展开 删除注释 条件编译 编译 gcc -S a.i -o a.s 检查语法 转化成汇编语言 汇编 gcc -c a.s -o a.o 将汇编语言转化为机器语言 链接 gcc a.o -o a.exe 将库文件链接变成可执行文件 汇编语言 新建项目创建文件 写c语言源代码添加断点，调试执行 程序会停止在断点处，在调试菜单栏中选择窗口，在列表中选择反汇编，查看汇编源代码 //汇编代码 __asm { mov a, 3 mov b, 4 mov eax, a add eax, b mov c, eax } 处理C语言函数的警告 放在程序第一行 #define _CRT_SECURE_NO_WARNINGS 任意位置#pragma warning(disable:4996 项目右击选择属性，在打开对话框中选择C/C++处理器，在预处理器定义中编辑 _CRT_SECURE_NO_WARNINGS linux下没有该错误 "},"other/windows.html":{"url":"other/windows.html","title":"windows","keywords":"","body":"Windows使用记录 cmd查看并设置代理 设置socks代理 set ALL_PROXY socks5://127.0.0.1:10808 配置http代理 set http_proxy=http://127.0.0.1:10809 set https_proxy=http://127.0.0.1:10809 查看代理 netsh winhttp show proxy 清除代理 netsh winhttp reset proxy 上帝模式 新建文件夹，重命名为 上帝模式.{ED7BA470-8E54-465E-825C-99712043E01C} 浏览器主页被篡改修复 任务栏浏览器主页被篡改，右键属性就会看到目标后，有一串网址，删除解决，路径：C:\\Users\\用户名\\AppData\\Roaming\\Microsoft\\Internet Explorer\\Quick Launch\\User Pinned\\TaskBar 高分辨率远程桌面低分辨率屏幕内容过小解决办法 修改注册表：用cmd运行regedit编辑注册表，找到：HKEY_LOCAL_MACHINE > SOFTWARE > Microsoft > Windows > CurrentVersion > SideBySide新建DWORD，命名PreferExternalManifest，并双击设置值为1. 创建文件mstsc.exe.manifest，并放到该路径下：C:\\Windows\\System32 隐藏文件 attrib +s +a +h +r E:\\hide attrib -s -a -h -r E:\\hide 通用路径 win11当前壁纸路径C:\\Users\\用户名\\AppData\\Roaming\\Microsoft\\Windows\\Themes\\CachedFiles\\ hosts文件路径C:\\Windows\\System32\\drivers\\etc windows保护历史记录删除C:\\ProgramData\\Microsoft\\Windows Defender\\Scans\\History\\Service\\DetectionHistory 开机启动C:\\ProgramData\\Microsoft\\Windows\\Start Menu\\Programs\\Startup wsl powershell管理员身份打开，执行以下命令 wsl --install dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart wsl --set-default-version 2 安装适用于 x64 计算机的 WSL2 Linux 内核更新包 在安装的目录下执行以下命令： Invoke-WebRequest -Uri https://wsldownload.azureedge.net/Ubuntu_2004.2020.424.0_x64.appx -OutFile Ubuntu20.04.appx -UseBasicParsing Rename-Item .\\Ubuntu20.04.appx Ubuntu.zip Expand-Archive .\\Ubuntu.zip -Verbose cd .\\Ubuntu\\ .\\ubuntu2004.exe 查看当前安装的wsl wsl --list 注销卸载当前安装的子系统 wsl --unregister Ubuntu 设置代理 adb connect 127.0.0.1:58526 && adb shell \"settings put global http_proxy 'ip route list match 0 table all scope global | cut -F3'：10808\" "},"other/postgresql.html":{"url":"other/postgresql.html","title":"postgresql","keywords":"","body":"postgresql 使用记录 查询获取字段名，字段类型，长度，主键，非空，自增，默认值，描述 使用sql查询 select c.relname as 表名, a.attname as 列名, (case when a.attnotnull = true then true else false end) as 非空, (case when ( select count(pg_constraint.*) from pg_constraint inner join pg_class on pg_constraint.conrelid = pg_class.oid inner join pg_attribute on pg_attribute.attrelid = pg_class.oid and pg_attribute.attnum = any(pg_constraint.conkey) inner join pg_type on pg_type.oid = pg_attribute.atttypid where pg_class.relname = c.relname and pg_constraint.contype = 'p' and pg_attribute.attname = a.attname) > 0 then true else false end) as 主键, concat_ws('', t.typname) as 字段类型, (case when a.attlen > 0 then a.attlen when t.typname='bit' then a.atttypmod else a.atttypmod - 4 end) as 长度, col.is_identity as 自增, col.column_default as 默认值, (select description from pg_description where objoid = a.attrelid and objsubid = a.attnum) as 备注 from pg_class c, pg_attribute a , pg_type t, information_schema.columns as col where c.relname = '表名' and a.attnum>0 and a.attrelid = c.oid and a.atttypid = t.oid and col.table_name=c.relname and col.column_name=a.attname order by c.relname desc, a.attnum asc 命令行查询 \\d tablename 查询函数的详细sql 命令行查询\\sf 函数名 sql查询 select prosrc from pg_proc where proname='function_name' 锁表问题解决 原文链接 查询锁表pid与锁表语句select pid, state, usename, query, query_start from pg_stat_activity where pid in ( select pid from pg_locks l join pg_class t on l.relation = t.oid and t.relkind = 'r' where t.relname = 'lockedtable'); 查找所有活动的被锁的表SELECT pid, state, usename, query, query_start from pg_stat_activity where pid in ( select pid from pg_locks l join pg_class t on l.relation = t.oid and t.relkind = 'r' ); 解锁二选一SELECT pg_cancel_backend(94827); -- session还在，事物回退; SELECT pg_terminate_backend(94827); --session消失，事物回退 "},"other/git.html":{"url":"other/git.html","title":"git","keywords":"","body":"git 配置git 配置全局用户名邮箱信息 git config --global user.name \"your user name\" git config --global user.email \"your email\" 让Git显示颜色 git config --global color.ui true git设置别名 git config --global alias.lg \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)%Creset' --abbrev-commit\" clon代码两种方式 HTTPS的格式为：https://github.com/用户名/仓库名.git SSH的格式为：git@github.com:用户名/仓库名.git git图形化工具sourcetree SSH ssh生成密钥 ssh-keygen -t rsa -C \"your email\" 一个密钥同时在github和gitee使用，修改.ssh目录下config文件 # gitee Host gitee.com HostName gitee.com HostkeyAlgorithms +ssh-rsa PubkeyAcceptedAlgorithms +ssh-rsa PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa # github Host github.com HostName github.com PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa 将公钥配置到github后,验证公钥是否绑定成功 ssh -T git@github.com SSH协议代理设置 修改 ssh 配置文件 ~/.ssh/config Windows ssh 配置文件路径：C:\\Users\\你的用户名\\.ssh\\config Linux ssh 配置文件路径：/home/你的用户名/.ssh/config # 全局 -S 代表走socks代理。 //对于使用git@协议的，可以配置socks5代理 //在~/.ssh/config 文件后面添加几行，没有可以新建一个 //socks5 # 只为特定域名设定 Host github.com User git ProxyCommand connect -S 127.0.0.1:10808 %h %p //http || https Host github.com User git ProxyCommand connect -H 127.0.0.1:1080 %h %p git代理 设置全局代理 //http git config --global https.proxy http://127.0.0.1:10808 //https git config --global https.proxy https://127.0.0.1:10808 //使用socks5代理的 例如ss，ssr 1080是windows下ss的默认代理端口,mac下不同，或者有自定义的，根据自己的改 git config --global http.proxy socks5://127.0.0.1:10808 git config --global https.proxy socks5://127.0.0.1:10808 取消全局代理 git config --global --unset http.proxy git config --global --unset https.proxy 只对github.com使用代理，其他仓库不走代理 git config --global http.https://github.com.proxy socks5://127.0.0.1:10808 git config --global https.https://github.com.proxy socks5://127.0.0.1:10808 取消github代理 git config --global --unset http.https://github.com.proxy git config --global --unset https.https://github.com.proxy "},"other/adb.html":{"url":"other/adb.html","title":"adb","keywords":"","body":"adb adb 连接安卓 adb connect 127.0.0.1:58526 安装apk adb install 目录/安装包.apk 推送文件 adb push ./Download/2023-02-28-231021 /storage/emulated/0/tvbox_backup 使用adb fastboot 线刷 安装adb fastboot工具 sudo apt install adb fastboot 通过USB将您的设备连接到电脑，并验证手机连接 adb devices 重启到fastboot模式 adb reboot-bootloader 以小米为例，下载官方线刷包后解压链接 tar zxvf clover_images_V10.3.2.0.ODJCNXM_20190515.0000.00_8.1_cn_4388d99e5e.tgz 进入解压后的目录 cd clover_images_V10.3.2.0.ODJCNXM_20190515.0000.00_8.1_cn 开始刷机 修改为可执行chmod +x flash_all.sh fastboot模式下再次验证手机连接fastboot devices 执行刷机脚本1sudo sh flash_all.sh 通过 fastboot 安装 Recovery 下载 Recovery - 例如 TWRP。 您可以前往 魔趣下载站 的设备页面，点击 Recovery 下载。 如果没有找到适用于您设备的 Recovery，请借助互联网搜索设备维护者或资深玩家发布的教程。 通过USB将您的设备连接到电脑。 在电脑上打开命令提示符（Windows）或 终端 （Linux 或 macOS）并输入： adb reboot bootloader 您也可以通过组合键启动 fastboot 模式： 关闭设备后，按住音量调低 + 电源键，直到屏幕上方出现“FASTBOOT”字样，然后松开。 一旦设备处于 fastboot 模式，请通过键入以下内容验证您的 PC 是否找到它： fastboot devices 将 Recovery 刷入到您的设备。 fastboot flash recovery twrp-x.x.x-x-x.img # 仅刷入 fastboot boot .\\twrp-x.x.x-x-x.img # 刷入重启到recovery 现在进入 Recovery 模式以验证安装： 关闭设备后，按住音量调高 + 电源键，直到进入 Recovery 模式，然后松开。 通过 Recovery 安装魔趣ROM 下载你想要安装的魔趣ROM包。 可选项，下载第三方扩展包，例如 OpenGapps 如果您尚未进入 Recovery 模式，请重启到 Recovery 模式。 关闭设备后，按住音量调高 + 电源键，直到进入 Recovery 模式，然后松开。 1. 该脚本删除所有数据，可以选择其他sh结尾的脚本，根据名字可以猜到大概意思 ↩ fastboot命令 列出fastboot设备fastboot devices 重启相关fastboot reboot #重启⼿机 fastboot reboot-bootloader #重启到bootloader模式,其实就是再次进入fastboot 擦除相关（erase）fastboot erase boot #擦除boot分区(擦了引导就没了,会卡在第一屏,) fastboot erase recovery #擦除recovery分区 fastboot erase system #擦除system分区(擦了系统就没了,会卡在第二屏) fastboot erase userdata #擦除userdata分区(可擦,清空数据用) fastboot erase cache #擦除cache分区(可擦,清空数据用) 写⼊分区（flash）fastboot flash boot boot.img #写⼊boot分区 fastboot flash init_boot ****.img #写入initboot 安卓13用来刷magisk修补后的文件获得root权限 fastboot flash recovery recovery.img 写⼊recovery分 fastboot flash system system.img #写⼊system分区 win11 wsa安卓相关 adb connect 127.0.0.1:58526 adb shell settings get global http_proxy adb shell \"settings put global http_proxy `ip route list match 0 table all scope global | cut -F3`:10809\" adb shell settings put global http_proxy :0 "},"other/raspberry.html":{"url":"other/raspberry.html","title":"树莓派","keywords":"","body":"树莓派使用记录 系统安装 校验包，解压 sha1sum 2013-09-25-wheezy-raspbian.zip unzip 2013-09-25-wheezy-raspbian.zip 查看当前哪些设备已经挂载,df -h，插入u盘或sd卡再执行一次 为了防止在写入镜像的时候有其他读取或写入，我们需要卸载设备。两个分区都要卸载。 umount /dev/sdb1 umount /dev/sdb2 xz烧录命令(该命令尝试失败) sudo xz -cd kali-2017.3-rpi3-nexmon.img.xz> /dev/sdb 查看烧录进度sudo pkill -USR1 -n -x xz img格式镜像烧录命令如下（亲测成功） sudo dd bs=4M if=2013-09-25-wheezy-raspbian.img of=/dev/sdb 查看烧录进度sudo pkill -USR1 -n -x dd ttl连接 准备一个USB转TTL 修改Sd卡中/boot/config.txt 在最后一行添加enable_uart=1 然后就是连接usb转串口,连接PIN8->RX(USB转TTL)，PIN10->TX(USB转TTL)，PIN14-GND 连接wifi ## To use this file, you should run command \"systemctl disable network-manager\" and reboot system. (Do not uncomment this line!) ## #country=CN #ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev #update_config=1 ## WIFI 1 (Do not uncomment this line!) network={ ssid=\"coolxiaomi\" psk=\"coolxiaomi\" priority=1 id_str=\"wifi-1\" } ## WIFI 2 (Do not uncomment this line!) network={ ssid=\"OpenWrt\" psk=\"********\" priority=2 id_str=\"wifi-2\" } 卸载软件 卸载但不删除配置 apt-get remove packagename 卸载并删除配置 apt-get purge packagename 基础命令 安装软件 apt-get install softname1 softname2 softname3…… 卸载软件 apt-get remove softname1 softname2 softname3…… 卸载并清除配置 apt-get remove –purge softname1 更新软件信息数据库 apt-get update 进行系统升级 apt-get upgrade 搜索软件包 apt-cache search softname1 softname2 softname3…… 安装deb软件包 dpkg -i xxx.deb 删除软件包 dpkg -r xxx.deb 连同配置文件一起删除 dpkg -r –purge xxx.deb 查看软件包信息 dpkg -info xxx.deb 查看文件拷贝详情 dpkg -L xxx.deb 查看系统中已安装软件包信息 dpkg -l 重新配置软件包 dpkg-reconfigure xxx 清除所有已删除包的残馀配置文件 dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P dpkg安裝的可以用apt卸載，反之亦可。 aptitude aptitude update 更新可用的包列表 aptitude upgrade 升级可用的包 aptitude dist-upgrade 将系统升级到新的发行版 aptitude install pkgname 安装包 aptitude remove pkgname 删除包 aptitude purge pkgname 删除包及其配置文件 aptitude search string 搜索包 aptitude show pkgname 显示包的详细信息 aptitude clean 删除下载的包文件 aptitude autoclean 仅删除过期的包文件 基地64位系统 基地64位系统 宝塔虚拟机 启动宝塔虚拟机： ./bt_run 关闭宝塔虚拟机 为了保证虚拟机的数据同步安全，请按照以下步骤操作： 请ssh登录到虚拟机再执行命令 \" init 0 \" 关闭虚拟机 关闭后，需要在宝塔虚拟机目录下执行 \" ./bt_prog \" 命令，检查虚拟机是否已关闭 如果没有任何输出结果，代表虚拟机已正常关闭 如果无法正常关闭虚拟机，请在宝塔虚拟机目录下执行 \" ./bt_prog kill \" 命令 同样记得再次执行 \" ./bt_prog \" 命令，检查虚拟机是否已关闭 自动启动 启用开机自动启动 ./install int 取消开机自动启动 ./install uint 默认参数值: 项目 内容 默认管理端口 28888 默认Web管理用户及密码 openfans/openfans 宝塔虚拟机ssh端口 2222 宝塔虚拟机root默认密码 raspberry 程序快捷目录位置 /usr/share/applications vim不能右键粘贴 编辑 vim 的默认配置文件 vim /usr/share/vim/vim80/defaults.vim 转至第 70 行，找到： if has('mouse') set mouse=a endif 将 set mouse=a 改为：set mouse-=a 输入 :wq 保存即可生效。 启用CecOS-CaaS容器云 ``` 开机自动启动 CecOS CaaS容器云 服务 systemctl enable cecos-caas.service 启动 CecOS CaaS容器云 服务 systemctl start cecos-caas.service ###### 停止 CecOS CaaS容器云 服务 systemctl stop cecos-caas.service 禁止 CecOS CaaS容器云 服务开机启动 systemctl disable cecos-caas.service ``` 桌面版系统单声道改为立体声输出 编辑文件 /usr/share/pulseaudio/alsa-mixer/profile-sets/default.conf 在下面的内容每行最前面添加 \";\" 符号，以注释掉以下内容： ``` [Mapping analog-mono] device-strings = hw:%f channel-map = mono paths-output = analog-output analog-output-lineout analog-output-speaker analog-output-headphones analog-output-headphones-2 analog-output-mono paths-input = analog-input-front-mic analog-input-rear-mic analog-input-internal-mic analog-input-dock-mic analog-input analog-input-mic analog-input-linein analog-input-aux analog-input-video analog-input-tvtuner analog-input-fm analog-input-mic-line analog-input-headset-mic priority = 7 ``` 下面是注释后的内容： ``` ;[Mapping analog-mono] ;device-strings = hw:%f ;channel-map = mono ;paths-output = analog-output analog-output-lineout analog-output-speaker analog-output-headphones analog-output-headphones-2 analog-output-mono ;paths-input = analog-input-front-mic analog-input-rear-mic analog-input-internal-mic analog-input-dock-mic analog-input analog-input-mic analog-input-linein analog-input-aux analog-input-video analog-input-tvtuner analog-input-fm analog-input-mic-line analog-input-headset-mic ;priority = 7 ``` 最后重启系统生效。 安装软件 安装chromium 下载地址 使用sudo dpkg -i *.deb安装，按顺序安装 chromium-codecs-ffmpeg-extra chromium-browser chromium-chromedriver 安装smb sudo apt-get install samba sudo apt-get install samba-common smb共享 接下来修改 Samba 的配置文件，打开 /etc/samba/smb.conf ，在末尾添加以下内容： [share] comment = share for raspbian # 映射的路径 path = /mnt/sda1/ guest ok = no read only = no browsable = yes create mask = 0777 directory mask = 0777 valid users = pi,root smb重启 sudo service smbd restart 挂载硬盘 sudo df -h sudo mount /dev/sda1 /usr/local/src/share 设置硬盘的开机挂载 sudo vi /etc/fstab dev/sda1 /mnt/sda1 ext4 defaults,nofail 0 0 mysql安装 安装mysql sudo apt install mysql-server sudo usermod -d /var/lib/mysql/ mysql 停止、启动命令 sudo service mysql stop sudo service mysql start 连接命令 mysql -u root -p docker 相关 启用和运行Docker服务 默认没有启用 Docker服务，需要手动启动。 开机自动启动Docker服务 systemctl enable docker.service 启动Docker服务 systemctl start docker.service 停止Docker服务 systemctl stop docker.service 禁止Docker服务开机启动 systemctl disable docker.service 打开树莓派终端，输入下面命令获得超级用户权限 sudo -i 软件安装 jellyfin 如果尚未安装APT的HTTPS传输，请执行以下操作： sudo apt install apt-transport-https 导入GPG签名密钥（由Jellyfin团队签名）： wget -O - https://repo.jellyfin.org/debian/jellyfin_team.gpg.key | sudo apt-key add - 在以下位置添加存储库配置/etc/apt/sources.list.d/jellyfin.list： echo \"deb [arch=$( dpkg --print-architecture )] https://repo.jellyfin.org/debian $( lsb_release -c -s ) main\" | sudo tee /etc/apt/sources.list.d/jellyfin.list 也可以直接编辑 /etc/apt/sources.list.d/jellyfin.list deb [arch=armhf] https://repo.jellyfin.org/debian buster main 注意： debian 支持的版本是stretch和buster。具体要根据你树莓派上的版本来设置（通过命令 lsb_release -c -s 查看）。 更新APT存储库： sudo apt update 安装Jellyfin sudo apt install jellyfin 使用您选择的工具管理Jellyfin系统服务： sudo service jellyfin status sudo /etc/init.d/jellyfin stop sudo systemctl restart jellyfin 安装Alist curl -fsSL \"https://alist.nn.ci/v3.sh\" | bash -s install qbittorrent apt update apt install qbittorrent-nox 使用下面的useradd命令来创建我们的新用户。在本指南中，把这个新用户称为qbittorrent。 sudo useradd -r -m qbittorrent 为了确保能够访问新的 “qbittorrent “用户创建的文件，我把 “pi “用户添加到它的组中。将使用usermod命令。在你的Raspberry Pi上运行下面的命令来添加pi用户到qbittorrent组。 sudo usermod -a -G qbittorrent pi 为了在Raspberry Pi上编写qBittorrent软件的这项服务，使用nano文本编辑器。 sudo nano /etc/systemd/system/qbittorrent.service [Unit] Description=qBittorrent After=network.target [Service] Type=forking User=qbittorrent Group=qbittorrent UMask=002 ExecStart=/usr/bin/qbittorrent-nox -d --webui-port=8080 Restart=on-failure [Install] WantedBy=multi-user.target 使用”–webui-port “参数来传递希望Web UI的端口。 启动新创建的qBittorrent服务 sudo systemctl start qbittorrent 验证qBittorrent现在是否在Raspberry Pi上运行。 sudo systemctl status qbittorrent 如果 torrent 客户端按计划运行，应该会看到此命令中出现以下文本。 Active: active (running) 在Raspberry Pi启动时启动。 sudo systemctl enable qbittorrent jackett插件安装 https://ghproxy.com/https://raw.githubusercontent.com/qbittorrent/search-plugins/master/nova3/engines/jackett.py 配置目录 /home/qbittorrent/.local/share/data/qBittorrent/nova3/engines ipv6 cloudflare ddns 参考链接 curl -s -X GET \"https://api.cloudflare.com/client/v4/zones//dns_records?type=AAAA&name=&content=127.0.0.1&page=1&per_page=100&order=type&direction=desc&match=any\" \\ -H \"X-Auth-Email: \" \\ -H \"X-Auth-Key: \" \\ -H \"Content-Type: application/json\" \\ | python -m json.tool #!/bin/bash IP6=$(ip -6 addr show dev eth0 | grep global | awk '{print $2}' | awk -F \"/\" '{print $1}' | awk 'length 定时执行 crontab -e * * * * * /etc/ipv6-ddns.sh > /dev/null 2>&1 "},"other/termux.html":{"url":"other/termux.html","title":"Termux","keywords":"","body":"Termux 访问手机存储 termux-setup-storage 执行上面的命令以后，会跳出一个对话框，询问是否允许 Termux 访问手机存储，点击\"允许\"。 创建软链 直接跳转到手机内存卡对应目录的快捷方式 ln -s /data/data/com.termux/files/home/storage/shared/wsj0051 wsj0051 修改为清华源 使用如下命令行替换官方源为 TUNA 镜像源 sed -i 's@^\\(deb.*stable main\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@' $PREFIX/etc/apt/sources.list sed -i 's@^\\(deb.*games stable\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@' $PREFIX/etc/apt/sources.list.d/game.list sed -i 's@^\\(deb.*science stable\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@' $PREFIX/etc/apt/sources.list.d/science.list apt update && apt upgrade 安装基本工具 pkg update pkg upgrade pkg install vim curl wget git unzip unrar 修改终端配色 sh -c \"$(curl -fsSL https://github.com/Cabbagec/termux-ohmyzsh/raw/master/install.sh)\" 脚本运行后会提示选择背景色和字体 Enter a number, leave blank to not to change: 14 Enter a number, leave blank to not to change: 6 设置色彩样式： 输入 chcolor 命令更换色彩样式，或者执行 ~/.termux/colors.sh 命令 设置字体 运行 chfont 命令更换字体，或者执行 ~/.termux/fonts.sh 命令 zsh插件autosuggestions 根据用户的平时使用习惯，终端会自动提示接下来可能要输入的命令，这个实际使用效率还是比较高的： 拷贝到 plugins 目录下 git clone https://github.com/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions 在 ~/.zshrc 中配置： plugins=(插件名称 zsh-autosuggestions) Termux快捷按键 mkdir $HOME/.termux; echo \"extra-keys = [ \\ ['ESC','','BACKSLASH','=','^','$','()','{}','[]','ENTER'], \\ ['TAB','&',';','/','~','%','*','HOME','UP','END','PGUP'], \\ ['CTRL','FN','ALT','|','-','+','QUOTE','LEFT','DOWN','RIGHT','PGDN'] \\ ] \" >> $HOME/.termux/termux.properties ssh服务 pkg install openssh 安装完成后，sshd 服务默认没有启动，所以得手动启动下： sshd 停止 ssh 服务 pkill sshd 因为手机上面低的端口有安全限制，所以这里 openssh 默认的 sshd 默认的服务端口号为 8022 执行 passwd 命令可以直接修改密码 连接方式： ssh 192.168.31.145 -p 8022 修改启动问候语 vim $PREFIX/etc/motd 如果没有安装vim的话会有提示，根据提示安装：pkg install vim 修改启动语为sh脚本方式 cd $PREFIX/etc vim motd motd内容修改为脚本文件，内容为： #!$PREFIX/bin/bash neofetch 修改后保存并退出，执行以下命令 mv motd profile.d/motd.sh 重复执行问题 如果启动后出现触发两次，将sh文件执行语句放进.zshrc下 mv $PREFIX/etc/profile.d/motd.sh . echo \"$PREFIX/bin/bash ~/motd.sh\" >> ~/.zshrc 修改neofetch配置 cd .config/neofetch vim config.conf 可以修改展示的信息，颜色，修改ascii_distro=\"linux\"将默认的安卓换为linux npm安装http-server npm install -g http-server 然后，运行 Server。 http-server 正常情况下，命令行会提示 Server 已经在 8080 端口运行了，并且还会提示外部可以访问的 IP 地址。 使用ecj termux-tools dx编译java文件 更新资源 pkg update & pkg upgrade 安装所需软件 pkg install ecj termux-tools dx 创建java文件Hello.java public class Hello{ public static void main(String[] args){ System.out.println(\"Hello World!\"); } } 编译java文件 ecj Hello.java 生成安卓虚拟机文件 dx --dex --output=Hello.dex Hello.class 安卓虚拟机运行程序 dalvikvm -cp Hello.dex Hello 更简单方式，创建shell脚本vim ecj.sh #!/usr/bin/sh ecj \"$1.java\" dx --dex --output=\"$1.dex\" \"$1.class\" dalvikvm -cp \"$1.dex\" \"$1\" 执行shell编译java sh ecj.sh Hello 手机通知栏时间打开时分秒 手机通知栏的时间没有精确到秒，手机root后可以打开 使用一键方式安装adb工具 执行以下命令： pkg install tsu adb shell settings put secure clock_seconds 1 使用atilo安装linux 在Termux安装Linux的bash脚本 echo \"deb [trusted=yes] https://yadominjinta.github.io/files/ termux extras\" >> $PREFIX/etc/apt/sources.list pkg in atilo-cn 安装debian atilo pull debian 运行debian atilo run debian 配置apache java环境 在usr/local下创建java文件夹，将下载好的tar文件移动到java目录下，对应手机目录为/data/data/com.termux/files/home/.atilo/debian/usr/local/java 解压jdk和tomcat cd /usr/local/java tar xzf jdk-8u241-linux-arm64-vfp-hflt.tar.gz tar xzf apache-tomcat-9.0.31.tar.gz 以下内容拷进/etc/profile文件末尾 JAVA_HOME=/usr/local/java/jdk1.8.0_241 PATH=$JAVA_HOME/bin:$PATH CLASSPATH=$JAVA_HOME/jre/lib/ext:$JAVA_HOME/lib/tools.jar export PATH JAVA_HOME CLASSPATH 保存退出后执行以下命令让配置生效，使用java -version查看环境变量是否配置成功 source /etc/profile 电脑ssh连接termux sshd SSH 默认配置文件的路径为 $PREFIX/etc/ssh/sshd_config passwd Termux 的 ssh 和常规 Linux 不太一样，连接的时候不需要指定用户名。 也可以使用公钥连接 cat id_rsa.pub > authorized_keys 一键安装tmoe-linux . 备份与恢复 进入目录 cd /data/data/com.termux/files 备份配置文件为 termux-backup.tar.gz： tar -zcf /sdcard/termux-backup.tar.gz home usr 解压提取之前备份的内容，覆盖现存的文件并删除之前的备份文件： tar -zxf /sdcard/termux-backup.tar.gz --recursive-unlink --preserve-permissions 参考链接 国光-Termux 简书 tmoe "},"other/openwrt.html":{"url":"other/openwrt.html","title":"OpenWrt","keywords":"","body":"Openwrt相关 查看openwrt设备的cpu架构 cat /etc/os-release |grep ARCH 查看openwrt已连接网络ip 使用DHCP客户端查看mac地址、ip信息 cat /tmp/dhcp.leases 通过arp查看ip、mac地址、端口 cat /proc/net/arp openwrt关闭led灯 保存为 /etc/rc.d/S99turnoffled #!/bin/ash for i in `ls /sys/class/leds` do cd /sys/class/leds cd $i echo 0 > brightness done 光猫桥接ipv6开启 设置光猫为桥接模式，打开IPV4/IPV6 移动光猫超级管理员 移动光猫账号∶CMCCAdmin 密码∶ aDm8H%MdA 设置软路由或者路由器 有软路由情况下： 网络——接口——IPV6 ULA清空 网络——接口——WAN口——使用内置IPV6管理取消勾选——Obtain IPv6-Address项目确保是自动状态 网络——接口——lan口——DHCP——IPV6设置——高级设置——取消勾选使用内置IPV6管理——取消勾选强制链路 通告的DNS服务器（添加谷歌IPV6DNS）： 2001:4860:4860::8888 2001:4860:4860::8844 在DHCP/DNS——高级设置——取消勾选禁止解析IPV6 DNS记录 设置完成后一定要重启软路由 测试IPV6： https://ipv6-test.com/ https://test-ipv6.com/index.html.zh_CN 非桥接ipv6开启 config dhcp 'lan' option interface 'lan' option start '100' option limit '150' option leasetime '12h' option dhcpv4 'server' option ra_slaac '1' list ra_flags 'managed-config' list ra_flags 'other-config' option ra 'relay' option dhcpv6 'relay' option ndp 'relay' list dns '2001:4860:4860::8888' list dns '2001:4860:4860::8844' config dhcp 'wan' option interface 'wan' option ignore '1' option master '1' option ra 'relay' option dhcpv6 'relay' option ndp 'relay' DDNS设置 Cloudflare 登陆Cloudflare——选择对应的域名——点击DNS——添加记录——类型选择AAAA——记录值填上对应的IPV6地址 获取API令牌：点击概览——点击获取您的API令牌——选择Global API Key——点击查看 在路由器-服务-动态DNS下添加一条记录： DDNS服务提供商：cloudflare.com-v4 点击更改提供者 勾选启用 查询主机名：主机记录.一级域名 IP地址版本： IPv6 地址 域名：主机记录.一级域名 用户名：填写cloudflare账号 #注意检查前面是否有空格 密码：Global API Key #注意检查前面是否有空格 高级设置——网络（IPV6）——选择LAN口 保存&设置 路由器管理界面设置IPV6端口转发，使用网络-Socat 卸载插件 opkg list_installed | grep xteve opkg remove luci-app-xteve - git-25.054.68431-4e7d809 "},"other/tvbox.html":{"url":"other/tvbox.html","title":"TVBox","keywords":"","body":"TVBox APP下载 http://wmdz.com/jk.html https://xhdwc.tk/ IPTV直播源汇总 接口 新蚂蚁窝仓库：https://agit.ai/pinghui/xinghe/raw/branch/master/mayicang.txt 月光影视多线路：https://www.ywsj.cf/upload/2023/10/yyzq4k.json 玉玉软件：http://8.210.232.168/xc.json 饭太硬：http://饭太硬.top/tv 肥猫专用：http://我不是.肥猫.love:63/接口禁止贩卖 神仙影视：https://gitee.com/shenxian2023/web/raw/master/sx.json 小胡：http://www.xzam.cn/xiaohu 太阳：https://tvbox.meitufu.com/TVBox/tv.json 多多专线：https://yydsys.top/duo 小盒酷玩：http://小盒酷玩.fun:66/禁止贩卖 夜猫子：https://download.kstore.space/download/3313/app/ymzn 影探线路：https://jihulab.com/zhulr7765/tvbox/-/raw/main/tv.txt?ref_type=heads 业余专源：https://raw.gitmirror.com/yydfys/yydf/main/yydf/yydf.json 运输车主线：https://weixine.net/ysc.json 运输车加速：https://cf.weixine.net/ysc.json 月光宝盒 http://52bsj.vip:98/cl 春盈：https://wds.ecsxs.com/230989.json 猫技：https://agit.ai/ddx/nmys/raw/branch/master/feimao.json 熊猫不叫猫 https://s2.pub/xmbjmxdc 胖鸭https://agit.ai/cyl518/yl/raw/branch/master/pytv.json 猫影视：https://627784800%40qq.com:an6biyr6hqhz6bd3@dav.jianguoyun.com/dav/%E7%8C%AB%E5%BD%B1%E8%A7%86/%E7%8C%AB%E6%BA%90.json 电视直播搜索引擎 http://tonkiang.us https://streamtest.in https://iptv-org.github.io https://www.foodieguide.com/iptvsearch/ IPTVindex https://www.iptvindex.com IPTV直播源 https://m3u.ibert.me/ https://iptv.b2og.com/ http://owen2000wy.github.io github上IPTV源项目 https://github.com/iptv-org/iptv https://github.com/Moexin/IPTV https://github.com/Meroser/IPTV https://github.com/YanG-1989/m3u https://github.com/Ftindy/IPTV-URL https://github.com/Cyril0563/lanjing_live https://github.com/imDazui/Tvlist-awesome-m3u-m3u8 https://github.com/biancangming/wtv pornIPTV http://adultiptv.net epg相关 https://epg.pw/ "},"other/unfiled.html":{"url":"other/unfiled.html","title":"未分类","keywords":"","body":"未分类 Jenkins 插件下载地址 hpi插件地址 Theme插件 页面自定义 修改jar包jenkins/WEB-INF/lib/jenkins-core-1.651.3.jar文件中的lib/layout/layout.jelly maven安装本地jar mvn install:install-file -Dfile=junit-4.8.1.jar -DgroupId=junit -DartifactId=junit -Dversion=4.8.1 -Dpackaging=jar vscode 正则匹配空白行 ^\\s*(?=\\r?$)\\n BATOCERA 配置文件 wifi.enabled=1 wifi.ssid=wifi1-name wifi.key=******** wifi2.ssid=wifi2-name wifi2.key=******** wifi3.ssid=wifi1-name wifi3.key=******** 康佳电视 - LED55K36U 刷机 电视型号： 主程序软件：99015826 屏幕参数：99016671 刷机步骤 主程序软件，包名：M638Upgrade.bin 将对应的刷机文件放到u盘根目录（u盘要fat32格式，尽量不要用内存卡，刷机文件不要改名） 断电，按住音量+加键(有些机型是信源键)，开电 若刷机后出现双屏 刷屏幕参数，包名： M638PanelUpgrade.bin 按遥控器的音量减键不放，然后通电。 "},"fojing/太上感应篇.html":{"url":"fojing/太上感应篇.html","title":"太上感应篇","keywords":"","body":"太上感应篇 第一部分：总纲 〖原文〗太上曰：“祸福无门，惟人自召；善恶之报，如影随形。” 〖释义〗太上老君说：“祸福没有一定的门径，都是人们自己所感召来的。善与恶的报应，就像是影子紧跟著形体一样，永远都不会分离。” 第二部分：示警（指示、警告我们） 〖原文〗是以天地有司过之神，依人所犯轻重，以夺人算。算减则贫耗，多逢忧患。人皆恶之，刑祸随之，吉庆避之，恶星灾之，算尽则死。 〖释义〗所以天地有主管人间过恶的神明，依照人们所犯的轻重，来削减他们的寿命。寿算被减除之后，就会变得贫穷家破，经常遭遇忧愁灾难。人人都厌恶他。刑罚和灾祸都随之而来。吉祥与喜庆都避开他。恶煞凶星也会降灾给他。寿算减完之后就会死去。 〖原文〗又有三台北斗神君，在人头上，录人罪恶，夺其纪算。又有三尸神，在人身中，每到庚申日，辄上诣天曹，言人罪过。月晦之日，灶神亦然。 〖释义〗还有三台星、北斗星的神君，经常都会在人们的头上，记录人们所犯的罪恶，而依照所犯过恶的轻重，来夺除他的寿命。又有三尸神在人的身上，每当到了庚申日，就会上升到天堂去，奏报人们的罪过。到了阴历每月最后一天，灶神也是一样的。 〖原文〗凡人有过，大则夺纪，小则夺算。其过大小，有数百事，欲求长生者，先须避之。 〖释义〗凡是人们犯了罪过，较大的就被夺除寿命十二年，较小的就被减去一百天。一纪是十二年，一算是一百天。这些过恶，大大小小有几百种，想求长生者必须先避免。 第三部分：善报 〖原文〗是道则进，非道则退。不履邪径，不欺暗室；积德累功，慈心于物；忠孝友悌，正己化人；矜孤恤寡，敬老怀幼；昆虫草木，犹不可伤。宜悯人之凶，乐人之善；济人之急，救人之危。 见人之得，如己之得；见人之失，如己之失。不彰人短，不炫己长；遏恶扬善，推多取少。受辱不怨，受宠若惊；施恩不求报，与人不追悔。 〖释义〗合乎道理的就要前进去做，不合乎道理的就必须退避不为。不走邪恶之途，不在暗处欺人。积聚德业，累进功绩。要将慈悲心扩及万物。对君长要尽忠，对父母要尽孝。兄长友爱弟弟，弟弟尊敬兄长。端正自己，劝化别人。怜悯孤独者，周济鳏寡者，尊敬衰老者，关怀年幼者。昆虫和草木，仍然不可以伤害。应该怜悯他人因作恶所招得的凶祸，赞叹他人因行善所获得的福报。帮助他人的急难，救助他人的危困。看见别人有所得，就如同自己得到一样高兴；看见他人有所损失，就如同自己损失一样难过。不要彰扬别人的短处，不要炫耀自己的长处。阻止恶行，赞扬善行。把多的推让他人，自己则取少的部分。受到侮辱也不怨恨。得到过分的宠爱待遇，感到意外，而不知所措。布施恩惠，不求回报；赠送给他人后，不再追溯后悔。 〖原文〗所谓善人，人皆敬之，天道佑之，福禄随之，众邪远之，神灵卫之，所作必成，神仙可冀。欲求天仙者，当立一千三百善；欲求地仙者，当立三百善。 〖释义〗这里所说的善人。人人都尊敬他，上天也会保佑他，福报官禄会跟随他，众邪都远离他，善神也会保卫他。所作的事必定会成功，神仙的境界可以有达成的希望。想要求证天仙的人，应当积集一千三百件善事；想要求证地仙的人，应当积集三百件善事。 第四部分：恶行（三、四两部分阐述善有善报，恶有恶报，为全经重点） 〖原文〗苟或非义而动，背理而行；以恶为能，忍作残害；阴贼良善，暗侮君亲；慢其先生，叛其所事；诳诸无识，谤诸同学；虚诬诈伪，攻讦宗亲；刚强不仁，狠戾自用； 〖释义〗如果有人违反道义而动了恶念，违背道理而做了恶事。以行恶为能事。忍心去作残害生物的事情。阴谋贼害善良的人。暗中欺骗君王或父母。轻慢教导我们的师长。背叛自己所应服事的上级长官。欺骗愚昧无知的人。毁谤在一起学习的人。用虚假、诬陷、诈骗、欺伪的手段，来攻击他人。揭发宗亲的隐私或过失，而加以攻击。刚烈强横，没有仁道。凶狠乖张，自以为是。 〖原文〗是非不当，向背乖宜；虐下取功，谄上希旨；受恩不感，念怨不休；轻蔑天民，扰乱国政；赏及非义，刑及无辜；杀人取财，倾人取位；诛降戮服，贬正排贤；凌孤逼寡，弃法受赂；以直为曲，以曲为直；入轻为重，见杀加怒；知过不改，知善不为；自罪引他，壅塞方术；讪谤圣贤，侵凌道德； 〖释义〗对于是非的判断不妥当。对于应该亲近或远离，处理得很不恰当。虐待下民以冒取功劳。谄媚上级长官，以迎合他的意旨。受到人家的恩惠，一点都不思感恩。惦念仇怨，从无停止。轻视欺侮人民。扰乱国家的政务。不合义理地奖赏无关之人。刑罚到不相干的人。杀害人命以夺取财物。设计害人以取得职位。诛杀投降的人，屠戮顺服的人。贬抑正直的人，排挤贤能的人。欺凌孤儿，逼迫寡妇。抛弃法令，接受贿赂。把理直的变成理曲，把理曲的变成理直。应该判轻刑的，却判了重刑。看见有人被杀，非但不予哀怜，反而更加愤怒。知道过失不肯悔改。看见善事不肯去做。自己犯罪，却牵引嫁祸他人。故意阻挠方术，使其不能发展。戏侮毁谤圣贤。侵犯欺凌有道德的人。 〖原文〗射飞逐走，发蜇惊栖；填穴覆巢，伤胎破卵；愿人有失，毁人成功；危人自安，减人自益；以恶易好，以私废公；窃人之能，蔽人之善；形人之丑，讦人之私；耗人财货，离人骨肉；侵人所爱，助人为非；逞志作威，辱人求胜；败人苗稼，破人婚姻； 〖释义〗射杀飞禽，逐捕走兽。挖掘蛰伏于土中的虫，惊扰栖息在树上的鸟。填塞虫蚁居住的洞穴，翻覆禽鸟栖息的鸟巢。伤害胞胎，破坏蛋卵。希望他人失败。毁坏他人成功。让他人承担危险，只顾自己安全。减损他人，自己图利。把不好的换成好的。为了私心而废弃公理。窃取他人的才能。掩蔽他人的善行。显露他人的丑事。揭发他人的隐私。减损他人的货物与钱财。离散他人的骨肉。侵夺他人所喜爱的东西。帮助他人做坏事。任意自作威势，欺凌他人。侮辱他人以求胜利。毁坏他人的农作物。破坏别人的婚姻。 〖原文〗苟富而骄，苟免无耻；认恩推过，嫁祸卖恶；沽买虚誉，包贮险心；挫人所长，护己所短；乘危迫胁，纵暴杀伤；无故剪裁，非礼烹宰；散弃五谷，劳扰众生；破人之家，取其财宝；决水放火，以害民居；紊乱规模，以败人功；损人器物，以穷人用； 〖释义〗如果侥幸得到财富，就骄傲自大。如果不应当免除而侥幸免除，却还毫无羞耻之心。冒认恩德，推卸过失。嫁祸于人，推卸罪恶。买卖虚假的名誉。包藏阴险的心。摧折、抑止他人的长处。掩护自己的短处。利用威势胁迫他人。放纵暴行，杀伤人命。无缘无故剪裁衣布。违背礼法烹宰牲畜。任意抛弃五谷粮食。随便烦劳扰乱百姓。破坏他人的家庭，夺取他的财宝。决断水流，放火焚烧，以毁害他人的房屋。搅乱他人的制度，以败坏他人的成功。损坏他人的器物，造成他人无法使用。 〖原文〗见他荣贵，愿他流贬；见他富有，愿他破散；见他色美，起心私之；负他财货，愿他身死；于求不遂，便生咒恨；见他失便，便说他过 见他体相不具而笑之，见他才能可称而抑之； 〖释义〗看到他人荣华富贵，就希望他被流放贬官。看见他人富有，就希望他家破财散。看见他人姿色美丽，就起淫欲心，想要奸淫他。欠他人的债务，却希望他早日死亡。乞求于人不能顺意，就生发咒骂怨恨。看见他人不顺利时，便说他是罪有应得。见到他人身体残缺不全，就加以讥笑。看到他人的才能值得称赞，却加以贬抑。 〖原文〗埋蛊厌人，用药杀树；恚怒师傅，抵触父兄；强取强求，好侵好夺；掳掠致富，巧诈求迁；赏罚不平，逸乐过节；苛虐其下，恐吓于他； 怨天尤人，诃风骂雨；斗合争讼，妄逐朋党；用妻妾语，违父母训；得新忘故，口是心非；贪冒于财，欺罔其上；造作恶语，谗毁平人；毁人称直，骂神称正；弃顺效逆，背亲向疏； 指天地以证鄙怀，引神明而鉴猥事； 〖释义〗暗中下蛊来毒害人，用毒药来杀害草木。对于师傅的教训，产生怨恨与愤怒。言行冲撞触犯父亲兄长。用强迫的方式取得，以强力向人索取。喜欢用侵占的方式，或用抢夺的方法。用强力抢夺他人的财物而致富。用奸巧诈伪的手段求取升迁。奖赏与惩罚不公平。安逸享乐超过节度。苛刻虐待自己的部属或下人。恐吓他人，使其心生害怕。不检点自己，反而埋怨上天、归咎他人。呵斥风咒骂雨。唆使他人争斗，撮合他人诉讼。任意追随，结盟立社聚成同党。听信妻妾的话语，违背父母的教训。得到新的就忘记旧的。嘴里这样说，心中却不是这么想。贪得无厌冒领钱财，欺瞒他的长上。编造坏话捏作恶事，谗言毁谤平常之人。毁谤他人而自以为正直。辱骂神明而自以为公正。抛弃顺道而效法逆道。背离至亲而心向生疏的人。指著天地，来为自己的卑鄙心怀做见证；引请神明，来鉴察自己的猥亵之事。 〖原文〗施与后悔，假借不还；分外营求，力上施设；淫欲过度，心毒貌慈；秽食喂人，左道惑众；短尺狭度，轻秤小升；以伪杂真，采取奸利；压良为贱，谩蓦愚人；贪婪无厌，咒诅求直； 〖释义〗布施给他人之后，心里又后悔了。借用财物却不肯归还。不依本分而一味钻营求取。竭尽自己的力量施威设法去求取。男女间的淫欲超过限度。心意恶毒，脸上却装出慈祥的样子。用污秽的食物给人吃。用旁门左道来蛊惑众生。使用短尺、狭度、轻秤、小升等欺诈手段，来占人便宜。把假的东西搀杂在真的里面。采用奸诈的方法来获取利益。压迫良家妇女做卑贱的工作。使用诡计来欺骗愚人。贪得无厌，难以知足。在神前诅咒，来证明他的理直。 〖原文〗嗜酒悖乱，骨肉忿争；男不忠良，女不柔顺，不和其室，不敬其夫；每好矜夸，常行妒忌；无行于妻子，失礼于舅姑；轻慢先灵，违逆上命；作为无益，怀挟外心；自咒咒他，偏憎偏爱； 〖释义〗喜爱饮酒而背理乱性。骨肉至亲忿怒争吵。男的不忠厚善良。女的不温柔和顺。夫妻不和。妻子不尊敬丈夫。每每喜欢骄傲自夸。经常争宠妒忌。对待妻儿不义不慈。侍奉公公婆婆没有礼节。轻视怠慢祖先的灵魂。违背长上的命令。所作所为毫无益处。暗中怀著偏爱外人的心。诅咒自己，又诅咒他人。偏差的厌恶，偏差的喜爱。 〖原文〗越井越灶，跳食跳人；损子堕胎，行多隐僻；晦腊歌舞，朔旦号怒；对北涕唾及溺，对灶吟咏及苦；又以灶火烧香，秽柴作食；夜起裸露，八节行刑；唾流星，指虹霓；辄指三光，久视日月；春月燎猎，对北恶骂；无故杀龟打蛇。 〖释义〗跨越井灶。跳过食物和人体。损害孩子，堕掉胎儿。行为多是不光明正大。在晦腊之日，唱歌跳舞。在每月初一的早晨呼号叫骂。对著北方擤鼻涕、吐口水、小便。对著灶前歌唱和哭泣。又用灶火来点香。用污秽的木柴来炊煮食物。夜间起床时裸露著身体。在八种节气的期间执行刑法。向流星吐口水，用手指虹霓，常常用手指著太阳、月亮、星星，用眼睛长久看著日月。春天时焚烧山林来打猎。对著北方恶言咒骂。无缘无故杀害龟、打死蛇。 第五部分：恶报总结 〖原文〗如是等罪，司命随其轻重，夺其纪算，算尽则死。死有余责，乃殃及子孙。又诸横取人财者，乃计其妻子家口以当之，渐至死丧。若不死丧，则有水火盗贼、遗亡器物、疾病口舌诸事，以当妄取之值。又枉杀人者，是易刀兵而相杀也。取非义之财者，譬如漏脯救饥、鸩酒止渴，非不暂饱，死亦及之。 〖释义〗像以上的这些罪过，司命之神会随著所犯的轻重，夺除他的寿命（重的十二年，轻的一百天），寿命夺尽就死了。如果死后还有未完的罪责，就会殃及子孙。又有各种蛮横霸占他人财物的人，司命之神就会估算他的妻子和家人的情况，来让他遭受相等的报应，渐渐至于死丧；如果罪恶还不至于死丧，就会有水灾、火灾、盗贼、遗失器物、疾病、口舌等灾祸，来作为妄取的等量报应。又有冤枉杀人的，就像换取刀兵相杀一样。夺取不义之财的人，就像是吃有毒的肉来救饥饿，喝有毒的酒来止渴一样，不但不能暂时填饱肚子，死亡也会随即到来。 第六部分：旨归（也就是用心之所在，改过迁善） 〖原文〗夫心起于善，善虽未为，而吉神已随之；或心起于恶，恶虽未为，而凶神已随之。其有曾行恶事，后自改悔，诸恶莫作，众善奉行，久久必获吉庆，所谓转祸为福也。 〖释义〗心中起了善念，善事虽然还没有做，但吉神已经跟随著他；如果心中起了恶念，恶事虽然还没有做，但凶神已经跟随著他。有人曾经做过坏事，后来自己忏悔改过，各种坏事都不再做，一切善事都奉行，久而久之，必定获得吉祥喜庆，这就是所谓的转祸为福。 第七部分：结勉（总结劝勉） 〖原文〗故吉人语善、视善、行善，一日有三善，三年天必降之福；凶人语恶、视恶、行恶，一日有三恶，三年天必降之祸。胡不勉而行之？ 〖释义〗所以吉祥的人，语善、视善、行善，一天有三件善行，积满三年，上天必定降给他福报。凶恶的人，语恶、视恶、行恶，一天有三件恶行，积满了三年，上天必定会降给他灾祸。为什么不勤勉地行善去恶呢？ "},"fojing/药师经.html":{"url":"fojing/药师经.html","title":"药师经","keywords":"","body":"药师经 香 赞xiāng zàn（合 掌hé zhǎng） 炉 香 乍 爇lú xiāng zhà ruò 法 界 蒙 熏fǎ jiè méng xūn 诸 佛 海 会 悉 遥 闻zhū fó hǎi huì xī yáo wén 随 处 结 祥 云suí chù jié xiáng yún 诚 意 方 殷 chéng yì fāng yīn 诸 佛 现 全 身zhū fó xiàn quán shēn 南 无 香 云 盖 菩 萨 摩 诃 萨nā mó xiāng yún gài pú sà mó hē sà（三称sān chēng） 南 无 本 师 释 迦 牟 尼 佛nā mó běn shī shì jiā móu ní fó 净 口 业 真 言jìng kǒu yè zhēn yán 唵ōng · 修 利xiū lì · 修 利xiū lì · 摩 诃 修 利mó hē xiū lì · 修 修 利xiū xiū lì · 萨 婆 诃sà pó hē 净 意 业 真 言jìng yì yè zhēn yán 唵ōng · 嚩 日 啰 怛 诃 贺 斛wá rì là dá hē hè hú 净 身 业 真 言 jìng shēn yè zhēn yán 唵ōng · 修 多 唎xiū duō lī · 修 多 唎xiū duō lī · 修 摩 唎xiū mó lī · 修 摩 唎xiū mó lī · 娑 婆 诃suō pó hē 净 三 业 真 言 jìng sān yè zhēn yán 唵ōng · 娑 嚩 婆 嚩 秫 驮suō wá pó wá shú tuó · 娑 嚩 达 摩suō wá dá mó · 娑 嚩 婆 嚩 秫 度 憾suō wá pó wá shú dù hàn 安 土 地 真 言 ān tǔ dì zhēn yán 南 无 三 满 哆ná mó sān mǎn duō · 母 驮 喃mǔ tuó nán · 唵ōng · 度 噜 度 噜dù lū dù lū · 地 尾 萨 婆 诃dì wěi sà pó hē 普 供 养 真 言pǔ gòng yǎng zhēn yán 唵ōng · 誐 誐 曩yē yē nǎng · 三 婆 嚩sān pó · 韈 日 啰 斛wá wà rì luō hú 发 愿 文fā yuàn wén 稽 首 三 界 尊jī shǒu sān jiè zūn ， 皈 依 十 方 佛guī yī shí fāng fó ， 我 今 发 宏 愿wǒ jīn fā hóng yuàn ， 持 此 药 师 经chí cǐ yào shī jīng 。 上 报 四 重 恩shàng bào sì zhòng ēn ， 下 济 三 涂 苦xià jì sān tú kǔ ， 若 有 见 闻 者ruò yǒu jiàn wén zhě， 悉 发 菩 提 心xī fā pú tí xīn ， 尽 此 一 报 身jìn cǐ yī bào shēn， 同 生 琉 璃 国tóng shēng liú lí guó 。 亲 觐 大 慈 父qīn jìn dà cí fù， 殷 勤 闻 真 谛yīn qín wén zhēn dì， 学 习 狮 子 吼xué xí shī zǐ hǒu， 回 返 娑 婆 地huí fǎn suō pó dì， 度 众 脱 苦 海dù zhòng tuō kǔ hǎi， 弘 法 利 群 迷hóng fǎ lì qún mí 。 奉 请 十 二 药 叉 大 将fèng qǐng shí èr yào chā dà jiāng 奉 请 宫 毗 罗 大 将fèng qǐng gōng pí luó dà jiāng 奉 请 伐 折 罗 大 将fèng qǐng fá zhé luó dà jiāng 奉 请 迷 企 罗 大 将fèng qǐng mí qǐ luó dà jiāng 奉 请 安 底 罗 大 将fèng qǐng ān dǐ luó dà jiāng 奉 请 额 你 罗 大 将fèng qǐng é nǐ luó dà jiāng 奉 请 珊 底 罗 大 将fèng qǐng shān dǐ luó dà jiāng 奉 请 因 达 罗 大 将fèng qǐng yīn dá luó dà jiāng 奉 请 波 夷 罗 大 将fèng qǐng bō yí luó dà jiāng 奉 请 摩 虎 罗 大 将fèng qǐng mó hǔ luó dà jiāng 奉 请 真 达 罗 大 将fèng qǐng zhēn dá luó dà jiāng 奉 请 招 杜 罗 大 将fèng qǐng zhāo dù luó dà jiāng 奉 请 毗 羯 罗 大 将fèng qǐng pí jié luó dà jiāng 奉 请 八 菩 萨fèng qǐng bā pú sà 奉 请 南 无 文 殊 师 利 菩 萨fèng qǐng ná mó wén shū shī lì pú sà 奉 请 南 无 观 世 音 菩 萨fèng qǐng ná mó guān shì yīn pú sà 奉 请 南 无 得 大 势 菩 萨fèng qǐng ná mó dé dà shì pú sà 奉 请 南 无 无 尽 意 菩 萨fèng qǐng ná mó wú jìn yì pú sà 奉 请 南 无 宝 檀 华 菩 萨fèng qǐng ná mó bǎo tán huá pú sà 奉 请 南 无 药 王 菩 萨fèng qǐng ná mó yào wáng pú sà 奉 请 南 无 药 上 菩 萨fèng qǐng ná mó yào shàng pú sà 奉 请 南 无 弥 勒 菩 萨fèng qǐng ná mó mí lè pú sà 南 无 药 师 琉 璃 光 如 来nā mó yào shī liú lí guāng rú lái（三 称sān chēng） 南 无 日 光 遍 照 菩 萨nā mó rì guāng biàn zhào pú sà（三 称sān chēng） 南 无 月 光 遍 照 菩 萨nā mó yuè guāng biàn zhào pú sà（三 称sān chēng） 南 无 药 师 会 上 佛 菩 萨nā mó yào shī huì shàng fó pú sà（三 称sān chēng） 开 经 偈kāi jīng jì 无 上 甚 深 微 妙 法wú shàng shèn shēn wēi miào fǎ， 百 千 万 劫 难 遭 遇bǎi qiān wàn jié nán zāo yù， 我 今 见 闻 得 受 持wǒ jīn jiàn wén dé shòu chí， 愿 解 如 来 真 实 义yuàn jiě rú lái zhēn shí yì。 药 师 琉 璃 光 如 来 本 愿 功 德 经yào shī liú lí guāng rú lái běn yuàn gōng dé jīng 唐 三 藏 法 师táng sān zàng fǎ shī 玄 奘 奉 诏 译xuán zàng fèng zhào yì 如 是 我 闻rú shì wǒ wén：一 时 薄 伽 梵yī shí báo qié fàn，游 化 诸 国yóu huà zhū guó，至 广 严 城zhì guǎng yán chéng，住 乐 音 树 下zhù yuè yīn shù xià，与 大 比 丘 众 八 千 人 俱yǔ dà bǐ qiū zhòng bā qiān rén jù，菩 萨 摩 诃 萨 三 万 六 千pú sà mó hē sà sān wàn liù qiān，及 国 王 大 臣jí guó wáng dà chén、婆 罗 门 居 士pó luó mén jū shì、天 龙 八 部tiān lóng bā bù、人 非 人 等 无 量 大 众rén fēi rén děng wú liàng dà zhòng，恭 敬 围 绕gōng jìng wéi rào，而 为 说 法ér wéi shuō fǎ。 尔 时 曼 殊 室 利 法 王 子ěr shí màn shū shì lì fǎ wáng zǐ，承 佛 威 神chéng fó wēi shén，从 座 而 起cóng zuò ér qǐ，偏 袒 一 肩piān tǎn yī jiān，右 膝 著 地yòu xī zhe dì，向 薄 伽 梵 曲 躬 合 掌xiàng báo qié fàn qǔ gōng hé zhǎng。白 言bái yán：世 尊 惟 愿 演 说 如 是 相 类 诸 佛 名 号shì zūn ．wéi yuàn yǎn shuō rú shì xiàng lèi zhū fó míng hào，及 本 大 愿jí běn dà yuàn，殊 胜 功 德 令 诸 闻 者shū shèng gōng dé ；lìng zhū wén zhě，业 障 消 除yè zhàng xiāo chú，为 欲 利 乐 像 法 转 时wéi yù lì lè xiàng fǎ zhuǎn shí，诸 有 情 故zhū yǒu qíng gù。 尔 时 世 尊 赞 曼 殊 室 利 童 子 言ěr shí shì zūn zàn màn shū shì lì tóng zǐ yán：善 哉shàn zāi！善 哉shàn zāi！曼 殊 室 利màn shū shì lì，汝 以 大 悲 劝 请 我 说 诸 佛 名 号rǔ yǐ dà bēi quàn qǐng wǒ shuō zhū fó míng hào、本 愿 功 德běn yuàn gōng dé，为 拔 业 障 所 缠 有 情wéi bá yè zhàng suǒ chán yǒu qíng，利 益 安 乐 像 法 转 时 诸 有 情 故lì yì ān lè xiàng fǎ zhuǎn shí zhū yǒu qíng gù。汝 今 谛 听rǔ jīn dì tīng，极 善 思 惟jí shàn sī wéi，当 为 汝 说dāng wéi rǔ shuō。曼 殊 室 利 言màn shū shì lì yán：唯 然wéi rán，愿 说yuàn shuō，我 等 乐 闻wǒ děng lè wén。 佛 告 曼 殊 室 利fó gào màn shū shì lì：东 方 去 此dōng fāng qù cǐ，过 十 殑 伽 沙 等 佛 土guò shí qíng qié shā děng fó tǔ，有 世 界 名 净 琉 璃yǒu shì jiè míng jìng liú lí，佛 号 药 师 琉 璃 光 如 来fó hào yào shī liú lí guāng rú lái、应 正 等 觉yīng zhèng děng jué、明 行 圆 满míng xíng yuán mǎn、善 逝shàn shì、世 间 解shì jiān jiě、无 上 士wú shàng shì、调 御 丈 夫diào yù zhàng fū、天 人 师tiān rén shī、佛fó、薄 伽 梵báo qié fàn。 曼 殊 室 利màn shū shì lì！彼 世 尊 药 师 琉 璃 光 如 来 本 行 菩 萨 道 时bǐ shì zūn yào shī liú lí guāng rú lái běn xíng pú sà dào shí，发 十 二 大 愿fā shí èr dà yuàn，令 诸 有 情lìng zhū yǒu qíng，所 求 皆 得suǒ qiú jiē dé。 第 一 大 愿dì yī dà yuàn：愿 我 来 世 得 阿 耨 多 罗 三 藐 三 菩 提 时yuàn wǒ lái shì dé ā nòu duō luó sān miǎo sān pú tí shí，自 身 光 明 炽 然zì shēn guāng míng chì rán，照 耀 无 量 无 数 无 边 世 界zhào yào wú liàng wú shù wú biān shì jiè。以 三 十 二 大 丈 夫 相yǐ sān shí èr dà zhàng fū xiàng、八 十 随 形bā shí suí xíng，庄 严 其 身zhuāng yán qí shēn，令 一 切 有 情lìng yī qiē yǒu qíng，如 我 无 异rú wǒ wú yì。 第 二 大 愿dì èr dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，身 如 琉 璃shēn rú liú lí，内 外 明 彻nèi wài míng chè，净 无 瑕 秽jìng wú xiá huì，光 明 广 大guāng míng guǎng dà，功 德 巍 巍gōng dé wēi wēi，身 善 安 住shēn shàn ān zhù，焰 网 庄 严yàn wǎng zhuāng yán，过 于 日 月 幽 冥 众 生guò yú rì yuè ；yōu míng zhòng shēng，悉 蒙 开 晓 随 意 所 趣xī méng kāi xiǎo ；suí yì suǒ qù，作 诸 事 业zuò zhū shì yè。 第 三 大 愿dì sān dà yuàn：愿 我 来 世 得 菩 提 时 以 无 量 无 边 智 慧 方 便yuàn wǒ lái shì dé pú tí shí ．yǐ wú liàng wú biān zhì huì fāng biàn，令 诸 有 情 皆 得 无 尽 所 受 用 物lìng zhū yǒu qíng jiē dé wú jìn suǒ shòu yòng wù，莫 令 众 生 有 所 乏 少mò lìng zhòng shēng yǒu suǒ fá shǎo。 第 四 大 愿dì sì dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 诸 有 情 行 邪 道 者ruò zhū yǒu qíng xíng xié dào zhě，悉 令 安 住 菩 提 道 中 若 行 声 闻xī lìng ān zhù pú tí dào zhōng ；ruò xíng shēng wén、独 觉 乘 者dú jué chéng zhě，皆 以 大 乘 而 安 立 之jiē yǐ dà chéng ér ān lì zhī。 第 五 大 愿dì wǔ dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 有 无 量 无 边 有 情ruò yǒu wú liàng wú biān yǒu qíng，于 我 法 中yú wǒ fǎ zhōng，修 行 梵 行xiū xíng fàn hèng，一 切 皆 令 得 不 缺 戒yī qiē jiē lìng dé bú quē jiè，具 三 聚 戒 设 有 毁 犯jù sān jù jiè ；shè yǒu huǐ fàn，闻 我 名 已wén wǒ míng yǐ，还 得 清 净hái dé qīng jìng，不 堕 恶 趣bú duò è qù。 第 六 大 愿dì liù dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 诸 有 情ruò zhū yǒu qíng，其 身 下 劣qí shēn xià liè，诸 根 不 具zhū gēn bú jù，丑 陋 顽 愚chǒu lòu wán yú，盲 聋 喑 哑máng lóng yīn yǎ，挛 躄 背 偻luán bì bèi lǚ，白 癞 颠 狂bái lài diān kuáng，种 种 病 苦 闻 我 名 已zhǒng zhǒng bìng kǔ ；wén wǒ míng yǐ，一 切 皆 得yī qiē jiē dé，端 正 黠 慧duān zhèng xiá huì，诸 根 完 具zhū gēn wán jù，无 诸 疾 苦wú zhū jí kǔ。 第 七 大 愿dì qī dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 诸 有 情ruò zhū yǒu qíng，众 病 逼 切zhòng bìng bī qiē，无 救 无 归wú jiù wú guī，无 医 无 药wú yī wú yào，无 亲 无 家 贫 穷 多 苦 我 之 名 号wú qīn wú jiā ．pín qióng duō kǔ ；wǒ zhī míng hào，一 经 其 耳yī jīng qí ěr，众 病 悉 除zhòng bìng xī chú，身 心 安 乐shēn xīn ān lè，家 属 资 具jiā shǔ zī jù，悉 皆 丰 足xī jiē fēng zú，乃 至 证 得 无 上 菩 提nǎi zhì zhèng dé wú shàng pú tí。 第 八 大 愿dì bā dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 有 女 人ruò yǒu nǚ rén，为 女 百 恶 之 所 逼 恼wéi nǚ bǎi è zhī suǒ bī nǎo，极 生 厌 离jí shēng yàn lí，愿 舍 女 身 闻 我 名 已yuàn shě nǚ shēn ；wén wǒ míng yǐ，一 切 皆 得 转 女 成 男yī qiē jiē dé zhuǎn nǚ chéng nán，具 丈 夫 相jù zhàng fū xiàng，乃 至 证 得 无 上 菩 提nǎi zhì zhèng dé wú shàng pú tí。 第 九 大 愿dì jiǔ dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，令 诸 有 情lìng zhū yǒu qíng，出 魔 罥 网chū mó juàn wǎng，解 脱 一 切 外 道 缠 缚 若 堕 种 种 恶 见 稠 林xiè tuō yī qiē wài dào chán fù ；ruò duò zhǒng zhǒng è jiàn chóu lín，皆 当 引 摄jiē dāng yǐn shè，置 于 正 见zhì yú zhèng jiàn，渐 令 修 习jiàn lìng xiū xí，诸 菩 萨 行zhū pú sà hèng，速 证 无 上 正 等 菩 提sù zhèng wú shàng zhèng děng pú tí。 第 十 大 愿dì shí dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 诸 有 情ruò zhū yǒu qíng，王 法 所 加wáng fǎ suǒ jiā，缚 录 鞭 挞fù lù biān tà，系 闭 牢 狱xì bì láo yù，或 当 刑 戮huò dāng xíng lù，及 余 无 量 灾 难 凌 辱jí yú wú liàng zāi nán líng rǔ，悲 愁 煎 逼bēi chóu jiān bī，身 心 受 苦 若 闻 我 名shēn xīn shòu kǔ ；ruò wén wǒ míng，以 我 福 德 威 神 力 故yǐ wǒ fú dé wēi shén lì gù，皆 得 解 脱 一 切 忧 苦jiē dé xiè tuō yī qiē yōu kǔ。 第 十 一 大 愿dì shí yī dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 诸 有 情ruò zhū yǒu qíng，饥 渴 所 恼jī kě suǒ nǎo，为 求 食 故wéi qiú shí gù，造 诸 恶 业 得 闻 我 名zào zhū è yè ；dé wén wǒ míng，专 念 受 持zhuān niàn shòu chí，我 当 先 以 上 妙 饮 食wǒ dāng xiān yǐ shàng miào yǐn shí，饱 足 其 身bǎo zú qí shēn，后 以 法 味hòu yǐ fǎ wèi，毕 竟 安 乐 而 建 立 之bì jìng ān lè ér jiàn lì zhī。 第 十 二 大 愿dì shí èr dà yuàn：愿 我 来 世 得 菩 提 时yuàn wǒ lái shì dé pú tí shí，若 诸 有 情ruò zhū yǒu qíng，贫 无 衣 服pín wú yī fú，蚊 虻 寒 热wén méng hán rè，昼 夜 逼 恼 若 闻 我 名zhòu yè bī nǎo ；ruò wén wǒ míng，专 念 受 持zhuān niàn shòu chí，如 其 所 好rú qí suǒ hǎo，即 得 种 种 上 妙 衣 服jí dé zhǒng zhǒng shàng miào yī fú，亦 得 一 切 宝 庄 严 具yì dé yī qiē bǎo zhuāng yán jù，华 鬘 涂 香huá mán tú xiāng，鼓 乐 众 伎gǔ yuè zhòng jì，随 心 所 玩suí xīn suǒ wán，皆 令 满 足jiē lìng mǎn zú。 曼 殊 室 利 是 为 彼 世 尊 药 师 琉 璃 光 如 来 应 正 等 觉màn shū shì lì ．shì wéi bǐ shì zūn yào shī liú lí guāng rú lái yīng zhèng děng jué，行 菩 萨 道 时xíng pú sà dào shí，所 发 十 二 微 妙 上 愿suǒ fā shí èr wēi miào shàng yuàn。 复 次fù cì，曼 殊 室 利màn shū shì lì，彼 世 尊 药 师 琉 璃 光 如 来 行 菩 萨 道 时bǐ shì zūn yào shī liú lí guāng rú lái xíng pú sà dào shí，所 发 大 愿suǒ fā dà yuàn，及 彼 佛 土 功 德 庄 严jí bǐ fó tǔ gōng dé zhuāng yán，我 若 一 劫wǒ ruò yī jié，若 一 劫 余ruò yī jié yú，说 不 能 尽shuō bú néng jìn。然 彼 佛 土rán bǐ fó tǔ，一 向 清 净yī xiàng qīng jìng，无 有 女 人wú yǒu nǚ rén，亦 无 恶 趣yì wú è qù，及 苦 音 声 琉 璃 为 地jí kǔ yīn shēng ；liú lí wéi dì，金 绳 界 道jīn shéng jiè dào，城 阙 宫 阁chéng què gōng gé，轩 窗 罗 网xuān chuāng luó wǎng，皆 七 宝 成 亦 如 西 方 极 乐 世 界jiē qī bǎo chéng ；yì rú xī fāng jí lè shì jiè，功 德 庄 严gōng dé zhuāng yán，等 无 差 别děng wú chà bié。于 其 国 中yú qí guó zhōng，有 二 菩 萨 摩 诃 萨yǒu èr pú sà mó hē sà：一 名 日 光 遍 照yī míng rì guāng biàn zhào，二 名 月 光 遍 照èr míng yuè guāng biàn zhào，是 彼 无 量 无 数 菩 萨 众 之 上 首shì bǐ wú liàng wú shù pú sà zhòng zhī shàng shǒu，次 补 佛 处cì bǔ fó chù，悉 能 持 彼 世 尊 药 师 琉 璃 光 如 来xī néng chí bǐ shì zūn yào shī liú lí guāng rú lái，正 法 宝 藏zhèng fǎ bǎo zàng。是 故 曼 殊 室 利shì gù màn shū shì lì，诸 有 信 心 善 男 子 善 女 人zhū yǒu xìn xīn shàn nán zǐ shàn nǚ rén，应 当 愿 生 彼 佛 世 界yīng dāng yuàn shēng bǐ fó shì jiè。 尔 时 世 尊ěr shí shì zūn，复 告 曼 殊 室 利 童 子 言fù gào màn shū shì lì tóng zǐ yán：曼 殊 室 利màn shū shì lì，有 诸 众 生yǒu zhū zhòng shēng，不 识 善 恶bú shí shàn è，惟 怀 贪 吝wéi huái tān lìn，不 知 布 施 及 施 果 报bú zhī bù shī jí shī guǒ bào，愚 痴 无 智yú chī wú zhì，阙 于 信 根què yú xìn gēn。多 聚 财 宝duō jù cái bǎo，勤 加 守 护qín jiā shǒu hù。见 乞 者 来jiàn qǐ zhě lái，其 心 不 喜qí xīn bú xǐ。设 不 获 已shè bú huò yǐ，而 行 施 时ér xíng shī shí，如 割 身 肉rú gē shēn ròu，深 生 痛 惜shēn shēng tòng xī。复 有 无 量 悭 贪 有 情fù yǒu wú liàng qiān tān yǒu qíng，积 集 资 财jī jí zī cái，于 其 自 身yú qí zì shēn，尚 不 受 用shàng bú shòu yòng，何 况 能 与 父 母 妻 子 奴 婢 作 使hé kuàng néng yǔ fù mǔ qī zǐ nú bì zuò shǐ，及 来 乞 者jí lái qǐ zhě。彼 诸 有 情bǐ zhū yǒu qíng，从 此 命 终cóng cǐ mìng zhōng，生 饿 鬼 界 或 傍 生 趣shēng è guǐ jiè huò bàng shēng qù。由 昔 人 间yóu xī rén jiān，曾 得 暂 闻 药 师 琉 璃 光 如 来 名 故céng dé zàn wén yào shī liú lí guāng rú lái míng gù，今 在 恶 趣jīn zài è qù，暂 得 忆 念 彼 如 来 名zàn dé yì niàn bǐ rú lái míng，即 于 念 时jí yú niàn shí，从 彼 处 没cóng bǐ chù méi，还 生 人 中hái shēng rén zhōng，得 宿 命 念dé xiǔ mìng niàn，畏 恶 趣 苦wèi è qù kǔ，不 乐 欲 乐bú lè yù lè，好 行 惠 施hǎo xíng huì shī，赞 叹 施 者zàn tàn shī zhě，一 切 所 有yī qiē suǒ yǒu，悉 无 贪 惜xī wú tān xī，渐 次 尚 能 以 头 目jiàn cì shàng néng yǐ tóu mù、手 足shǒu zú、血 肉xuè ròu、身 份 施 来 求 者shēn fèn shī lái qiú zhě，况 余 财 物kuàng yú cái wù。 复 次fù cì，曼 殊 室 利màn shū shì lì，若 诸 有 情ruò zhū yǒu qíng，虽 于 如 来 受 诸 学 处suī yú rú lái shòu zhū xué chù，而 破 尸 罗ér pò shī luó。有 虽 不 破 尸 罗yǒu suī bú pò shī luó，而 破 轨 则ér pò guǐ zé。有 于 尸 罗 轨 则yǒu yú shī luó guǐ zé，虽 得 不 坏suī dé bú huài，然 毁 正 见rán huǐ zhèng jiàn。有 虽 不 毁 正 见yǒu suī bú huǐ zhèng jiàn，而 弃 多 闻ér qì duō wén，于 佛 所 说 契 经 深 义yú fó suǒ shuō qì jīng shēn yì，不 能 解 了bú néng jiě le。有 虽 多 闻yǒu suī duō wén，而 增 上 慢 由 增 上 慢ér zēng shàng màn ；yóu zēng shàng màn，覆 蔽 心 故fù bì xīn gù，自 是 非 他zì shì fēi tā，嫌 谤 正 法xián bàng zhèng fǎ，为 魔 伴 党wéi mó bàn dǎng。如 是 愚 人rú shì yú rén，自 行 邪 见zì xíng xié jiàn，复 令 无 量 俱 胝 有 情fù lìng wú liàng jù zhī yǒu qíng，堕 大 险 坑duò dà xiǎn kēng。此 诸 有 情cǐ zhū yǒu qíng，应 于 地 狱yīng yú dì yù、傍 生bàng shēng、鬼 趣 流 转 无 穷guǐ qù liú zhuǎn wú qióng。若 得 闻 此 药 师 琉 璃 光 如 来 名 号ruò dé wén cǐ yào shī liú lí guāng rú lái míng hào，便 舍 恶 行biàn shě è xíng，修 诸 善 法xiū zhū shàn fǎ，不 堕 恶 趣bú duò è qù。设 有 不 能 舍 诸 恶 行shè yǒu bú néng shě zhū è xíng，修 行 善 法xiū xíng shàn fǎ，堕 恶 趣 者duò è qù zhě，以 彼 如 来 本 愿 威 力yǐ bǐ rú lái běn yuàn wēi lì，令 其 现 前lìng qí xiàn qián，暂 闻 名 号zàn wén míng hào，从 彼 命 终cóng bǐ mìng zhōng，还 生 人 趣hái shēng rén qù，得 正 见 精 进dé zhèng jiàn jīng jìn，善 调 意 乐shàn diào yì lè，便 能 舍 家biàn néng shě jiā，趣 于 非 家qù yú fēi jiā，如 来 法 中rú lái fǎ zhōng，受 持 学 处shòu chí xué chù，无 有 毁 犯wú yǒu huǐ fàn，正 见 多 闻zhèng jiàn duō wén，解 甚 深 义jiě shèn shēn yì，离 增 上 慢lí zēng shàng màn，不 谤 正 法bú bàng zhèng fǎ，不 为 魔 伴bú wéi mó bàn，渐 次 修 行 诸 菩 萨 行jiàn cì xiū xíng zhū pú sà hèng，速 得 圆 满sù dé yuán mǎn。 复 次fù cì，曼 殊 室 利màn shū shì lì，若 诸 有 情ruò zhū yǒu qíng，悭 贪 嫉 妒qiān tān jí dù，自 赞 毁 他zì zàn huǐ tā，当 堕 三 恶 趣 中dāng duò sān è qù zhōng，无 量 千 岁wú liàng qiān suì，受 诸 剧 苦shòu zhū jù kǔ。受 剧 苦 已shòu jù kǔ yǐ，从 彼 命 终cóng bǐ mìng zhōng，来 生 人 间lái shēng rén jiān，作 牛 马 驼 驴zuò niú mǎ tuó lǘ，恒 被 鞭 挞héng bèi biān tà，饥 渴 逼 恼jī kě bī nǎo，又 常 负 重yòu cháng fù zhòng，随 路 而 行suí lù ér xíng。或 得 为 人huò dé wéi rén，生 居 下 贱shēng jū xià jiàn，作 人 奴 婢zuò rén nú bì，受 他 驱 役shòu tā qū yì，恒 不 自 在héng bú zì zài。若 昔 人 中ruò xī rén zhōng，曾 闻 世 尊 药 师 琉 璃 光 如 来 名 号céng wén shì zūn yào shī liú lí guāng rú lái míng hào，由 此 善 因yóu cǐ shàn yīn，今 复 忆 念jīn fù yì niàn，至 心 皈 依zhì xīn guī yī，以 佛 神 力yǐ fó shén lì，众 苦 解 脱 诸 根 聪 利zhòng kǔ xiè tuō ；zhū gēn cōng lì，智 慧 多 闻zhì huì duō wén，恒 求 胜 法héng qiú shèng fǎ。常 遇 善 友cháng yù shàn yǒu，永 断 魔 罥yǒng duàn mó juàn，破 无 明 殼pò wú míng ké，竭 烦 恼 河jié fán nǎo hé，解 脱 一 切 生 老 病 死xiè tuō yī qiē shēng lǎo bìng sǐ，忧 悲 苦 恼yōu bēi kǔ nǎo。 复 次fù cì，曼 殊 室 利màn shū shì lì，若 诸 有 情ruò zhū yǒu qíng，好 喜 乖 离hǎo xǐ guāi lí，更 相 斗 讼gèng xiàng dòu sòng，恼 乱 自 他nǎo luàn zì tā，以 身 语 意yǐ shēn yǔ yì，造 作 增 长zào zuò zēng zhǎng，种 种 恶 业zhǒng zhǒng è yè，辗 转 常 为 不 饶 益 事niǎn zhuǎn cháng wéi bú ráo yì shì，相 互 谋 害xiàng hù móu hài。告 召 山gào zhào shān、林lín、树shù、冢 等 神zhǒng děng shén，杀 诸 众 生 取 其 血 肉shā zhū zhòng shēng ．qǔ qí xuè ròu，祭 祀 药 叉jì sì yào chā、罗 刹 婆 等 书 怨 人 名luó shā pó děng ；shū yuàn rén míng，作 其 形 像zuò qí xíng xiàng，以 恶 咒 术yǐ è zhòu shù，而 咒 诅 之ér zhòu zǔ zhī。魇 魅 蛊 道yǎn mèi gǔ dào，咒 起 尸 鬼zhòu qǐ shī guǐ，令 断 彼 命lìng duàn bǐ mìng，及 坏 其 身jí huài qí shēn。是 诸 有 情shì zhū yǒu qíng，若 得 闻 此 药 师 琉 璃 光 如 来 名 号ruò dé wén cǐ yào shī liú lí guāng rú lái míng hào，彼 诸 恶 事bǐ zhū è shì，悉 不 能 害xī bú néng hài。一 切 辗 转yī qiē niǎn zhuǎn，皆 起 慈 心jiē qǐ cí xīn，利 益 安 乐lì yì ān lè，无 损 恼 意wú sǔn nǎo yì，及 嫌 恨 心jí xián hèn xīn。各 各 欢 悦gè gè huān yuè，于 自 所 受yú zì suǒ shòu，生 于 喜 足shēng yú xǐ zú，不 相 侵 凌bú xiàng qīn líng，互 为 饶 益hù wéi ráo yì。 复 次fù cì，曼 殊 室 利màn shū shì lì，若 有 四 众ruò yǒu sì zhòng，比 丘bǐ qiū，比 丘 尼bǐ qiū ní，邬 波 索 迦wū bō suǒ jiā，邬 波 斯 迦wū bō sī jiā，及 余 净 信 善 男 子jí yú jìng xìn shàn nán zǐ、善 女 人 等shàn nǚ rén děng。有 能 受 持 八 分 斋 戒yǒu néng shòu chí bā fèn zhāi jiè，或 经 一 年huò jīng yī nián，或 复 三 月huò fù sān yuè，受 持 学 处shòu chí xué chù，以 此 善 根yǐ cǐ shàn gēn，愿 生 西 方 极 乐 世 界yuàn shēng xī fāng jí lè shì jiè，无 量 寿 佛 所wú liàng shòu fó suǒ，听 闻 正 法tīng wén zhèng fǎ，而 未 定 者ér wèi dìng zhě，若 闻 世 尊 药 师 琉 璃 光 如 来 名 号ruò wén shì zūn yào shī liú lí guāng rú lái míng hào，临 命 终 时lín mìng zhōng shí，有 八 大 菩 萨yǒu bā dà pú sà，其 名 曰qí míng yuē：文 殊 师 利 菩 萨wén shū shī lì pú sà，观 世 音 菩 萨guān shì yīn pú sà，得 大 势 菩 萨dé dà shì pú sà，无 尽 意 菩 萨wú jìn yì pú sà，宝 檀 华 菩 萨bǎo tán huá pú sà，药 王 菩 萨yào wáng pú sà，药 上 菩 萨yào shàng pú sà，弥 勒 菩 萨mí lè pú sà。是 八 大 菩 萨 乘 空 而 来shì bā dà pú sà chéng kōng ér lái，示 其 道 路shì qí dào lù，即 于 彼 界jí yú bǐ jiè，种 种 杂 色zhǒng zhǒng zá sè，众 宝 华 中zhòng bǎo huá zhōng，自 然 化 生zì rán huà shēng。或 有 因 此huò yǒu yīn cǐ，生 于 天 上shēng yú tiān shàng，虽 生 天 上suī shēng tiān shàng，而 本 善 根ér běn shàn gēn，亦 未 穷 尽yì wèi qióng jìn，不 复 更 生 诸 余 恶 趣bú fù gèng shēng zhū yú è qù。天 上 寿 尽tiān shàng shòu jìn，还 生 人 间hái shēng rén jiān，或 为 轮 王huò wéi lún wáng，统 摄 四 洲tǒng shè sì zhōu，威 德 自 在wēi dé zì zài，安 立 无 量 百 千 有 情 于 十 善 道ān lì wú liàng bǎi qiān yǒu qíng yú shí shàn dào。或 生 刹 帝 利huò shēng shā dì lì、婆 罗 门pó luó mén、居 士 大 家jū shì dà jiā。多 饶 财 宝duō ráo cái bǎo，仓 库 盈 溢cāng kù yíng yì，形 相 端 正xíng xiàng duān zhèng，眷 属 具 足juàn shǔ jù zú，聪 明 智 慧cōng míng zhì huì，勇 健 威 猛yǒng jiàn wēi měng，如 大 力 士rú dà lì shì。若 是 女 人ruò shì nǚ rén，得 闻 世 尊 药 师 琉 璃 光 如 来 名 号dé wén shì zūn yào shī liú lí guāng rú lái míng hào，至 心 受 持zhì xīn shòu chí，于 后 不 复 更 受 女 身yú hòu bú fù gèng shòu nǚ shēn。 复 次fù cì，曼 殊 室 利màn shū shì lì，彼 药 师 琉 璃 光 如 来 得 菩 提 时bǐ yào shī liú lí guāng rú lái dé pú tí shí，由 本 愿 力yóu běn yuàn lì，观 诸 有 情guān zhū yǒu qíng，遇 众 病 苦yù zhòng bìng kǔ，瘦 挛shòu luán、干 消gàn xiāo、黄 热 等 病 或 被 魇 魅huáng rè děng bìng ；huò bèi yǎn mèi、蛊 毒 所 中 或 复 短 命gǔ dú suǒ zhōng ；huò fù duǎn mìng，或 时 横 死 欲 令 是 等 病 苦 消 除huò shí héng sǐ ；yù lìng shì děng bìng kǔ xiāo chú，所 求 愿 满suǒ qiú yuàn mǎn。时 彼 世 尊shí bǐ shì zūn，入 三 摩 地rù sān mó dì，名 曰 除 灭 一 切 众 生 苦 恼míng yuē chú miè yī qiē zhòng shēng kǔ nǎo。既 入 定 已jì rù dìng yǐ，于 肉 髻 中yú ròu jì zhōng，出 大 光 明chū dà guāng míng，光 中 演 说 大 陀 罗 尼 曰guāng zhōng yǎn shuō dà tuó luó ní yuē： 那 谟 薄 伽 筏 帝nà mó báo qié fá dì，鞞 杀 社 窭 噜bì shā shè jú lū，薛 琉 璃xuē liú lí，钵 喇 婆bō la pó，喝 罗 阇 也hē la shé yě，怛 他 揭 多 耶dá tuō jiē duō yē，阿 罗 诃 帝ā luó hē dì，三 藐 三 勃 陀 耶sān miǎo sān bó tuó yē。怛 蛭 他dá zhì tuō，唵ǎn，鞞 杀 逝bì shā shì，鞞 杀 逝bì shā shì，鞞 杀 社bì shā shè，三 没 揭 帝 莎 诃sān mò jiē dì shā hē。 而 时 光 中ér shí guāng zhōng，说 此 咒 已shuō cǐ zhòu yǐ，大 地 震 动dà dì zhèn dòng，放 大 光 明fàng dà guāng míng，一 切 众 生yī qiē zhòng shēng，病 苦 皆 除bìng kǔ jiē chú，受 安 隐 乐shòu ān yǐn lè。曼 殊 室 利màn shū shì lì，若 见 男 子 女 人ruò jiàn nán zǐ nǚ rén，有 病 苦 者yǒu bìng kǔ zhě，应 当 一 心yīng dāng yī xīn，为 彼 病 人wéi bǐ bìng rén，常 清 净 澡 漱cháng qīng jìng zǎo shù，或 食huò shí，或 药huò yào，或 无 虫 水huò wú chóng shuǐ，咒 一 百 八 遍zhòu yī bǎi bā biàn，与 彼 服 食yǔ bǐ fú shí，所 有 病 苦suǒ yǒu bìng kǔ，悉 皆 消 灭xī jiē xiāo miè。若 有 所 求ruò yǒu suǒ qiú，至 心 念 诵zhì xīn niàn sòng，皆 得 如 是jiē dé rú shì，无 病 延 年 命 终 之 后wú bìng yán nián ；mìng zhōng zhī hòu，生 彼 世 界shēng bǐ shì jiè，得 不 退 转dé bú tuì zhuǎn，乃 至 菩 提nǎi zhì pú tí。是 故 曼 殊 室 利shì gù màn shū shì lì！若 有 男 子 女 人ruò yǒu nán zǐ nǚ rén，于 彼 药 师 琉 璃 光 如 来yú bǐ yào shī liú lí guāng rú lái，至 心 殷 重zhì xīn yīn zhòng，恭 敬 供 养 者gōng jìng gòng yǎng zhě，常 持 此 咒cháng chí cǐ zhòu。勿 令 废 忘wù lìng fèi wàng！ 复 次fù cì，曼 殊 室 利màn shū shì lì，若 有 净 信 男 子 女 人ruò yǒu jìng xìn nán zǐ nǚ rén，得 闻 药 师 琉 璃 光 如 来 应 正 等 觉 所 有 名 号dé wén yào shī liú lí guāng rú lái yīng zhèng děng jué suǒ yǒu míng hào，闻 已 诵 持wén yǐ sòng chí，晨 嚼 齿 木chén jiáo chǐ mù，澡 漱 清 净zǎo shù qīng jìng，以 诸 香 花yǐ zhū xiāng huā，烧 香 涂 香shāo xiāng tú xiāng，作 众 伎 乐zuò zhòng jì yuè，供 养 形 象gòng yǎng xíng xiàng。于 此 经 典yú cǐ jīng diǎn，若 自 书ruò zì shū，若 教 人 书ruò jiāo rén shū，一 心 受 持yī xīn shòu chí，听 闻 其 义tīng wén qí yì。于 彼 法 师yú bǐ fǎ shī，应 修 供 养yīng xiū gòng yǎng，一 切 所 有 资 身 之 具yī qiē suǒ yǒu zī shēn zhī jù，悉 皆 施 与xī jiē shī yǔ，勿 令 乏 少wù lìng fá shǎo。如 是 便 蒙 诸 佛 护 念rú shì biàn méng zhū fó hù niàn，所 求 愿 满suǒ qiú yuàn mǎn，乃 至 菩 提nǎi zhì pú tí。 尔 时ěr shí，曼 殊 室 利 童 子 白 佛 言màn shū shì lì tóng zǐ bái fó yán：世 尊shì zūn！我 当 誓 于 像 法 转 时wǒ dāng shì yú xiàng fǎ zhuǎn shí，以 种 种 方 便yǐ zhǒng zhǒng fāng biàn，令 诸 净 信 善 男 子 善 女 人 等lìng zhū jìng xìn shàn nán zǐ shàn nǚ rén děng，得 闻 世 尊 药 师 琉 璃 光 如 来 名 号dé wén shì zūn yào shī liú lí guāng rú lái míng hào，乃 至 睡 中 亦 以 佛 名 觉 悟 其 耳nǎi zhì shuì zhōng yì yǐ fó míng jué wù qí ěr。世 尊shì zūn！若 于 此 经 受 持 读 诵ruò yú cǐ jīng shòu chí dú sòng，或 复 为 他 演 说 开 示huò fù wéi tā yǎn shuō kāi shì。若 自 书ruò zì shū，若 教 人 书ruò jiāo rén shū，恭 敬 尊 重gōng jìng zūn zhòng，以 种 种 华 香yǐ zhǒng zhǒng huá xiāng、涂 香tú xiāng、末 香mò xiāng、烧 香shāo xiāng。花 鬘huā mán、璎 珞yīng luò、幡 盖fān gài、伎 乐jì yuè，而 为 供 养ér wéi gòng yǎng，以 五 色 彩yǐ wǔ sè cǎi，作 囊 盛 之zuò náng shèng zhī。扫 洒 净 处sǎo sǎ jìng chù，敷 设 高 座 而 用 安 处fū shè gāo zuò ér yòng ān chù。尔 时 四 大 天 王ěr shí sì dà tiān wáng，与 其 眷 属yǔ qí juàn shǔ，及 余 无 量 百 千 天 众jí yú wú liàng bǎi qiān tiān zhòng，皆 诣 其 所jiē yì qí suǒ，供 养 守 护gòng yǎng shǒu hù。世 尊shì zūn，若 此 经 宝 流 行 之 处ruò cǐ jīng bǎo liú xíng zhī chù，有 能 受 持yǒu néng shòu chí，以 彼 世 尊 药 师 琉 璃 光 如 来 本 愿 功 德yǐ bǐ shì zūn yào shī liú lí guāng rú lái běn yuàn gōng dé，及 闻 名 号jí wén míng hào，当 知 是 处dāng zhī shì chù，无 复 横 死wú fù héng sǐ，亦 复 不 为 诸 恶 鬼 神yì fù bú wéi zhū è guǐ shén，夺 其 精 气 设 已 夺 者duó qí jīng qì ；shè yǐ duó zhě，还 得 如 故hái dé rú gù，身 心 安 乐shēn xīn ān lè。 佛 告 曼 殊 室 利fó gào màn shū shì lì：如 是rú shì！如 是rú shì！如 汝 所 说rú rǔ suǒ shuō。曼 殊 室 利màn shū shì lì，若 有 净 信 善 男 子 善 女 人 等ruò yǒu jìng xìn shàn nán zǐ shàn nǚ rén děng，欲 供 养 彼 世 尊 药 师 琉 璃 光 如 来 者yù gòng yǎng bǐ shì zūn yào shī liú lí guāng rú lái zhě，应 先 造 立 彼 佛 形 像yīng xiān zào lì bǐ fó xíng xiàng，敷 清 净 座fū qīng jìng zuò，而 安 处 之ér ān chù zhī。散 种 种 花 烧 种 种 香 以 种 种 幢 幡sàn zhǒng zhǒng huā ．shāo zhǒng zhǒng xiāng ．yǐ zhǒng zhǒng chuáng fān，庄 严 其 处zhuāng yán qí chù。七 日 七 夜qī rì qī yè，受 八 分 斋 戒shòu bā fèn zhāi jiè，食 清 净 食shí qīng jìng shí，澡 浴 香 洁zǎo yù xiāng jié，著 清 净 衣zhuó qīng jìng yī，应 生 无 垢 浊 心yīng shēng wú gòu zhuó xīn，无 怒 害 心wú nù hài xīn，于 一 切 有 情yú yī qiē yǒu qíng，起 利 益 安 乐qǐ lì yì ān lè，慈 悲 喜 舍 平 等 之 心cí bēi xǐ shě píng děng zhī xīn，鼓 乐 歌 赞gǔ yuè gē zàn，右 绕 佛 像yòu rào fó xiàng。复 应 念 彼 如 来 本 愿 功 德fù yīng niàn bǐ rú lái běn yuàn gōng dé，读 诵 此 经dú sòng cǐ jīng，思 惟 其 义sī wéi qí yì，演 说 开 示yǎn shuō kāi shì。随 所 乐 求suí suǒ lè qiú，一 切 皆 遂yī qiē jiē suí，求 长 寿 得 长 寿qiú zhǎng shòu dé zhǎng shòu，求 富 饶 得 富 饶qiú fù ráo dé fù ráo，求 官 位 得 官 位qiú guān wèi dé guān wèi，求 男 女 得 男 女qiú nán nǚ dé nán nǚ。 若 复 有 人ruò fù yǒu rén，忽 得 恶 梦hū dé è mèng，见 诸 恶 相jiàn zhū è xiàng，或 怪 鸟 来 集huò guài niǎo lái jí，或 于 住 处huò yú zhù chù，百 怪 出 现bǎi guài chū xiàn。此 人 若 以 众 妙 资 具cǐ rén ruò yǐ zhòng miào zī jù，恭 敬 供 养 彼 世 尊 药 师 琉 璃 光 如 来 者gōng jìng gòng yǎng bǐ shì zūn yào shī liú lí guāng rú lái zhě，恶 梦 恶 相è mèng è xiàng，诸 不 吉 祥zhū bú jí xiáng，皆 悉 隐 没jiē xī yǐn mò，不 能 为 患bú néng wéi huàn。或 有 水 火huò yǒu shuǐ huǒ，刀 毒 悬 险dāo dú xuán xiǎn，恶 象 师 子è xiàng shī zǐ，虎 狼 熊 罴hǔ láng xióng pí，毒 蛇 恶 蝎dú shé è xiē，蜈 蚣 蚰 蜒wú gōng yóu yán，蚊 虻 等 怖wén méng děng bù，若 能 至 心 忆 念 彼 佛ruò néng zhì xīn yì niàn bǐ fó，恭 敬 供 养gōng jìng gòng yǎng，一 切 怖 畏yī qiē bù wèi，皆 得 解 脱jiē dé xiè tuō。若 他 国 侵 扰ruò tā guó qīn rǎo，盗 贼 反 乱dào zéi fǎn luàn，忆 念 恭 敬 彼 如 来 者yì niàn gōng jìng bǐ rú lái zhě，亦 皆 解 脱yì jiē xiè tuō。 复 次fù cì，曼 殊 室 利màn shū shì lì，若 有 净 信 善 男 子 善 女 人 等ruò yǒu jìng xìn shàn nán zǐ shàn nǚ rén děng，乃 至 尽 形nǎi zhì jìn xíng，不 事 余 天bú shì yú tiān，唯 当 一 心wéi dāng yī xīn，归 佛 法 僧guī fó fǎ sēng，受 持 禁 戒shòu chí jìn jiè。若 五 戒 十 戒ruò wǔ jiè shí jiè，菩 萨 四 百 戒pú sà sì bǎi jiè，比 丘 二 百 五 十 戒bǐ qiū èr bǎi wǔ shí jiè，比 丘 尼 五 百 戒bǐ qiū ní wǔ bǎi jiè。于 所 受 中yú suǒ shòu zhōng，或 有 毁 犯huò yǒu huǐ fàn，怖 堕 恶 趣bù duò è qù。若 能 专 念 彼 佛 名 号ruò néng zhuān niàn bǐ fó míng hào，恭 敬 供 养 者gōng jìng gòng yǎng zhě，必 定 不 受 三 恶 趣 生bì dìng bú shòu sān è qù shēng。或 有 女 人huò yǒu nǚ rén，临 当 产 时lín dāng chǎn shí，受 于 极 苦shòu yú jí kǔ，若 能 至 心 称 名 礼 赞ruò néng zhì xīn chēng míng lǐ zàn，恭 敬 供 养 彼 如 来 者gōng jìng gòng yǎng bǐ rú lái zhě，众 苦 皆 除zhòng kǔ jiē chú。所 生 之 子suǒ shēng zhī zǐ，身 分 具 足shēn fèn jù zú，形 色 端 正xíng sè duān zhèng，见 者 欢 喜jiàn zhě huān xǐ，利 根 聪 明lì gēn cōng míng，安 隐 少 病ān yǐn shǎo bìng，无 有 非 人wú yǒu fēi rén，夺 其 精 气duó qí jīng qì。 尔 时 世 尊ěr shí shì zūn，告 阿 难 言gào ā nán yán：如 我 称 扬 彼 世 尊 药 师 琉 璃 光 如 来 所 有 功 德rú wǒ chēng yáng bǐ shì zūn yào shī liú lí guāng rú lái suǒ yǒu gōng dé，此 是 诸 佛 甚 深 行 处cǐ shì zhū fó shèn shēn xíng chù，难 可 解 了nán kě jiě le，汝 为 信 不rǔ wéi xìn fǒu？阿 难 白 言ā nán bái yán：大 德 世 尊dà dé shì zūn！我 于 如 来 所 说 契 经wǒ yú rú lái suǒ shuō qì jīng，不 生 疑 惑bú shēng yí huò。所 以 者 何suǒ yǐ zhě hé？一 切 如 来 身 语 意 业yī qiē rú lái shēn yǔ yì yè，无 不 清 净wú bú qīng jìng。世 尊shì zūn！此 日 月 轮cǐ rì yuè lún，可 令 堕 落 妙 高 山 王kě lìng duò luò ；miào gāo shān wáng，可 使 倾 动 诸 佛 所 言 无 有 异 也kě shǐ qīng dòng ；zhū fó suǒ yán wú yǒu yì yě。世 尊shì zūn！有 诸 众 生yǒu zhū zhòng shēng，信 根 不 具xìn gēn bú jù，闻 说 诸 佛 甚 深 行 处wén shuō zhū fó shèn shēn xíng chù，作 是 思 惟zuò shì sī wéi：云 何 但 念 药 师 琉 璃 光 如 来 一 佛 名 号yún hé dàn niàn yào shī liú lí guāng rú lái yī fó míng hào，便 获 尔 所 功 德 胜 利biàn huò ěr suǒ gōng dé shèng lì？由 此 不 信yóu cǐ bú xìn，返 生 诽 谤fǎn shēng fěi bàng，彼 于 长 夜bǐ yú zhǎng yè，失 大 利 乐shī dà lì lè，堕 诸 恶 趣duò zhū è qù，流 转 无 穷liú zhuǎn wú qióng。 佛 告 阿 难fó gào ā nán：是 诸 有 情shì zhū yǒu qíng，若 闻 世 尊 药 师 琉 璃 光 如 来 名 号ruò wén shì zūn yào shī liú lí guāng rú lái míng hào，至 心 受 持zhì xīn shòu chí，不 生 疑 惑bú shēng yí huò，堕 恶 趣 者duò è qù zhě，无 有 是 处wú yǒu shì chù。阿 难 此 是 诸 佛 甚 深 所 行 难 可 信 解ā nán ．cǐ shì zhū fó shèn shēn suǒ xíng ．nán kě xìn jiě。汝 今 能 受 当 知 皆 是 如 来 威 力rǔ jīn néng shòu ．dāng zhī jiē shì rú lái wēi lì。阿 难ā nán！一 切 声 闻 独 觉yī qiē shēng wén dú jué，及 未 登 地 诸 菩 萨 等jí wèi dēng dì zhū pú sà děng，皆 悉 不 能 如 实 信 解jiē xī bú néng rú shí xìn jiě，唯 除 一 生 所 系 菩 萨wéi chú yī shēng suǒ xì pú sà。阿 难ā nán！人 身 难 得rén shēn nán dé，于 三 宝 中yú sān bǎo zhōng，信 敬 尊 重xìn jìng zūn zhòng，亦 难 可 得yì nán kě dé。闻 世 尊 药 师 琉 璃 光 如 来 名 号wén shì zūn yào shī liú lí guāng rú lái míng hào，复 难 于 是fù nán yú shì。阿 难ā nán！彼 药 师 琉 璃 光 如 来bǐ yào shī liú lí guāng rú lái，无 量 菩 萨 行wú liàng pú sà hèng，无 量 善 巧 方 便wú liàng shàn qiǎo fāng biàn，无 量 广 大 愿wú liàng guǎng dà yuàn，我 若 一 劫wǒ ruò yī jié，若 一 劫 余ruò yī jié yú，而 广 说 者ér guǎng shuō zhě，劫 可 速 尽jié kě sù jìn，彼 佛 行 愿bǐ fó xíng yuàn，善 巧 方 便 无 有 尽 也shàn qiǎo fāng biàn wú yǒu jìn yě。 尔 时 众 中ěr shí zhòng zhōng，有 一 菩 萨 摩 诃 萨yǒu yī pú sà mó hē sà，名 曰 救 脱míng yuē jiù tuō，即 从 座 起jí cóng zuò qǐ，偏 袒 右 肩piān tǎn yòu jiān，右 膝 著 地yòu xī zhe dì，曲 躬 合 掌qǔ gōng hé zhǎng，而 白 佛 言ér bái fó yán：大 德 世 尊dà dé shì zūn！佛 法 转 时fó fǎ zhuǎn shí，有 诸 众 生yǒu zhū zhòng shēng，为 种 种 患 之 所 困 厄wéi zhǒng zhǒng huàn zhī suǒ kùn è，长 病 羸 瘦zhǎng bìng léi shòu，不 能 饮 食bú néng yǐn shí，喉 唇 干 燥hóu chún gàn zào，见 诸 方 暗jiàn zhū fāng àn，死 相 现 前sǐ xiàng xiàn qián，父 母 亲 属fù mǔ qīn shǔ，朋 友 知 识péng yǒu zhī shí，涕 泣 围 绕tì qì wéi rào。然 彼 自 身rán bǐ zì shēn，卧 在 本 处wò zài běn chù，见 琰 魔 使jiàn yǎn mó shǐ，引 其 神 识yǐn qí shén shí，至 于 琰 魔 法 王 之 前zhì yú yǎn mó fǎ wáng zhī qián。然 诸 有 情rán zhū yǒu qíng，有 俱 生 神yǒu jù shēng shén。随 其 所 作suí qí suǒ zuò，若 罪 若 福ruò zuì ruò fú，皆 具 书 之jiē jù shū zhī，尽 持 授 与 琰 魔 法 王jìn chí shòu yǔ yǎn mó fǎ wáng。尔 时 彼 王ěr shí bǐ wáng，推 问 其 人tuī wèn qí rén，计 算 所 作jì suàn suǒ zuò，随 其 罪 福suí qí zuì fú，而 处 断 之ér chù duàn zhī。时 彼 病 人shí bǐ bìng rén，亲 属 知 识qīn shǔ zhī shí，若 能 为 彼 归 依 世 尊 药 师 琉 璃 光 如 来ruò néng wéi bǐ guī yī shì zūn yào shī liú lí guāng rú lái，请 诸 众 僧qǐng zhū zhòng sēng，转 读 此 经zhuǎn dú cǐ jīng，燃 七 层 之 灯rán qī céng zhī dēng，系 五 色 续 命 神 幡xì wǔ sè xù mìng shén fān，或 有 是 处huò yǒu shì chù，彼 识 得 还bǐ shí dé hái，如 在 梦 中rú zài mèng zhōng，明 了 自 见míng le zì jiàn。或 经 七 日huò jīng qī rì，或 二 十 一 日huò èr shí yī rì，或 三 十 五 日huò sān shí wǔ rì，或 四 十 九 日huò sì shí jiǔ rì。彼 识 还 时bǐ shí hái shí，如 从 梦 觉rú cóng mèng jué，皆 自 忆 知jiē zì yì zhī，善 不 善 业shàn bú shàn yè，所 得 果 报suǒ dé guǒ bào，由 自 证 见yóu zì zhèng jiàn，业 果 报 故yè guǒ bào gù，乃 至 命 难nǎi zhì mìng nán，亦 不 造 作 诸 恶 之 业yì bú zào zuò zhū è zhī yè。是 故 净 信 善 男 子 善 女 人 等shì gù jìng xìn shàn nán zǐ shàn nǚ rén děng，皆 应 受 持 药 师 琉 璃 光 如 来 名 号jiē yīng shòu chí yào shī liú lí guāng rú lái míng hào，随 力 所 能suí lì suǒ néng，恭 敬 供 养gōng jìng gòng yǎng。 尔 时 阿 难 问 救 脱 菩 萨 曰ěr shí ā nán wèn jiù tuō pú sà yuē：善 男 子shàn nán zǐ，应 云 何 恭 敬 供 养 彼 世 尊 药 师 琉 璃 光 如 来yīng yún hé gōng jìng gòng yǎng bǐ shì zūn yào shī liú lí guāng rú lái，续 命 幡 灯xù mìng fān dēng，复 云 何 造fù yún hé zào？救 脱 菩 萨 言jiù tuō pú sà yán：大 德dà dé！若 有 病 人ruò yǒu bìng rén，欲 脱 病 苦yù tuō bìng kǔ，当 为 其 人dāng wéi qí rén，七 日 七 夜qī rì qī yè，受 持 八 分 斋 戒shòu chí bā fèn zhāi jiè。应 以 饮 食yīng yǐ yǐn shí，及 余 资 具jí yú zī jù，随 力 所 办suí lì suǒ bàn，供 养 比 丘 僧gòng yǎng bǐ qiū sēng。昼 夜 六 时zhòu yè liù shí，礼 拜 行 道lǐ bài xíng dào。供 养 彼 世 尊 药 师 琉 璃 光 如 来gòng yǎng bǐ shì zūn yào shī liú lí guāng rú lái，读 诵 此 经 四 十 九 遍dú sòng cǐ jīng sì shí jiǔ biàn。燃 四 十 九 灯rán sì shí jiǔ dēng，造 彼 如 来 形 像 七 躯zào bǐ rú lái xíng xiàng qī qū，一 一 像 前yī yī xiàng qián，各 置 七 灯gè zhì qī dēng，一 一 灯 量yī yī dēng liàng，大 如 车 轮dà rú chē lún，乃 至 四 十 九 日nǎi zhì sì shí jiǔ rì，光 明 不 绝guāng míng bú jué。造 五 色 彩 幡zào wǔ sè cǎi fān，长 四 十 九 搩 手zhǎng sì shí jiǔ jié shǒu。应 放 杂 类 众 生yīng fàng zá lèi zhòng shēng，至 四 十 九zhì sì shí jiǔ。可 得 过 度 危 厄 之 难kě dé guò dù wēi è zhī nán，不 为 诸 横 恶 鬼 所 持bú wéi zhū héng è guǐ suǒ chí。 复 次fù cì，阿 难ā nán！若 刹 帝 利 灌 顶 王 等ruò shā dì lì guàn dǐng wáng děng，灾 难 起 时zāi nán qǐ shí，所 谓suǒ wèi：人 众 疾 疫 难rén zhòng jí yì nán，他 国 侵 逼 难tā guó qīn bī nán，自 界 叛 逆 难zì jiè pàn nì nán，星 宿 变 怪 难xīng xiǔ biàn guài nán，日 月 薄 蚀 难rì yuè báo shí nán，非 时 风 雨 难fēi shí fēng yǔ nán，过 时 不 雨 难guò shí bú yǔ nán。彼 刹 帝 利 灌 顶 王 等bǐ shā dì lì guàn dǐng wáng děng，尔 时 应 于 一 切 有 情ěr shí yīng yú yī qiē yǒu qíng，起 慈 悲 心qǐ cí bēi xīn，赦 诸 系 闭shè zhū xì bì。依 前 所 说yī qián suǒ shuō，供 养 之 法gòng yǎng zhī fǎ，供 养 彼 世 尊 药 师 琉 璃 光 如 来gòng yǎng bǐ shì zūn yào shī liú lí guāng rú lái。由 此 善 根yóu cǐ shàn gēn，及 彼 如 来 本 愿 力 故jí bǐ rú lái běn yuàn lì gù，令 其 国 界lìng qí guó jiè，即 得 安 隐jí dé ān yǐn，风 雨 顺 时fēng yǔ shùn shí，谷 稼 成 熟gǔ jià chéng shú，一 切 有 情yī qiē yǒu qíng，无 病 欢 乐wú bìng huān lè。于 其 国 中yú qí guó zhōng，无 有 暴 恶wú yǒu bào è。药 叉 等 神yào chā děng shén，恼 有 情 者nǎo yǒu qíng zhě，一 切 恶 相yī qiē è xiàng，皆 即 隐 没jiē jí yǐn mò。而 刹 帝 利 灌 顶 王 等ér shā dì lì guàn dǐng wáng děng，寿 命 色 力shòu mìng sè lì，无 病 自 在wú bìng zì zài，皆 得 增 益jiē dé zēng yì。 阿 难ā nán！若 帝 后 妃 主ruò dì hòu fēi zhǔ，储 君 王 子chǔ jun1 wáng zǐ。大 臣 辅 相dà chén fǔ xiàng，中 宫 彩 女zhōng gōng cǎi nǚ，百 官 黎 庶bǎi guān lí shù，为 病 所 苦wéi bìng suǒ kǔ，及 余 厄 难 亦 应 造 立 五 色 神 幡jí yú è nán ；yì yīng zào lì wǔ sè shén fān，燃 灯 续 明rán dēng xù míng，放 诸 生 命fàng zhū shēng mìng，散 杂 色 花sàn zá sè huā，烧 众 名 香shāo zhòng míng xiāng，病 得 除 愈bìng dé chú yù，众 难 解 脱zhòng nán xiè tuō。 尔 时 阿 难 问 救 脱 菩 萨 言ěr shí ā nán wèn jiù tuō pú sà yán：善 男 子shàn nán zǐ！云 何 已 尽 之 命yún hé yǐ jìn zhī mìng，而 可 增 益ér kě zēng yì？救 脱 菩 萨 言jiù tuō pú sà yán：大 德dà dé！汝 岂 不 闻 如 来 说 有 九 横 死 耶rǔ qǐ bú wén rú lái shuō yǒu jiǔ héng sǐ yē？是 故 劝 造 续 命 幡 灯shì gù quàn zào xù mìng fān dēng，修 诸 福 德xiū zhū fú dé，以 修 福 故yǐ xiū fú gù，尽 其 寿 命jìn qí shòu mìng，不 经 苦 患bú jīng kǔ huàn。阿 难 问 言ā nán wèn yán：九 横 云 何jiǔ héng yún hé？救 脱 菩 萨 言jiù tuō pú sà yán：若 诸 有 情ruò zhū yǒu qíng，得 病 虽 轻dé bìng suī qīng，然 无 医 药 及 看 病 者rán wú yī yào jí kàn bìng zhě，设 复 遇 医shè fù yù yī，授 以 非 药shòu yǐ fēi yào，实 不 应 死shí bú yīng sǐ，而 便 横 死ér biàn héng sǐ。又 信 世 间 邪 魔 外 道 妖 孽 之 师 妄 说 祸 福yòu xìn shì jiān xié mó wài dào yāo niè zhī shī wàng shuō huò fú，便 生 恐 动biàn shēng kǒng dòng，心 不 自 正xīn bú zì zhèng，卜 问 觅 祸bo wèn mì huò，杀 种 种 众 生shā zhǒng zhǒng zhòng shēng，解 奏 神 明jiě zòu shén míng，呼 诸 魍 魉hū zhū wǎng liǎng，请 乞 福 祐qǐng qǐ fú yòu，欲 冀 延 年yù jì yán nián，终 不 能 得zhōng bú néng dé。愚 痴 迷 惑yú chī mí huò，信 邪 倒 见xìn xié dǎo jiàn，遂 令 横 死suí lìng héng sǐ。入 于 地 狱rù yú dì yù，无 有 出 期wú yǒu chū qī，是 名 初 横shì míng chū héng。二 者 横 被 王 法 之 所 诛 戮èr zhě héng bèi wáng fǎ zhī suǒ zhū lù。三 者 畋 猎 嬉 戏sān zhě tián liè xī xì，耽 淫 嗜 酒dān yín shì jiǔ，放 逸 无 度fàng yì wú dù，横 为 非 人héng wéi fēi rén，夺 其 精 气duó qí jīng qì。四 者 横 为 火 焚sì zhě héng wéi huǒ fén，五 者 横 为 水 溺wǔ zhě héng wéi shuǐ nì，六 者 横 为 种 种 恶 兽 所 啖liù zhě héng wéi zhǒng zhǒng è shòu suǒ dàn，七 者 横 堕 山 崖qī zhě héng duò shān yá，八 者 横 为 毒 药bā zhě héng wéi dú yào、厌 祷yàn dǎo、咒 诅zhòu zǔ、起 尸 鬼 等 之 所 中 害qǐ shī guǐ děng zhī suǒ zhōng hài。九 者 饥 渴 所 困jiǔ zhě jī kě suǒ kùn，不 得 饮 食bú dé yǐn shí，而 便 横 死ér biàn héng sǐ。是 为 如 来 略 说 横 死shì wéi rú lái luè shuō héng sǐ，有 此 九 种yǒu cǐ jiǔ zhǒng，其 余 复 有 无 量 诸 横qí yú fù yǒu wú liàng zhū héng，难 可 具 说nán kě jù shuō。 复 次fù cì，阿 难ā nán！彼 琰 魔 王 主 领 世 间 名 籍 之 记bǐ yǎn mó wáng zhǔ lǐng shì jiān míng jí zhī jì，若 诸 有 情ruò zhū yǒu qíng，不 孝 五 逆bú xiào wǔ nì，破 辱 三 宝pò rǔ sān bǎo，坏 君 臣 法huài jun1 chén fǎ，毁 于 性 戒huǐ yú xìng jiè，琰 魔 法 王yǎn mó fǎ wáng，随 罪 轻 重suí zuì qīng zhòng，考 而 罚 之kǎo ér fá zhī。是 故 我 今 劝 诸 有 情shì gù wǒ jīn quàn zhū yǒu qíng，燃 灯 造 旛 幡rán dēng zào fān fān，放 生 修 福fàng shēng xiū fú，令 度 苦 厄lìng dù kǔ è，不 遭 众 难bú zāo zhòng nán。 尔 时 众 中ěr shí zhòng zhōng，有 十 二 药 叉 大 将yǒu shí èr yào chā dà jiāng，俱 在 会 坐 所 谓jù zài huì zuò ．suǒ wèi：宫 毗 罗 大 将gōng pí luó dà jiāng、伐 折 罗 大 将fá zhé luó dà jiāng、迷 企 罗 大 将mí qǐ luó dà jiāng、安 底 罗 大 将ān dǐ luó dà jiāng、頞 你 罗 大 将è nǐ luó dà jiāng、珊 底 罗 大 将shān dǐ luó dà jiāng、因 达 罗 大 将yīn dá luó dà jiāng、波 夷 罗 大 将bō yí luó dà jiāng、摩 虎 罗 大 将mó hǔ luó dà jiāng、真 达 罗 大 将zhēn dá luó dà jiāng、招 杜 罗 大 将zhāo dù luó dà jiāng、毗 羯 罗 大 将pí jié luó dà jiāng，此 十 二 药 叉 大 将cǐ shí èr yào chā dà jiāng，一 一 各 有 七 千 药 叉yī yī gè yǒu qī qiān yào chā，以 为 眷 属yǐ wéi juàn shǔ。同 时 举 声 白 佛 言tóng shí jǔ shēng bái fó yán：世 尊shì zūn！我 等 今 者wǒ děng jīn zhě，蒙 佛 威 力méng fó wēi lì，得 闻 世 尊 药 师 琉 璃 光 如 来 名 号dé wén shì zūn yào shī liú lí guāng rú lái míng hào，不 复 更 有 恶 趣 之 怖bú fù gèng yǒu è qù zhī bù。我 等 相 率wǒ děng xiàng lǜ，皆 同 一 心jiē tóng yī xīn，乃 至 尽 形 归 佛 法 僧nǎi zhì jìn xíng guī fó fǎ sēng，誓 当 荷 负 一 切 有 情shì dāng hé fù yī qiē yǒu qíng，为 作 义 利wéi zuò yì lì，饶 益 安 乐ráo yì ān lè，随 于 何 等 村 城 围 邑suí yú hé děng cūn chéng wéi yì，空 闲 林 中kōng xián lín zhōng，若 有 流 布 此 经ruò yǒu liú bù cǐ jīng，或 复 受 持 药 师 琉 璃 光 如 来 名 号huò fù shòu chí yào shī liú lí guāng rú lái míng hào，恭 敬 供 养 者gōng jìng gòng yǎng zhě，我 等 眷 属wǒ děng juàn shǔ，卫 护 是 人wèi hù shì rén，皆 使 解 脱 一 切 苦 难jiē shǐ xiè tuō yī qiē kǔ nán，诸 有 愿 求zhū yǒu yuàn qiú，悉 令 满 足xī lìng mǎn zú，或 有 疾 厄 求 度 脱 者huò yǒu jí è qiú dù tuō zhě，亦 应 读 诵 此 经yì yīng dú sòng cǐ jīng，以 五 色 缕yǐ wǔ sè lǚ，结 我 名 字jié wǒ míng zì，得 如 愿 已dé rú yuàn yǐ，然 后 解 结rán hòu jiě jié。 尔 时 世 尊ěr shí shì zūn，赞 诸 药 叉 大 将 言zàn zhū yào chā dà jiāng yán：善 哉shàn zāi！善 哉shàn zāi！大 药 叉 将dà yào chā jiāng！汝 等 念 报 世 尊 药 师 琉 璃 光 如 来 恩 德 者rǔ děng niàn bào shì zūn yào shī liú lí guāng rú lái ēn dé zhě，常 应 如 是 利 益 安 乐 一 切 有 情cháng yīng rú shì lì yì ān lè yī qiē yǒu qíng。 尔 时 阿 难 白 佛 言ěr shí ā nán bái fó yán：世 尊shì zūn！当 何 名 此 法 门dāng hé míng cǐ fǎ mén？我 等 云 何 奉 持wǒ děng yún hé fèng chí？佛 告 阿 难fó gào ā nán：此 法 门 名 说 药 师 琉 璃 光 如 来 本 愿 功 德cǐ fǎ mén míng shuō yào shī liú lí guāng rú lái běn yuàn gōng dé，亦 名 说 十 二 神 将 饶 益 有 情 结 愿 神 咒yì míng shuō shí èr shén jiāng ráo yì yǒu qíng jié yuàn shén zhòu，亦 名 拔 除 一 切 业 障yì míng bá chú yī qiē yè zhàng，应 如 是 持yīng rú shì chí。 时 薄 伽 梵shí báo qié fàn， 说 是 语 已shuō shì yǔ yǐ， 诸 菩 萨 摩 诃 萨 及 大 声 闻zhū pú sà mó hē sà jí dà shēng wén， 国 王guó wáng、大 臣dà chén、婆 罗 门pó luó mén、居 士jū shì、天 龙tiān lóng、药 叉yào chā、健 达 缚jiàn dá fù、阿 素 洛ā sù luò、揭 路 荼jiē lù tú、紧 捺 洛jǐn nà luò、莫 呼 洛 伽mò hū luò qié、人 非 人 等 一 切 大 众rén fēi rén děng yī qiē dà zhòng， 闻 佛 所 说wén fó suǒ shuō，皆 大 欢 喜jiē dà huān xǐ，信 受 奉 行xìn shòu fèng xíng。 药 师 偈yào shī jì 药 师 如 来 琉 璃 光yào shī rú lái liú lí guāng， 焰 网 庄 严 无 等 伦yàn wǎng zhuāng yán wú děng lún， 无 边 行 愿 利 有 情wú biān háng yuàn lì yǒu qíng， 各 遂 所 求 皆 不 退gè suí suǒ qiú jiē bú tuì 。 南 无 药 师 琉 璃 光 如 来nā mó yào shī liú lí guāng rú lái（三 称sān chēng） 南 无 日 光 遍 照 菩 萨nā mó rì guāng biàn zhào pú sà（三 称sān chēng） 南 无 月 光 遍 照 菩 萨nā mó yuè guāng biàn zhào pú sà（三 称sān chēng） 南 无 药 师 会 上 佛 菩 萨nā mó yào shī huì shàng fó pú sà（三 称sān chēng） 消 解 病 咒xiāo jiě bìng zhòu 唵 致 哩 多 致 哩 多 晖 咤 唎 娑 婆 诃ōng zhì lǐ duō zhì lǐ duō huī zhà lī suō pó hē（七 遍qī biàn） 赞 十 二 药 叉 大 将zàn shí èr yào chā dà jiāng 助 佛 宣 扬zhù fó xuān yáng， 五 色 彩 缕 结 其 名wǔ sè cǎi lǚ jié qí míng， 随 愿 悉 圆 成suí yuàn xī yuán chéng， 冤 业 冰 清yuān yè bīng qīng， 福 寿 永 康 宁fú shòu yǒng kāng níng 。 补 阙 真 言bǔ què zhēn yán 南 谟 喝 啰 怛 那ná mó hē lá dá nuó · 哆 啰 夜 耶duō lá yè yē 怯 啰 怯 啰qiè lá qiè lá · 俱 住 俱 住jù zhù jù zhù 摩 啰 虎 啰 吽mó lá hǔ lá hòng · 贺 贺hè hè · 苏 怛 拏sū dá ná · 吽hòng 泼 抹 拏pō mò ná · 娑 婆 诃suō pó hē 补 阙 圆 满 真 言bǔ què yuán mǎn zhēn yán 唵ōng · 呼 嚧hū lú · 呼 嚧hū lú · 社 曳 穆 契 娑 訶shè yè mù qiè suō hē（三 遍sān biàn） 解 冤 咒jiě yuān zhòu 解 结 解 结 解 冤 结jiě jié jiě jié jiě yuān jié， 解 了 多 生 冤 和 业jiě le duō shēng yuān hé yè， 洗 心 涤 虑 发 虔 诚xǐ xīn dí lǜ fā qián chéng， 今 对 佛 前 求 解 结jīn duì fó qián qiú jiě jié 。 药 师 佛yào shī fó，药 师 佛yào shī fó， 消 灾 延 寿 药 师 佛xiāo zāi yán shòu yào shī fó， 随 心 满 愿 药 师 佛suí xīn mǎn yuàn yào shī fó 。 七 佛 通 偈qī fó tōng jì 诸 恶 莫 做zhū è mò zuò， 众 善 奉 行zhòng shàn fèng háng， 自 净 其 意zì jìng qí yì， 是 诸 佛 教shì zhū fó jiāo。 回 向 偈huí xiàng jì 愿 以 此 功 德yuàn yǐ cǐ gōng dé 庄 严 佛 净 土zhuāng yán fó jìng tǔ 上 报 四 重 恩shàng bào sì zhòng ēn 下 济 三 途 苦xià jì sān tú kǔ 所 有 见 闻 者suǒ yǒu jiàn wén zhě 悉 发 菩 提 心xī fā pú tí xīn 尽 此 一 报 身jìn cǐ yī bào shēn 同 生 极 乐 国tóng shēng jí lè guó "}}