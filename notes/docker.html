
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Docker · wsj0051的个人笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="wsj0051">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-image-captions/image-captions.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-katex/katex.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-comscore/test.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/style.css">
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="c.html" />
    
    
    <link rel="prev" href="linux.html" />
    

    
        <meta name="google-adsense-account" content="ca-pub-7787441319194104">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7787441319194104"
     crossorigin="anonymous"></script>
    
    
        <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/x-icon">
    
    
    
    
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/images/apple-touch-icon-152.png">
    
    
        
    
    
        
    

    
    <link rel="stylesheet" href="../gitbook/gitbook-plugin-chart/c3/c3.min.css">
    <script src="../gitbook/gitbook-plugin-chart/c3/d3.min.js"></script>
    <script src="../gitbook/gitbook-plugin-chart/c3/c3.min.js"></script>
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="/home" target="_blank" class="custom-link">导航</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    说明
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">I 学习笔记</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="html5.html">
            
                <a href="html5.html">
            
                    
                    HTML5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="css3.html">
            
                <a href="css3.html">
            
                    
                    CSS3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="javascript.html">
            
                <a href="javascript.html">
            
                    
                    JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="es6.html">
            
                <a href="es6.html">
            
                    
                    ES6
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="python.html">
            
                <a href="python.html">
            
                    
                    Python
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="linux.html">
            
                <a href="linux.html">
            
                    
                    Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.7" data-path="docker.html">
            
                <a href="docker.html">
            
                    
                    Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="c.html">
            
                <a href="c.html">
            
                    
                    C语言
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">II 个人记录</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../other/windows.html">
            
                <a href="../other/windows.html">
            
                    
                    windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../other/postgresql.html">
            
                <a href="../other/postgresql.html">
            
                    
                    postgresql
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../other/git.html">
            
                <a href="../other/git.html">
            
                    
                    git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../other/adb.html">
            
                <a href="../other/adb.html">
            
                    
                    adb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../other/raspberry.html">
            
                <a href="../other/raspberry.html">
            
                    
                    树莓派
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../other/termux.html">
            
                <a href="../other/termux.html">
            
                    
                    Termux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../other/openwrt.html">
            
                <a href="../other/openwrt.html">
            
                    
                    OpenWrt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../other/tvbox.html">
            
                <a href="../other/tvbox.html">
            
                    
                    TVBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="../other/unfiled.html">
            
                <a href="../other/unfiled.html">
            
                    
                    未分类
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">III 经文</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../fojing/太上感应篇.html">
            
                <a href="../fojing/太上感应篇.html">
            
                    
                    太上感应篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../fojing/药师经.html">
            
                <a href="../fojing/药师经.html">
            
                    
                    药师经
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Docker</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#docker"><b></b>docker</a></li><ul><li><span class="title-icon "></span><a href="#apt&#x9ED8;&#x8BA4;&#x6E90;&#x4FEE;&#x6539;"><b></b>apt&#x9ED8;&#x8BA4;&#x6E90;&#x4FEE;&#x6539;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5907;&#x4EFD;&#x9ED8;&#x8BA4;&#x6E90;"><b></b>&#x5907;&#x4EFD;&#x9ED8;&#x8BA4;&#x6E90;</a></li><li><span class="title-icon "></span><a href="#wsl2-ubuntu&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x6E90;"><b></b>wsl2 ubuntu&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x6E90;</a></li><li><span class="title-icon "></span><a href="#&#x66F4;&#x65B0;&#x6E90;"><b></b>&#x66F4;&#x65B0;&#x6E90;</a></li></ul><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;docker"><b></b>&#x5B89;&#x88C5;docker</a></li><ul><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x4EE5;&#x5141;&#x8BB8;-apt-&#x901A;&#x8FC7;-https-&#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5E93;"><b></b>&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x4EE5;&#x5141;&#x8BB8; apt &#x901A;&#x8FC7; HTTPS &#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5E93;</a></li><li><span class="title-icon "></span><a href="#&#x6DFB;&#x52A0;-docker-&#x7684;&#x5B98;&#x65B9;-gpg-&#x5BC6;&#x94A5;"><b></b>&#x6DFB;&#x52A0; Docker &#x7684;&#x5B98;&#x65B9; GPG &#x5BC6;&#x94A5;</a></li><li><span class="title-icon "></span><a href="#&#x8BBE;&#x7F6E;&#x7A33;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5E93;"><b></b>&#x8BBE;&#x7F6E;&#x7A33;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5E93;</a></li><li><span class="title-icon "></span><a href="#&#x66F4;&#x65B0;-apt-&#x5305;&#x7D22;&#x5F15;"><b></b>&#x66F4;&#x65B0; apt &#x5305;&#x7D22;&#x5F15;</a></li></ul><li><span class="title-icon "></span><a href="#docker&#x955C;&#x50CF;&#x6E90;&#x4FEE;&#x6539;"><b></b>docker&#x955C;&#x50CF;&#x6E90;&#x4FEE;&#x6539;</a></li><li><span class="title-icon "></span><a href="#&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x4E0E;&#x91CD;&#x542F;"><b></b>&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x4E0E;&#x91CD;&#x542F;</a></li><li><span class="title-icon "></span><a href="#&#x955C;&#x50CF;&#x76F8;&#x5173;"><b></b>&#x955C;&#x50CF;&#x76F8;&#x5173;</a></li><ul><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;&#x955C;&#x50CF;"><b></b>&#x67E5;&#x770B;&#x955C;&#x50CF;</a></li><li><span class="title-icon "></span><a href="#&#x641C;&#x7D22;&#x955C;&#x50CF;"><b></b>&#x641C;&#x7D22;&#x955C;&#x50CF;</a></li><li><span class="title-icon "></span><a href="#&#x4E0B;&#x8F7D;"><b></b>&#x4E0B;&#x8F7D;</a></li><li><span class="title-icon "></span><a href="#&#x5220;&#x9664;&#x955C;&#x50CF;"><b></b>&#x5220;&#x9664;&#x955C;&#x50CF;</a></li></ul><li><span class="title-icon "></span><a href="#docker&#x5BB9;&#x5668;&#x76F8;&#x5173;"><b></b>docker&#x5BB9;&#x5668;&#x76F8;&#x5173;</a></li><ul><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;&#x5BB9;&#x5668;"><b></b>&#x67E5;&#x770B;&#x5BB9;&#x5668;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x4E0E;&#x542F;&#x52A8;&#x5BB9;&#x5668;"><b></b>&#x521B;&#x5EFA;&#x4E0E;&#x542F;&#x52A8;&#x5BB9;&#x5668;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;ip&#x5730;&#x5740;"><b></b>&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;ip&#x5730;&#x5740;</a></li><li><span class="title-icon "></span><a href="#&#x5220;&#x9664;&#x5BB9;&#x5668;"><b></b>&#x5220;&#x9664;&#x5BB9;&#x5668;</a></li></ul><li><span class="title-icon "></span><a href="#&#x5907;&#x4EFD;&#x4E0E;&#x8FC1;&#x79FB;"><b></b>&#x5907;&#x4EFD;&#x4E0E;&#x8FC1;&#x79FB;</a></li><li><span class="title-icon "></span><a href="#dockerfile"><b></b>Dockerfile</a></li><li><span class="title-icon "></span><a href="#docker&#x79C1;&#x6709;&#x4ED3;&#x5E93;"><b></b>Docker&#x79C1;&#x6709;&#x4ED3;&#x5E93;</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x7528;&#x5E94;&#x7528;&#x5B89;&#x88C5;"><b></b>&#x5E38;&#x7528;&#x5E94;&#x7528;&#x5B89;&#x88C5;</a></li><ul><li><span class="title-icon "></span><a href="#tomcat"><b></b>tomcat</a></li><li><span class="title-icon "></span><a href="#nginx"><b></b>nginx</a></li><li><span class="title-icon "></span><a href="#redis"><b></b>redis</a></li><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;portainer-ce&#x4E2D;&#x6587;&#x7248;"><b></b>&#x5B89;&#x88C5;Portainer-CE&#x4E2D;&#x6587;&#x7248;</a></li><li><span class="title-icon "></span><a href="#code-server"><b></b>code-server</a></li><li><span class="title-icon "></span><a href="#php-env&#x80A5;&#x7F8A;"><b></b>php-env&#x80A5;&#x7F8A;</a></li><li><span class="title-icon "></span><a href="#ubuntu"><b></b>ubuntu</a></li><li><span class="title-icon "></span><a href="#xteve"><b></b>xteve</a></li><li><span class="title-icon "></span><a href="#aria2"><b></b>aria2</a></li><li><span class="title-icon "></span><a href="#aria2-webui&#x63A7;&#x5236;&#x53F0;"><b></b>aria2 webUi&#x63A7;&#x5236;&#x53F0;</a></li><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;nextcloud"><b></b>&#x5B89;&#x88C5;nextcloud</a></li><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;&#x8FC5;&#x96F7;"><b></b>&#x5B89;&#x88C5;&#x8FC5;&#x96F7;</a></li><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;alist"><b></b>&#x5B89;&#x88C5;alist</a></li><li><span class="title-icon "></span><a href="#photoprism&#x79C1;&#x4EBA;&#x76F8;&#x518C;"><b></b>photoprism&#x79C1;&#x4EBA;&#x76F8;&#x518C;</a></li><li><span class="title-icon "></span><a href="#emby"><b></b>emby</a></li><li><span class="title-icon "></span><a href="#jackett"><b></b>jackett</a></li><li><span class="title-icon "></span><a href="#qbittorrent"><b></b>qbittorrent</a></li><li><span class="title-icon "></span><a href="#jellyfin"><b></b>jellyfin</a></li></ul><li><span class="title-icon "></span><a href="#&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;"><b></b>&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;</a></li><ul><li><span class="title-icon "></span><a href="#docker-&#x4EE3;&#x7406;"><b></b>Docker &#x4EE3;&#x7406;</a></li><li><span class="title-icon "></span><a href="#container-&#x4EE3;&#x7406;"><b></b>Container &#x4EE3;&#x7406;</a></li><li><span class="title-icon "></span><a href="#docker-build-&#x4EE3;&#x7406;"><b></b>Docker Build &#x4EE3;&#x7406;</a></li><li><span class="title-icon "></span><a href="#&#x91CD;&#x542F;&#x751F;&#x6548;&#x914D;&#x7F6E;"><b></b>&#x91CD;&#x542F;&#x751F;&#x6548;&#x914D;&#x7F6E;</a></li></ul></ul></ul></div><a href="#docker" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="docker"><a name="docker" class="anchor-navigation-ex-anchor" href="#docker"><i class="fa fa-link" aria-hidden="true"></i></a>docker</h1>
<h2 id="apt&#x9ED8;&#x8BA4;&#x6E90;&#x4FEE;&#x6539;"><a name="apt&#x9ED8;&#x8BA4;&#x6E90;&#x4FEE;&#x6539;" class="anchor-navigation-ex-anchor" href="#apt&#x9ED8;&#x8BA4;&#x6E90;&#x4FEE;&#x6539;"><i class="fa fa-link" aria-hidden="true"></i></a>apt&#x9ED8;&#x8BA4;&#x6E90;&#x4FEE;&#x6539;</h2>
<h3 id="&#x5907;&#x4EFD;&#x9ED8;&#x8BA4;&#x6E90;"><a name="&#x5907;&#x4EFD;&#x9ED8;&#x8BA4;&#x6E90;" class="anchor-navigation-ex-anchor" href="#&#x5907;&#x4EFD;&#x9ED8;&#x8BA4;&#x6E90;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5907;&#x4EFD;&#x9ED8;&#x8BA4;&#x6E90;</h3>
<pre><code class="lang-shell">cp /etc/apt/sources.list /etc/apt/sourses.list.bak
</code></pre>
<h3 id="wsl2-ubuntu&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x6E90;"><a name="wsl2-ubuntu&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x6E90;" class="anchor-navigation-ex-anchor" href="#wsl2-ubuntu&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x6E90;"><i class="fa fa-link" aria-hidden="true"></i></a>wsl2 ubuntu&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x6E90;</h3>
<p>&#x7F16;&#x8F91;&#x6587;&#x4EF6;<code>vim /etc/apt/sources.list</code></p>
<pre><code class="lang-shell">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
</code></pre>
<h3 id="&#x66F4;&#x65B0;&#x6E90;"><a name="&#x66F4;&#x65B0;&#x6E90;" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;&#x6E90;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66F4;&#x65B0;&#x6E90;</h3>
<pre><code class="lang-shell">apt-get update
apt-get upgrade
</code></pre>
<h2 id="&#x5B89;&#x88C5;docker"><a name="&#x5B89;&#x88C5;docker" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;docker"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;docker</h2>
<h3 id="&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x4EE5;&#x5141;&#x8BB8;-apt-&#x901A;&#x8FC7;-https-&#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5E93;"><a name="&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x4EE5;&#x5141;&#x8BB8;-apt-&#x901A;&#x8FC7;-https-&#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5E93;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x4EE5;&#x5141;&#x8BB8;-apt-&#x901A;&#x8FC7;-https-&#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5E93;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;&#x8F6F;&#x4EF6;&#x5305;&#x4EE5;&#x5141;&#x8BB8; apt &#x901A;&#x8FC7; HTTPS &#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5E93;</h3>
<pre><code class="lang-shell">apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common
</code></pre>
<h3 id="&#x6DFB;&#x52A0;-docker-&#x7684;&#x5B98;&#x65B9;-gpg-&#x5BC6;&#x94A5;"><a name="&#x6DFB;&#x52A0;-docker-&#x7684;&#x5B98;&#x65B9;-gpg-&#x5BC6;&#x94A5;" class="anchor-navigation-ex-anchor" href="#&#x6DFB;&#x52A0;-docker-&#x7684;&#x5B98;&#x65B9;-gpg-&#x5BC6;&#x94A5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6DFB;&#x52A0; Docker &#x7684;&#x5B98;&#x65B9; GPG &#x5BC6;&#x94A5;</h3>
<pre><code class="lang-shell">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
</code></pre>
<h3 id="&#x8BBE;&#x7F6E;&#x7A33;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5E93;"><a name="&#x8BBE;&#x7F6E;&#x7A33;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5E93;" class="anchor-navigation-ex-anchor" href="#&#x8BBE;&#x7F6E;&#x7A33;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5E93;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BBE;&#x7F6E;&#x7A33;&#x5B9A;&#x7684;&#x5B58;&#x50A8;&#x5E93;</h3>
<pre><code class="lang-shell">add-apt-repository \
   &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   $(lsb_release -cs) \
   stable&quot;
</code></pre>
<h3 id="&#x66F4;&#x65B0;-apt-&#x5305;&#x7D22;&#x5F15;"><a name="&#x66F4;&#x65B0;-apt-&#x5305;&#x7D22;&#x5F15;" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;-apt-&#x5305;&#x7D22;&#x5F15;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66F4;&#x65B0; apt &#x5305;&#x7D22;&#x5F15;</h3>
<pre><code class="lang-shell">apt-get update
docker --version
sudo gpasswd -a &#x7528;&#x6237;&#x540D; docker
</code></pre>
<h2 id="docker&#x955C;&#x50CF;&#x6E90;&#x4FEE;&#x6539;"><a name="docker&#x955C;&#x50CF;&#x6E90;&#x4FEE;&#x6539;" class="anchor-navigation-ex-anchor" href="#docker&#x955C;&#x50CF;&#x6E90;&#x4FEE;&#x6539;"><i class="fa fa-link" aria-hidden="true"></i></a>docker&#x955C;&#x50CF;&#x6E90;&#x4FEE;&#x6539;</h2>
<p><code>vim /etc/docker/daemon.json</code>&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;</p>
<pre><code class="lang-json">{
<span class="hljs-string">&quot;registry-mirrors&quot;</span>:[<span class="hljs-string">&quot;https://hub-mirror.c.163.com&quot;</span>,<span class="hljs-string">&quot;https://registry.aliyuncs.com&quot;</span>,<span class="hljs-string">&quot;https://registry.docker-cn.com&quot;</span>,<span class="hljs-string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>]
}
</code></pre>
<h2 id="&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x4E0E;&#x91CD;&#x542F;"><a name="&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x4E0E;&#x91CD;&#x542F;" class="anchor-navigation-ex-anchor" href="#&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x4E0E;&#x91CD;&#x542F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x4E0E;&#x91CD;&#x542F;</h2>
<pre><code class="lang-shell">sudo service docker start
sudo service docker stop
sudo service docker restart
</code></pre>
<h2 id="&#x955C;&#x50CF;&#x76F8;&#x5173;"><a name="&#x955C;&#x50CF;&#x76F8;&#x5173;" class="anchor-navigation-ex-anchor" href="#&#x955C;&#x50CF;&#x76F8;&#x5173;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x955C;&#x50CF;&#x76F8;&#x5173;</h2>
<h3 id="&#x67E5;&#x770B;&#x955C;&#x50CF;"><a name="&#x67E5;&#x770B;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x955C;&#x50CF;</h3>
<pre><code class="lang-shell">docker images
</code></pre>
<h3 id="&#x641C;&#x7D22;&#x955C;&#x50CF;"><a name="&#x641C;&#x7D22;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x641C;&#x7D22;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x641C;&#x7D22;&#x955C;&#x50CF;</h3>
<pre><code class="lang-shell">docker search &#x955C;&#x50CF;&#x540D;
</code></pre>
<h3 id="&#x4E0B;&#x8F7D;"><a name="&#x4E0B;&#x8F7D;" class="anchor-navigation-ex-anchor" href="#&#x4E0B;&#x8F7D;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E0B;&#x8F7D;</h3>
<pre><code class="lang-shell">docker pull &#x955C;&#x50CF;&#x540D;
</code></pre>
<h3 id="&#x5220;&#x9664;&#x955C;&#x50CF;"><a name="&#x5220;&#x9664;&#x955C;&#x50CF;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;&#x955C;&#x50CF;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;&#x955C;&#x50CF;</h3>
<p>&#x6309;&#x955C;&#x50CF;id&#x5220;&#x9664;</p>
<pre><code class="lang-shell">docker rmi &#x955C;&#x50CF;id
</code></pre>
<p>&#x5220;&#x9664;&#x6240;&#x6709;&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">docker rmi `docker images -q`
</code></pre>
<h2 id="docker&#x5BB9;&#x5668;&#x76F8;&#x5173;"><a name="docker&#x5BB9;&#x5668;&#x76F8;&#x5173;" class="anchor-navigation-ex-anchor" href="#docker&#x5BB9;&#x5668;&#x76F8;&#x5173;"><i class="fa fa-link" aria-hidden="true"></i></a>docker&#x5BB9;&#x5668;&#x76F8;&#x5173;</h2>
<h3 id="&#x67E5;&#x770B;&#x5BB9;&#x5668;"><a name="&#x67E5;&#x770B;&#x5BB9;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x5BB9;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x5BB9;&#x5668;</h3>
<p>&#x67E5;&#x770B;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker ps
</code></pre>
<p>&#x67E5;&#x770B;&#x6240;&#x6709;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker ps -a
</code></pre>
<p>&#x67E5;&#x770B;&#x505C;&#x6B62;&#x7684;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker ps -f status=exited
</code></pre>
<h3 id="&#x521B;&#x5EFA;&#x4E0E;&#x542F;&#x52A8;&#x5BB9;&#x5668;"><a name="&#x521B;&#x5EFA;&#x4E0E;&#x542F;&#x52A8;&#x5BB9;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x4E0E;&#x542F;&#x52A8;&#x5BB9;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x521B;&#x5EFA;&#x4E0E;&#x542F;&#x52A8;&#x5BB9;&#x5668;</h3>
<p>&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x547D;&#x4EE4;&#xFF1A;<code>docker run</code>
-i: &#x8868;&#x793A;&#x8FD0;&#x884C;&#x5BB9;&#x5668;
-t: &#x8868;&#x793A;&#x542F;&#x52A8;&#x540E;&#x8FDB;&#x5165;&#x5176;&#x547D;&#x4EE4;&#x884C;
--name: &#x4E3A;&#x5BB9;&#x5668;&#x547D;&#x540D;
-v: &#x8868;&#x793A;&#x76EE;&#x5F55;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF08;&#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;:&#x5BB9;&#x5668;&#x7684;&#x76EE;&#x5F55;&#xFF09;
-d: &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B88;&#x62A4;&#x5F0F;&#x5BB9;&#x5668;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;
-p: &#x8868;&#x793A;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF08;&#x5BBF;&#x4E3B;&#x673A;&#x7AEF;&#x53E3;&#xFF1A;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x6620;&#x5C04;&#x7AEF;&#x53E3;&#xFF09;</p>
<ol>
<li><p>&#x4EA4;&#x4E92;&#x5F0F;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker run -it --name=&#x5BB9;&#x5668;&#x540D;&#x79F0; &#x955C;&#x50CF;&#x540D;&#x79F0;:&#x6807;&#x7B7E; /bin/bash
</code></pre>
</li>
<li><p>&#x5B88;&#x62A4;&#x5F0F;&#x521B;&#x5EFA;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker run -di --name=&#x5BB9;&#x5668;&#x540D;&#x79F0; &#x955C;&#x50CF;&#x540D;&#x79F0;:&#x6807;&#x7B7E;
</code></pre>
</li>
<li><p>&#x767B;&#x5F55;&#x5B88;&#x62A4;&#x5F0F;&#x5BB9;&#x5668;&#x65B9;&#x5F0F;</p>
<pre><code class="lang-shell"> docker exec -it &#x5BB9;&#x5668;&#x540D;&#x79F0;&#x6216;&#x5BB9;&#x5668;id /bin/bash
</code></pre>
</li>
<li><p>&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker start &#x5BB9;&#x5668;&#x540D;&#x79F0;&#x6216;&#x5BB9;&#x5668;id
docker stop &#x5BB9;&#x5668;&#x540D;&#x79F0;&#x6216;&#x5BB9;&#x5668;id
</code></pre>
</li>
<li><p>&#x5C06;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x5BB9;&#x5668;</p>
<pre><code class="lang-shell">docker cp &#x8981;&#x62F7;&#x8D1D;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55; &#x5BB9;&#x5668;&#x540D;&#x79F0;:&#x5BB9;&#x5668;&#x76EE;&#x5F55;
</code></pre>
</li>
<li><p>&#x5C06;&#x6587;&#x4EF6;&#x4ECE;&#x5BB9;&#x5668;&#x62F7;&#x8D1D;&#x51FA;&#x6765;</p>
<pre><code class="lang-shell"> docker cp &#x8981;&#x62F7;&#x8D1D;&#x7684;&#x5BB9;&#x5668;&#x540D;&#x79F0;:&#x8981;&#x62F7;&#x8D1D;&#x7684;&#x5BB9;&#x5668;&#x76EE;&#x5F55; &#x672C;&#x5730;&#x76EE;&#x5F55;
</code></pre>
</li>
<li><p>&#x76EE;&#x5F55;&#x6302;&#x8F7D;</p>
<pre><code class="lang-shell">docker run -di -v &#x5BBF;&#x4E3B;&#x673A;&#x76EE;&#x5F55;:&#x5BB9;&#x5668;&#x76EE;&#x5F55; --name=&#x81EA;&#x5B9A;&#x4E49;&#x5BB9;&#x5668;&#x540D; &#x955C;&#x50CF;&#x540D;:tag
</code></pre>
</li>
</ol>
<h3 id="&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;ip&#x5730;&#x5740;"><a name="&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;ip&#x5730;&#x5740;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;ip&#x5730;&#x5740;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x5BB9;&#x5668;&#x7684;ip&#x5730;&#x5740;</h3>
<pre><code class="lang-shell">docker inspect &#x5BB9;&#x5668;&#x540D;&#x79F0;&#xFF08;&#x5BB9;&#x5668;id&#xFF09;
docker inspect --format=&apos;{{.NetworkSettings.IPAddress}}&apos; &#x5BB9;&#x5668;&#x540D;
</code></pre>
<h3 id="&#x5220;&#x9664;&#x5BB9;&#x5668;"><a name="&#x5220;&#x9664;&#x5BB9;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x5220;&#x9664;&#x5BB9;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5220;&#x9664;&#x5BB9;&#x5668;</h3>
<pre><code class="lang-shell">docker stop &#x5BB9;&#x5668;&#x540D;
docker rm &#x5BB9;&#x5668;&#x540D;
</code></pre>
<h2 id="&#x5907;&#x4EFD;&#x4E0E;&#x8FC1;&#x79FB;"><a name="&#x5907;&#x4EFD;&#x4E0E;&#x8FC1;&#x79FB;" class="anchor-navigation-ex-anchor" href="#&#x5907;&#x4EFD;&#x4E0E;&#x8FC1;&#x79FB;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5907;&#x4EFD;&#x4E0E;&#x8FC1;&#x79FB;</h2>
<ol>
<li><p>&#x4FDD;&#x5B58;&#x4E3A;&#x955C;&#x50CF;</p>
<pre><code class="lang-shell"> docker commit nginx mynginx
</code></pre>
</li>
<li><p>&#x955C;&#x50CF;&#x5907;&#x4EFD;&#xFF0C;&#x4FDD;&#x5B58;&#x4E3A;tar</p>
<pre><code class="lang-shell"> docker save -o mynginx.tar mynginx
</code></pre>
</li>
<li><p>&#x6062;&#x590D;&#x4E0E;&#x8FC1;&#x79FB;&#xFF0C;&#x52A0;&#x8F7D;tar&#x6587;&#x4EF6;</p>
<pre><code class="lang-shell"> docker load -i mynginx.tar
</code></pre>
</li>
</ol>
<h2 id="dockerfile"><a name="dockerfile" class="anchor-navigation-ex-anchor" href="#dockerfile"><i class="fa fa-link" aria-hidden="true"></i></a>Dockerfile</h2>
<p>Dockerfile&#x662F;&#x4E00;&#x7CFB;&#x5217;&#x547D;&#x4EE4;&#x548C;&#x53C2;&#x6570;&#x6784;&#x6210;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x5E76;&#x6700;&#x7EC8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x547D;&#x4EE4;</th>
<th>&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">FROM image_name:tag</td>
<td>&#x5B9A;&#x4E49;&#x4E86;&#x4F7F;&#x7528;&#x54EA;&#x4E2A;&#x57FA;&#x7840;&#x955C;&#x50CF;&#x542F;&#x52A8;&#x6784;&#x5EFA;&#x6D41;&#x7A0B;</td>
</tr>
<tr>
<td style="text-align:left">MAINTAINER user_name</td>
<td>&#x58F0;&#x660E;&#x955C;&#x50CF;&#x7684;&#x521B;&#x5EFA;&#x8005;</td>
</tr>
<tr>
<td style="text-align:left">ENV key value</td>
<td>&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:left">RUN command</td>
<td>Dockerfile&#x7684;&#x6838;&#x5FC3;&#x90E8;&#x5206;</td>
</tr>
<tr>
<td style="text-align:left">ADD source_dir/file dest_dir/file</td>
<td>&#x5C06;&#x5BBF;&#x4E3B;&#x673A;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x5BB9;&#x5668;&#x5185;&#xFF0C;&#x538B;&#x7F29;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x89E3;&#x538B;</td>
</tr>
<tr>
<td style="text-align:left">WORKDIR path_dir</td>
<td>&#x8BBE;&#x7F6E;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</td>
</tr>
</tbody>
</table>
<p>&#x4EE5;jdk8&#x4E3A;&#x4F8B;&#x521B;&#x5EFA;Dockerfile</p>
<pre><code class="lang-shell">mkdir -p /user/local/docker-jdk8
vi Dockerfile
</code></pre>
<p>&#x4EE5;&#x4E0B;&#x4E3A;Dockerfile&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code class="lang-text">FROM ubuntu
MAINTAINER wsj0051
WORKDIR /usr
RUN mkdir /usr/local/java
ADD jdk*.tar.gz /usr/local/java/
ENV JAVA_HOME /usr/local/java/jdk1.8
ENV JRE_HOME $JAVA_HOME/jre
ENV CLASSPATH $JAVA_HOME/bin/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib:$CLASSPATH
ENV PATH $JAVA_HOME/bin:$PATH
</code></pre>
<p>&#x6267;&#x884C;&#x547D;&#x4EE4;&#x6784;&#x5EFA;&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">docker build -t=&apos;jdk1.8&apos; .
</code></pre>
<h2 id="docker&#x79C1;&#x6709;&#x4ED3;&#x5E93;"><a name="docker&#x79C1;&#x6709;&#x4ED3;&#x5E93;" class="anchor-navigation-ex-anchor" href="#docker&#x79C1;&#x6709;&#x4ED3;&#x5E93;"><i class="fa fa-link" aria-hidden="true"></i></a>Docker&#x79C1;&#x6709;&#x4ED3;&#x5E93;</h2>
<ol>
<li><p>&#x62C9;&#x53D6;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#x955C;&#x50CF;</p>
<pre><code class="lang-shell">docker pull registry
</code></pre>
</li>
<li><p>&#x542F;&#x52A8;&#x79C1;&#x6709;&#x4ED3;&#x5E93;</p>
<pre><code class="lang-shell">docker run -di --name=registry -p 5000:5000 registry
</code></pre>
</li>
<li><p>&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;&#x5730;&#x5740;<a href="http://ip:5000/v2/_catalog" target="_blank">http://ip:5000/v2/_catalog</a>&#x770B;&#x5230;{&quot;repositories&quot;:[]}&#x8868;&#x793A;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#x642D;&#x5EFA;&#x6210;&#x529F;&#x5E76;&#x4E14;&#x5185;&#x5BB9;&#x4E3A;&#x7A7A;</p>
</li>
<li><p>&#x4FEE;&#x6539;<code>/etc/docker/daemon.json</code></p>
<pre><code class="lang-shell">{&quot;insecure-registries&quot;:[&quot;ip:5000&quot;]}
</code></pre>
</li>
<li><p>&#x5C06;&#x955C;&#x50CF;&#x4E0A;&#x4F20;&#x5230;&#x79C1;&#x6709;&#x4ED3;&#x5E93;</p>
<pre><code class="lang-shell">docker tag jdk1.8 ip:5000/jdk1.8
docker push ip:5000/jdk1.8
</code></pre>
</li>
</ol>
<h2 id="&#x5E38;&#x7528;&#x5E94;&#x7528;&#x5B89;&#x88C5;"><a name="&#x5E38;&#x7528;&#x5E94;&#x7528;&#x5B89;&#x88C5;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x7528;&#x5E94;&#x7528;&#x5B89;&#x88C5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E38;&#x7528;&#x5E94;&#x7528;&#x5B89;&#x88C5;</h2>
<h3 id="tomcat"><a name="tomcat" class="anchor-navigation-ex-anchor" href="#tomcat"><i class="fa fa-link" aria-hidden="true"></i></a>tomcat</h3>
<pre><code class="lang-shell">docker run -di --name=mytomcat -p 8080:8080 -v /usr/local/webapps:/usr/local/tomcat/webapps tomcat:7-jre7
</code></pre>
<h3 id="nginx"><a name="nginx" class="anchor-navigation-ex-anchor" href="#nginx"><i class="fa fa-link" aria-hidden="true"></i></a>nginx</h3>
<pre><code class="lang-shell">docker run -d -p 80:80 --name nginx --restart unless-stopped nginx
</code></pre>
<p>&#x5C06;&#x672C;&#x5730;&#x7684;html&#x6587;&#x4EF6;&#x5939;&#x590D;&#x5236;&#x5230;nginx&#x4E0B;</p>
<pre><code>docker cp html nginx:/usr/share/nginx/
</code></pre><h3 id="redis"><a name="redis" class="anchor-navigation-ex-anchor" href="#redis"><i class="fa fa-link" aria-hidden="true"></i></a>redis</h3>
<pre><code class="lang-shell">docker run -di --name=myredis -p 5379:6379 redis
</code></pre>
<h3 id="&#x5B89;&#x88C5;portainer-ce&#x4E2D;&#x6587;&#x7248;"><a name="&#x5B89;&#x88C5;portainer-ce&#x4E2D;&#x6587;&#x7248;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;portainer-ce&#x4E2D;&#x6587;&#x7248;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;Portainer-CE&#x4E2D;&#x6587;&#x7248;</h3>
<p>Portainer-CE&#x662F;docker&#x7684;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x9762;&#x677F;&#xFF0C;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x9875;&#x9762;&#x65B9;&#x4FBF;&#x64CD;&#x4F5C;docker&#x3002;</p>
<p>&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#xFF0C;&#x4E00;&#x952E;&#x5B89;&#x88C5;Portainer-CE&#x4E2D;&#x6587;&#x7248;&#xFF1B;</p>
<pre><code>docker run -d --restart=always --name=&quot;portainer&quot; -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data 6053537/portainer-ce:linux-arm64
</code></pre><h3 id="code-server"><a name="code-server" class="anchor-navigation-ex-anchor" href="#code-server"><i class="fa fa-link" aria-hidden="true"></i></a>code-server</h3>
<pre><code>docker run -d --restart always --name code-server -p 8090:8080 \
  -v /usr/local/src/appdata/code-server/config:/home/coder/.config \
  -v /home/pi/wsj0051:/home/coder/project \
  -u &quot;$(id -u):$(id -g)&quot; \
  -e &quot;DOCKER_USER=$USER&quot; \
  -e PASSWORD=******** \
codercom/code-server:latest
</code></pre><h3 id="php-env&#x80A5;&#x7F8A;"><a name="php-env&#x80A5;&#x7F8A;" class="anchor-navigation-ex-anchor" href="#php-env&#x80A5;&#x7F8A;"><i class="fa fa-link" aria-hidden="true"></i></a>php-env&#x80A5;&#x7F8A;</h3>
<pre><code>docker run -d --restart unless-stopped \
--privileged=true -p 5678:80 \
--name php-env \
-v /usr/local/src/appdata/php-env:/var/www/html \
youshandefeiyang/php-env:arm64
</code></pre><h3 id="ubuntu"><a name="ubuntu" class="anchor-navigation-ex-anchor" href="#ubuntu"><i class="fa fa-link" aria-hidden="true"></i></a>ubuntu</h3>
<pre><code>docker run --restart=unless-stopped -d  \
   --dns=172.17.0.1     -u=0:0     --shm-size=512m  \
   -p 6901:6901     -e VNC_PW=password    \
   -e VNC_USE_HTTP=0  -e TZ=Asia/Shanghai \
   -v /mnt:/mnt:rslave \
   --name ubuntu \
   &quot;linkease/desktop-ubuntu-standard-arm64:latest&quot;
</code></pre><h3 id="xteve"><a name="xteve" class="anchor-navigation-ex-anchor" href="#xteve"><i class="fa fa-link" aria-hidden="true"></i></a>xteve</h3>
<pre><code>docker run -d \
  --restart unless-stopped \
  --name=xteve_guide2go \
  --net=host \
  --log-opt max-size=10m \
  --log-opt max-file=3 \
  -e TZ=&quot;Asia/Shanghai&quot; \
  -v /usr/local/src/appdata/xteve/:/root/.xteve:rw \
  -v /usr/local/src/appdata/xteve/_config/:/config:rw \
  -v /usr/local/src/appdata/xteve/_guide2go/:/guide2go:rw \
  -v /tmp/xteve/:/tmp/xteve:rw \
  -v /usr/local/src/appdata/tvheadend/data/:/TVH \
  jjm2473/xteve_guide2go
</code></pre><h3 id="aria2"><a name="aria2" class="anchor-navigation-ex-anchor" href="#aria2"><i class="fa fa-link" aria-hidden="true"></i></a>aria2</h3>
<pre><code>docker run -d \
    --name aria2-pro \
    --restart unless-stopped \
    --log-opt max-size=1m \
    -e PUID=$UID \
    -e PGID=$GID \
    -e UMASK_SET=022 \
    -e RPC_SECRET=XXXXXX \
    -e RPC_PORT=6800 \
    -e IPV6_MODE=true \
    -p 6800:6800 \
    -e LISTEN_PORT=6888 \
    -p 6888:6888 \
    -p 6888:6888/udp \
    -v /usr/local/src/appdata/aria2/aria2-config:/config \
    -v /mnt/sda1/Public/Downloads:/downloads \
    p3terx/aria2-pro
</code></pre><h3 id="aria2-webui&#x63A7;&#x5236;&#x53F0;"><a name="aria2-webui&#x63A7;&#x5236;&#x53F0;" class="anchor-navigation-ex-anchor" href="#aria2-webui&#x63A7;&#x5236;&#x53F0;"><i class="fa fa-link" aria-hidden="true"></i></a>aria2 webUi&#x63A7;&#x5236;&#x53F0;</h3>
<p><a href="https://p3terx.com/archives/aria2-frontend-ariang-tutorial.html" target="_blank">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<pre><code># bridge &#x7F51;&#x7EDC;&#x6A21;&#x5F0F;
docker run -d \
    --name ariang \
    --restart unless-stopped \
    --log-opt max-size=1m \
    -p 6880:6880 \
    p3terx/ariang

# host &#x7F51;&#x7EDC;&#x6A21;&#x5F0F;&#xFF08;&#x5982;&#x679C;&#x4F60;&#x9700;&#x8981;&#x4F7F;&#x7528; IPv6 &#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x65B9;&#x5F0F;&#xFF09;
docker run -d \
    --name ariang \
    --log-opt max-size=1m \
    --restart unless-stopped \
    --network host \
    p3terx/ariang --port 6880 --ipv6
</code></pre><h3 id="&#x5B89;&#x88C5;nextcloud"><a name="&#x5B89;&#x88C5;nextcloud" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;nextcloud"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;nextcloud</h3>
<h4 id="&#x4F7F;&#x7528;mariadb"><a name="&#x4F7F;&#x7528;mariadb" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;mariadb"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F7F;&#x7528;mariadb</h4>
<ol>
<li>&#x5148;&#x5B89;&#x88C5;&#x6570;&#x636E;&#x5E93;mariadb&#xFF1A;Docker&#x62C9;&#x53D6;mariadb&#x955C;&#x50CF;&#x5E76;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#xFF0C;&#x8FDB;&#x5165;&#x7EC8;&#x7AEF;&#xFF0C;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x5E76;&#x56DE;&#x8F66;&#x8FD0;&#x884C;(&#x5148;&#x522B;&#x76F4;&#x63A5;&#x590D;&#x5236;&#x8F93;&#x5165;&#xFF0C;&#x4E0B;&#x65B9;&#x6709;&#x8BF4;&#x660E;);<pre><code> docker run -d --name mariadb \
     -p 3306:3306 \
     -e MYSQL_ROOT_PASSWORD=****** \
     -v /usr/local/src/appdata/mariadb:/var/lib/mysql \
     --restart unless-stopped \
     mariadb:10.5.12
</code></pre><ul>
<li>&#x8BF4;&#x660E;&#xFF1A;<ul>
<li><code>MYSQL_ROOT_PASSWORD=123456</code> &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5E93;<code>root</code>&#x8D26;&#x6237;&#x5BC6;&#x7801;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;<code>123456</code>&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;&#x3002;</li>
<li><code>3344:3306</code> &#x5C06;<code>mariadb</code>&#x6570;&#x636E;&#x5E93;&#x7684;<code>3306</code>&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x4E3A;<code>3344</code>&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;</li>
<li>&#x8FDE;&#x63A5;&#x547D;&#x4EE4;&#x540C;mysql<code>mysql -u root -p</code></li>
</ul>
</li>
</ul>
</li>
</ol>
<ol>
<li>&#x518D;&#x5B89;&#x88C5;Nextcloud&#xFF1A;Docker&#x62C9;&#x53D6;nextcloud&#x955C;&#x50CF;&#x5E76;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#xFF0C;&#x8FDB;&#x5165;&#x7EC8;&#x7AEF;&#xFF0C;&#x8F93;&#x5165;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x5E76;&#x56DE;&#x8F66;&#x8FD0;&#x884C;(&#x5148;&#x522B;&#x76F4;&#x63A5;&#x590D;&#x5236;&#x8F93;&#x5165;&#xFF0C;&#x4E0B;&#x65B9;&#x6709;&#x8BF4;&#x660E;);<pre><code> docker run -d --name nextcloud \
 -p 3333:80 \
 -v /usr/local/src/appdata/nextcloud/html:/var/www/html \
 -v /usr/local/src/appdata/nextcloud/data:/var/www/html/data \
 -v /usr/local/src/appdata/nextcloud/apps:/var/www/html/custom_apps \
 -v /usr/local/src/appdata/nextcloud/config:/var/www/html/config \
 --restart unless-stopped \
 nextcloud
</code></pre><ul>
<li>&#x8BF4;&#x660E;&#xFF1A;<ul>
<li><code>/usr/local/src/appdata/nextcloud/html</code> Nextcloud&#x4E3B;&#x6587;&#x4EF6;&#x5939;&#x7684;&#x6620;&#x5C04;&#x76EE;&#x5F55;&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;&#x3002;</li>
<li><code>/usr/local/src/appdata/nextcloud/data</code> &#x5B9E;&#x9645;&#x6570;&#x636E;&#x7684;&#x6620;&#x5C04;&#x76EE;&#x5F55;&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;&#x3002;</li>
<li><code>/usr/local/src/appdata/nextcloud/apps</code> &#x5B89;&#x88C5;/&#x4FEE;&#x6539;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6620;&#x5C04;&#x76EE;&#x5F55;&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;&#x3002;</li>
<li><code>/usr/local/src/appdata/nextcloud/config</code> &#x672C;&#x5730;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x6620;&#x5C04;&#x76EE;&#x5F55;&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;&#x3002;</li>
<li><code>3333:80</code> &#x5C06;nextcloud&#x7684;&#x8BBF;&#x95EE;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x4E3A;3333&#xFF0C;&#x6309;&#x9700;&#x4FEE;&#x6539;&#x3002;</li>
</ul>
</li>
</ul>
</li>
</ol>
<h4 id="&#x4F7F;&#x7528;mysql"><a name="&#x4F7F;&#x7528;mysql" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;mysql"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F7F;&#x7528;mysql</h4>
<pre><code class="lang-shell"># mysql
docker run -d --name mysql \
    -v /usr/local/src/appdata/mysql:/var/lib/mysql \
    -e MYSQL_ROOT_PASSWORD=****** \
    -e MYSQL_DATABASE=nextcloud \
    -e MYSQL_USER=nextcloud \
    -e MYSQL_PASSWORD=****** \
    -p 3307:3306 \
    --restart=always \
   -d mysql/mysql-server
</code></pre>
<ul>
<li><code>-e</code> &#x4EE3;&#x8868;&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF; <code>MYSQL_ROOT_PASSWORD</code> &#x662F;root&#x7528;&#x6237;&#x7684;&#x767B;&#x5F55;&#x5BC6;&#x7801;</li>
<li>&#x8FDB;&#x5165;mysql&#x5BB9;&#x5668;&#xFF0C;&#x5E76;&#x767B;&#x9646;mysql<pre><code>   docker exec -it mysql bash
   mysql -u root -p
</code></pre></li>
<li>&#x521B;&#x5EFA;&#x7528;&#x6237;&#xFF0C;&#x8D4B;&#x4E88;&#x6743;&#x9650;<pre><code>   Create user &apos;nextcloud&apos;@&apos;%&apos; identified by &apos;*******&apos;;
   grant all privileges on nextcloud.* to &apos;nextcloud&apos;@&apos;%&apos;;
</code></pre></li>
<li><p>&#x5F00;&#x542F;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;&#x6743;&#x9650;</p>
<pre><code>   use mysql;
   select host,user from user;
   alter user &apos;root&apos;@&apos;%&apos; identified with mysql_native_password by &apos;******&apos;; 
   flush privileges;
</code></pre><ul>
<li><p>&#x5F00;&#x673A;&#x542F;&#x52A8;</p>
<pre><code> sudo docker update mysql --restart=always
</code></pre></li>
</ul>
</li>
</ul>
<p>&#x6811;&#x8393;&#x6D3E;64&#x4F4D;&#x7CFB;&#x7EDF;&#x5B89;&#x88C5;nextcloud</p>
<pre><code>docker run -d --name nextcloud \
    -v /usr/local/src/appdata/nextcloud/data:/var/www/html \
    --link mysql:mysql \
    --restart=always \
    --privileged=true \
    -p 8888:80 arm64v8/nextcloud
</code></pre><ul>
<li>&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;<pre><code class="lang-shell">  mkdir /data/nextcloud/config
  sudo docker cp nextcloud:/var/www/html/config/config.sample.php  /data/nextcloud/config/config.sample.php
  sudo docker cp /data/nextcloud/config/config.php  nextcloud:/var/www/html/config/config.php
  nano /data/nextcloud/config/config.sample.php
</code></pre>
</li>
<li>&#x4FEE;&#x6539;<code>trusted_domains</code>&#x91CC;&#x7684;&#x503C;<pre><code class="lang-txt">  1 =&gt; preg_match(&apos;/cli/i&apos;,php_sapi_name())?&apos;127.0.0.1&apos;:$_SERVER[&apos;SERVER_NAME&apos;]
</code></pre>
</li>
<li>&#x5B89;&#x88C5;nextcloud&#x5BA2;&#x6237;&#x7AEF;<pre><code class="lang-shell">  apt install nextcloud-desktop-l10n nextcloud-desktop -y
</code></pre>
</li>
</ul>
<h3 id="&#x5B89;&#x88C5;&#x8FC5;&#x96F7;"><a name="&#x5B89;&#x88C5;&#x8FC5;&#x96F7;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;&#x8FC5;&#x96F7;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;&#x8FC5;&#x96F7;</h3>
<p>&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;2345</p>
<pre><code>docker run -d --name=xunlei --hostname=mynas --net=host \
    -v /usr/local/src/appdata/xunlei:/xunlei/data \
    -v /mnt/sda1/media/Movies:/xunlei/nas \
    -v /mnt/sda1/Public/Downloads:/xunlei/downloads \
    --restart=unless-stopped \
    --privileged \
registry.cn-shenzhen.aliyuncs.com/cnk3x/xunlei:latest
</code></pre><h3 id="&#x5B89;&#x88C5;alist"><a name="&#x5B89;&#x88C5;alist" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;alist"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;alist</h3>
<pre><code>docker run -d --restart=always \
    -v /usr/local/src/appdata/alist:/opt/alist/data \
    -v /mnt/sda1:/opt/alist/mnt \
    -p 5244:5244 \
    -e PUID=0 -e PGID=0 \
    -e UMASK=022 \
    --name=&quot;alist&quot; \
  xhofe/alist:latest
</code></pre><p>&#x5B89;&#x88C5;&#x540E;&#x67E5;&#x770B;&#x5BC6;&#x7801;</p>
<pre><code>docker exec -it alist ./alist admin
</code></pre><h3 id="photoprism&#x79C1;&#x4EBA;&#x76F8;&#x518C;"><a name="photoprism&#x79C1;&#x4EBA;&#x76F8;&#x518C;" class="anchor-navigation-ex-anchor" href="#photoprism&#x79C1;&#x4EBA;&#x76F8;&#x518C;"><i class="fa fa-link" aria-hidden="true"></i></a>photoprism&#x79C1;&#x4EBA;&#x76F8;&#x518C;</h3>
<pre><code>docker run -d --name photoprism \
 -e PHOTOPRISM_ADMIN_PASSWORD=******* \
 -p 2342:2342 \
 -v /usr/local/src/appdata/photoprism:/photoprism/storage \
 -v /mnt/sda1/media/Photos:/photoprism/originals \
 --restart unless-stopped \
photoprism/photoprism
</code></pre><h3 id="emby"><a name="emby" class="anchor-navigation-ex-anchor" href="#emby"><i class="fa fa-link" aria-hidden="true"></i></a>emby</h3>
<pre><code>docker run \
    --network=bridge \
    -p &apos;8097:8096&apos; \
    -v /usr/local/src/appdata/emby:/config \
    -v /mnt/sda1/media/:/data \
    -e TZ=&quot;Asia/Shanghai&quot; \
    --device /dev/dri:/dev/dri \
    -e UID=0 \
    -e GID=0 \
    -e GIDLIST=0 \
    --restart always \
    --name emby \
    -d lovechen/embyserver:latest
</code></pre><ul>
<li><code>1900</code>&#x4E0E;xteve&#x7AEF;&#x53E3;&#x51B2;&#x7A81;</li>
<li><code>8920</code>,<code>7359</code>&#x4E0E;jellyfin&#x51B2;&#x7A81;</li>
</ul>
<h3 id="jackett"><a name="jackett" class="anchor-navigation-ex-anchor" href="#jackett"><i class="fa fa-link" aria-hidden="true"></i></a>jackett</h3>
<pre><code>docker run -d \
  --name=jackett \
  -e PUID=0 \
  -e PGID=0 \
  -e TZ=Asia/Shanghai \
  -e AUTO_UPDATE=true `#optional` \
  -p 9117:9117 \
  -v /usr/local/src/appdata/jacket:/config \
  --restart unless-stopped \
  linuxserver/jackett:latest
</code></pre><h3 id="qbittorrent"><a name="qbittorrent" class="anchor-navigation-ex-anchor" href="#qbittorrent"><i class="fa fa-link" aria-hidden="true"></i></a>qbittorrent</h3>
<pre><code>docker run -d \
  --name=qbittorrent \
  -e PUID=$UID \
  -e PGID=$GID \
  -e TZ=Asia/Shanghai \
  -e WEBUI_PORT=8081 \
  -p 6881:6881 \
  -p 6881:6881/udp \
  -p 8081:8081 \
  -v /usr/local/src/appdata/qbittorrent/config:/etc/qBittorrent \
  -v /mnt/sda1/Public/Downloads:/downloads \
  --restart unless-stopped \
  linuxserver/qbittorrent:latest
</code></pre><h3 id="jellyfin"><a name="jellyfin" class="anchor-navigation-ex-anchor" href="#jellyfin"><i class="fa fa-link" aria-hidden="true"></i></a>jellyfin</h3>
<pre><code>docker run -d --name=jellyfin -p 8096:8096 \
    -p 8920:8920 -p 7359:7359/udp \
    -v /usr/local/src/appdata/jellyfin/config:/config \
    -v /mnt/sda1/media:/media \
    -v /mnt/sda1/cache:/cache  \
    -e TZ=Asia/Shanghai -e PUID=0 -e PGID=0 \
    --device=/dev/dri:/dev/dri \
    --restart unless-stopped \
    --add-host=api.themoviedb.org:13.224.161.90 \
    --add-host=api.themoviedb.org:13.35.8.65 \
    --add-host=api.themoviedb.org:13.35.8.93 \
    --add-host=api.themoviedb.org:13.35.8.6 \
    --add-host=api.themoviedb.org:13.35.8.54 \
    --add-host=image.tmdb.org:138.199.37.230 \
    --add-host=image.tmdb.org:108.138.246.49 \
    --add-host=api.thetvdb.org:13.225.89.239 \
    --add-host=api.thetvdb.org:192.241.234.54 \
jellyfin/jellyfin:latest
</code></pre><p>&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li><code>--add-host</code>&#x4E3A;&#x5BB9;&#x5668;&#x589E;&#x52A0; host &#x6307;&#x5411;&#xFF0C;&#x52A0;&#x901F;&#x6D77;&#x62A5;&#x4E0E;&#x5F71;&#x89C6;&#x5143;&#x6570;&#x636E;&#x7684;&#x641C;&#x522E;
  &#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x5BB9;&#x5668;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x5165;&#xFF1A;<pre><code>  echo 13.224.161.90 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 104.16.61.155 image.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.35.67.86 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 54.192.151.79 www.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.225.89.239 api.thetvdb.com &gt;&gt; /etc/hosts
  echo 13.249.175.212 api.thetvdb.com &gt;&gt; /etc/hosts
  echo 13.35.161.120 api.thetvdb.com &gt;&gt; /etc/hosts
  echo 13.226.238.76 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.35.7.102 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.225.103.26 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.226.191.85 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.225.103.110 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 52.85.79.89 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.225.41.40 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 13.226.251.88 api.themoviedb.org &gt;&gt; /etc/hosts
  echo 185.199.111.133 raw.github.com &gt;&gt; /etc/hosts
  echo 185.199.111.133 raw.githubusercontent.com &gt;&gt; /etc/hosts
  echo 140.82.114.4    github.com &gt;&gt; /etc/hosts
</code></pre></li>
<li>&#x5982;&#x679C;&#x4F7F;&#x7528; <code>linuxserver/jellyfin</code> &#x955C;&#x50CF;&#xFF0C;&#x5C31;&#x628A;&#x6700;&#x540E;&#x4E00;&#x884C;&#x66FF;&#x6362;&#x4E3A;&#x4E0B;&#x884C;<code>lscr.io/linuxserver/jellyfin:latest</code></li>
<li>&#x5982;&#x679C;&#x4F7F;&#x7528; <code>nyanmisaka/jellyfin</code>  &#x955C;&#x50CF;&#xFF0C;&#x6700;&#x628A;&#x6700;&#x540E;&#x4E00;&#x884C;&#x66FF;&#x6362;&#x4E3A;&#x4E0B;&#x884C;<code>nyanmisaka/jellyfin:latest</code> #arm&#x4E0D;&#x652F;&#x6301;</li>
<li>&#x4E0B;&#x8F7D;&#x5B57;&#x4F53;&#x6539;&#x540D;&#x540E;&#xFF0C;&#x5B57;&#x4F53;&#x66FF;&#x6362;<pre><code>  docker cp DejaVuSans-Bold.ttf  jellyfin:/usr/share/fonts/truetype/dejavu/
  docker cp DejaVuSansMono-Bold.ttf  jellyfin:/usr/share/fonts/truetype/dejavu/
  docker cp DejaVuSansMono.ttf  jellyfin:/usr/share/fonts/truetype/dejavu/
  docker cp DejaVuSans.ttf  jellyfin:/usr/share/fonts/truetype/dejavu/
  docker cp DejaVuSerif.ttf  jellyfin:/usr/share/fonts/truetype/dejavu/
  docker cp DejaVuSerif-Bold.ttf  jellyfin:/usr/share/fonts/truetype/dejavu/
</code></pre></li>
</ul>
<h2 id="&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;"><a name="&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;" class="anchor-navigation-ex-anchor" href="#&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;</h2>
<h3 id="docker-&#x4EE3;&#x7406;"><a name="docker-&#x4EE3;&#x7406;" class="anchor-navigation-ex-anchor" href="#docker-&#x4EE3;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>Docker &#x4EE3;&#x7406;</h3>
<p>&#x5728;&#x6267;&#x884C;docker pull&#x65F6;&#xFF0C;&#x662F;&#x7531;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;dockerd&#x6765;&#x6267;&#x884C;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4EE3;&#x7406;&#x9700;&#x8981;&#x914D;&#x5728;dockerd&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x3002;&#x800C;&#x8FD9;&#x4E2A;&#x73AF;&#x5883;&#xFF0C;&#x5219;&#x662F;&#x53D7;systemd&#x6240;&#x7BA1;&#x63A7;&#xFF0C;&#x56E0;&#x6B64;&#x5B9E;&#x9645;&#x662F;systemd&#x7684;&#x914D;&#x7F6E;&#x3002;</p>
<pre><code>sudo mkdir -p /etc/systemd/system/docker.service.d
sudo touch /etc/systemd/system/docker.service.d/proxy.conf
</code></pre><p>&#x5728;&#x8FD9;&#x4E2A;proxy.conf&#x6587;&#x4EF6;&#xFF08;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x610F;*.conf&#x7684;&#x5F62;&#x5F0F;&#xFF09;&#x4E2D;&#xFF0C;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code>[Service]
Environment=&quot;HTTP_PROXY=http://proxy.example.com:8080/&quot;
Environment=&quot;HTTPS_PROXY=http://proxy.example.com:8080/&quot;
Environment=&quot;NO_PROXY=localhost,127.0.0.1,.example.com&quot;
</code></pre><p>&#x5176;&#x4E2D;&#xFF0C;proxy.example.com:8080 &#x8981;&#x6362;&#x6210;&#x53EF;&#x7528;&#x7684;&#x514D;&#x5BC6;&#x4EE3;&#x7406;&#x3002;&#x901A;&#x5E38;&#x4F7F;&#x7528; cntlm &#x5728;&#x672C;&#x673A;&#x81EA;&#x5EFA;&#x514D;&#x5BC6;&#x4EE3;&#x7406;&#xFF0C;&#x53BB;&#x5BF9;&#x63A5;&#x516C;&#x53F8;&#x7684;&#x4EE3;&#x7406;&#x3002;&#x53EF;&#x53C2;&#x8003;&#x300A;Linux&#x4E0B;&#x5B89;&#x88C5;&#x914D;&#x7F6E;Cntlm &#x4EE3;&#x7406;&#x300B;&#x3002;</p>
<h3 id="container-&#x4EE3;&#x7406;"><a name="container-&#x4EE3;&#x7406;" class="anchor-navigation-ex-anchor" href="#container-&#x4EE3;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>Container &#x4EE3;&#x7406;</h3>
<p>&#x5728;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x9636;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4EE3;&#x7406;&#x4E0A;&#x7F51;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x914D;&#x7F6E; ~/.docker/config.json&#x3002;&#x4EE5;&#x4E0B;&#x914D;&#x7F6E;&#xFF0C;&#x53EA;&#x5728;Docker 17.07&#x53CA;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x751F;&#x6548;&#x3002;</p>
<pre><code>{
 &quot;proxies&quot;:
 {
   &quot;default&quot;:
   {
     &quot;httpProxy&quot;: &quot;http://proxy.example.com:8080&quot;,
     &quot;httpsProxy&quot;: &quot;http://proxy.example.com:8080&quot;,
     &quot;noProxy&quot;: &quot;localhost,127.0.0.1,.example.com&quot;
   }
 }
}
</code></pre><p>&#x8FD9;&#x4E2A;&#x662F;&#x7528;&#x6237;&#x7EA7;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x9664;&#x4E86; proxies&#xFF0C;docker login &#x7B49;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x4E5F;&#x4F1A;&#x5728;&#x5176;&#x4E2D;&#x3002;&#x800C;&#x4E14;&#x8FD8;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x7684;&#x683C;&#x5F0F;&#x3001;&#x63D2;&#x4EF6;&#x53C2;&#x6570;&#x7B49;&#x3002;</p>
<p>&#x6B64;&#x5916;&#xFF0C;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x4EE3;&#x7406;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x5176;&#x8FD0;&#x884C;&#x65F6;&#x901A;&#x8FC7; -e &#x6CE8;&#x5165; http_proxy &#x7B49;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x5206;&#x522B;&#x9002;&#x5408;&#x4E0D;&#x540C;&#x573A;&#x666F;&#x3002;config.json &#x975E;&#x5E38;&#x65B9;&#x4FBF;&#xFF0C;&#x9ED8;&#x8BA4;&#x5728;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x4FEE;&#x6539;&#x540E;&#x542F;&#x52A8;&#x7684;&#x5BB9;&#x5668;&#x751F;&#x6548;&#xFF0C;&#x9002;&#x5408;&#x4E2A;&#x4EBA;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x3002;&#x5728;CI/CD&#x7684;&#x81EA;&#x52A8;&#x6784;&#x5EFA;&#x73AF;&#x5883;&#x3001;&#x6216;&#x8005;&#x5B9E;&#x9645;&#x4E0A;&#x7EBF;&#x8FD0;&#x884C;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5C31;&#x4E0D;&#x592A;&#x5408;&#x9002;&#xFF0C;&#x7528; -e &#x6CE8;&#x5165;&#x8FD9;&#x79CD;&#x663E;&#x5F0F;&#x914D;&#x7F6E;&#x4F1A;&#x66F4;&#x597D;&#xFF0C;&#x51CF;&#x8F7B;&#x5BF9;&#x6784;&#x5EFA;&#x3001;&#x90E8;&#x7F72;&#x73AF;&#x5883;&#x7684;&#x4F9D;&#x8D56;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5728;&#x8FD9;&#x4E9B;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x6700;&#x597D;&#x7528;&#x826F;&#x597D;&#x7684;&#x8BBE;&#x8BA1;&#x907F;&#x514D;&#x914D;&#x7F6E;&#x4EE3;&#x7406;&#x4E0A;&#x7F51;&#x3002;</p>
<h3 id="docker-build-&#x4EE3;&#x7406;"><a name="docker-build-&#x4EE3;&#x7406;" class="anchor-navigation-ex-anchor" href="#docker-build-&#x4EE3;&#x7406;"><i class="fa fa-link" aria-hidden="true"></i></a>Docker Build &#x4EE3;&#x7406;</h3>
<p>&#x867D;&#x7136; docker build &#x7684;&#x672C;&#x8D28;&#xFF0C;&#x4E5F;&#x662F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x73AF;&#x5883;&#x4F1A;&#x7565;&#x6709;&#x4E0D;&#x540C;&#xFF0C;&#x7528;&#x6237;&#x7EA7;&#x914D;&#x7F6E;&#x65E0;&#x6548;&#x3002;&#x5728;&#x6784;&#x5EFA;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x5165; http_proxy &#x7B49;&#x53C2;&#x6570;&#x3002;</p>
<pre><code>docker build . \
    --build-arg &quot;HTTP_PROXY=http://proxy.example.com:8080/&quot; \
    --build-arg &quot;HTTPS_PROXY=http://proxy.example.com:8080/&quot; \
    --build-arg &quot;NO_PROXY=localhost,127.0.0.1,.example.com&quot; \
    -t your/image:tag
</code></pre><ul>
<li>&#x6CE8;&#x610F;&#xFF1A;<ul>
<li>&#x65E0;&#x8BBA;&#x662F; docker run &#x8FD8;&#x662F; docker build&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x7F51;&#x7EDC;&#x9694;&#x7EDD;&#x7684;&#x3002;&#x5982;&#x679C;&#x4EE3;&#x7406;&#x4F7F;&#x7528;&#x7684;&#x662F; localhost:3128 &#x8FD9;&#x7C7B;&#xFF0C;&#x5219;&#x4F1A;&#x65E0;&#x6548;&#x3002;&#x8FD9;&#x7C7B;&#x4EC5;&#x9650;&#x672C;&#x5730;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x5FC5;&#x987B;&#x52A0;&#x4E0A; --network host &#x624D;&#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528;&#x3002;&#x800C;&#x4E00;&#x822C;&#x5219;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4EE3;&#x7406;&#x7684;&#x5916;&#x90E8;IP&#xFF0C;&#x800C;&#x4E14;&#x4EE3;&#x7406;&#x672C;&#x8EAB;&#x8981;&#x5F00;&#x542F; Gateway &#x6A21;&#x5F0F;&#x3002;</li>
<li>docker build &#x4EE3;&#x7406;&#x662F;&#x5728;&#x6267;&#x884C;&#x524D;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4FEE;&#x6539;&#x540E;&#xFF0C;&#x4E0B;&#x6B21;&#x6267;&#x884C;&#x7ACB;&#x5373;&#x751F;&#x6548;&#x3002;Container &#x4EE3;&#x7406;&#x7684;&#x4FEE;&#x6539;&#x4E5F;&#x662F;&#x7ACB;&#x5373;&#x751F;&#x6548;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x53EA;&#x9488;&#x5BF9;&#x4EE5;&#x540E;&#x542F;&#x52A8;&#x7684; Container&#xFF0C;&#x5BF9;&#x5DF2;&#x7ECF;&#x542F;&#x52A8;&#x7684; Container &#x65E0;&#x6548;&#x3002;</li>
</ul>
</li>
</ul>
<h3 id="&#x91CD;&#x542F;&#x751F;&#x6548;&#x914D;&#x7F6E;"><a name="&#x91CD;&#x542F;&#x751F;&#x6548;&#x914D;&#x7F6E;" class="anchor-navigation-ex-anchor" href="#&#x91CD;&#x542F;&#x751F;&#x6548;&#x914D;&#x7F6E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x91CD;&#x542F;&#x751F;&#x6548;&#x914D;&#x7F6E;</h3>
<p>dockerd &#x4EE3;&#x7406;&#x7684;&#x4FEE;&#x6539;&#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#xFF0C;&#x5B83;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x6539; systemd &#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x91CD;&#x8F7D; systemd &#x5E76;&#x91CD;&#x542F; dockerd &#x624D;&#x80FD;&#x751F;&#x6548;&#x3002;</p>
<pre><code>sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="linux.html" class="navigation navigation-prev " aria-label="Previous page: Linux">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="c.html" class="navigation navigation-next " aria-label="Next page: C语言">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Docker","level":"2.7","depth":1,"next":{"title":"C语言","level":"2.8","depth":1,"path":"notes/c.md","ref":"notes/c.md","articles":[]},"previous":{"title":"Linux","level":"2.6","depth":1,"path":"notes/linux.md","ref":"notes/linux.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","-sharing","-livereload","edit-link@^2.0.2","my-toolbar","hide-element","donate","theme-comscore","chart@^0.2.0","popup","code","image-captions","flexible-alerts","ace@^0.3.2","favicon-absolute","splitter","expandable-chapters","katex","anchor-navigation-ex"],"root":".","styles":{"website":"styles/style.css"},"pluginsConfig":{"ace":{},"splitter":{},"search-pro":{},"popup":{},"code":{"copyButtons":true},"donate":{"alipay":"","alipayText":"支付宝打赏","button":"打赏","title":"","wechat":"/assets/images/wechat_pay.jpg","wechatText":"微信扫码"},"favicon-absolute":{"adsense":"ca-pub-7787441319194104","appleTouchIconMore":{},"appleTouchIconPrecomposed152":"/assets/images/apple-touch-icon-152.png","appleTouchIconPrecomposedMore":{},"favicon":"/assets/images/favicon.ico"},"hide-element":{"elements":[".gitbook-link"]},"katex":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"theme-comscore":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":"Attention"},"note":{"className":"info","icon":"fa fa-info-circle","label":"Note"},"style":"callout","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":"Tip"},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":"Warning"}},"my-toolbar":{"buttons":[{"label":"","icon":"fa fa-file-pdf-o","url":"/book.pdf","position":"left","text":"下载PDF","target":"_blank"},{"label":"","icon":"fa fa-home","url":"/home","position":"right","text":"导航","target":"_blank"}]},"edit-link":{"label":"Edit This Page","base":"https://github.com/wsj0051/wsj0051.github.io/edit/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"chart":{"type":"c3"},"expandable-chapters":{},"image-captions":{"caption":"图 - _CAPTION_","variable_name":"_pictures"}},"theme":"default","author":"wsj0051","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"home.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"wsj0051":"wsj0051","_pictures":[{"backlink":"notes/html5.html#fig2.1.1","level":"2.1","list_caption":"Figure: 矩形","alt":"矩形","nro":1,"url":"assets/1526470782861.png","index":1,"caption_template":"图 - _CAPTION_","label":"矩形","attributes":{},"skip":false,"key":"2.1.1"},{"backlink":"other/raspberry.html#fig3.5.1","level":"3.5","list_caption":"Figure: 树莓派ttl端口","alt":"树莓派ttl端口","nro":2,"url":"../../assets/images/raspttl.png","index":1,"caption_template":"图 - _CAPTION_","label":"树莓派ttl端口","attributes":{},"skip":false,"key":"3.5.1"}]},"title":"wsj0051的个人笔记","language":"zh-hans","links":{"sidebar":{"导航":"/home"}},"gitbook":"3.2.3","description":"个人笔记"},"file":{"path":"notes/docker.md","mtime":"2024-09-14T09:21:32.941Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2024-09-14T09:22:17.511Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-my-toolbar/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-comscore/test.js"></script>
        
    

    </body>
</html>

